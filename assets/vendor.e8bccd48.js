var nL=Object.defineProperty,rL=Object.defineProperties;var iL=Object.getOwnPropertyDescriptors;var jd=Object.getOwnPropertySymbols;var Tw=Object.prototype.hasOwnProperty,Cw=Object.prototype.propertyIsEnumerable;var Aw=(n,e,t)=>e in n?nL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Te=(n,e)=>{for(var t in e||(e={}))Tw.call(e,t)&&Aw(n,t,e[t]);if(jd)for(var t of jd(e))Cw.call(e,t)&&Aw(n,t,e[t]);return n},gt=(n,e)=>rL(n,iL(e));var Nt=(n,e)=>{var t={};for(var r in n)Tw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&jd)for(var r of jd(n))e.indexOf(r)<0&&Cw.call(n,r)&&(t[r]=n[r]);return t};function oL(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(n)}var L={exports:{}},Et={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Rw=Object.getOwnPropertySymbols,sL=Object.prototype.hasOwnProperty,aL=Object.prototype.propertyIsEnumerable;function lL(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function uL(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Zg=uL()?Object.assign:function(n,e){for(var t,r=lL(n),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)sL.call(t,s)&&(r[s]=t[s]);if(Rw){i=Rw(t);for(var a=0;a<i.length;a++)aL.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=Zg,Ua=60103,Pw=60106;Et.Fragment=60107;Et.StrictMode=60108;Et.Profiler=60114;var Lw=60109,Iw=60110,Dw=60112;Et.Suspense=60113;var kw=60115,Ow=60116;if(typeof Symbol=="function"&&Symbol.for){var Zr=Symbol.for;Ua=Zr("react.element"),Pw=Zr("react.portal"),Et.Fragment=Zr("react.fragment"),Et.StrictMode=Zr("react.strict_mode"),Et.Profiler=Zr("react.profiler"),Lw=Zr("react.provider"),Iw=Zr("react.context"),Dw=Zr("react.forward_ref"),Et.Suspense=Zr("react.suspense"),kw=Zr("react.memo"),Ow=Zr("react.lazy")}var Nw=typeof Symbol=="function"&&Symbol.iterator;function cL(n){return n===null||typeof n!="object"?null:(n=Nw&&n[Nw]||n["@@iterator"],typeof n=="function"?n:null)}function $u(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fw={};function Ha(n,e,t){this.props=n,this.context=e,this.refs=Fw,this.updater=t||zw}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error($u(85));this.updater.enqueueSetState(this,n,e,"setState")};Ha.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Bw(){}Bw.prototype=Ha.prototype;function Jg(n,e,t){this.props=n,this.context=e,this.refs=Fw,this.updater=t||zw}var Kg=Jg.prototype=new Bw;Kg.constructor=Jg;Qg(Kg,Ha.prototype);Kg.isPureReactComponent=!0;var e0={current:null},Uw=Object.prototype.hasOwnProperty,Hw={key:!0,ref:!0,__self:!0,__source:!0};function Vw(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Uw.call(e,r)&&!Hw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ua,type:n,key:o,ref:s,props:i,_owner:e0.current}}function fL(n,e){return{$$typeof:Ua,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function t0(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ua}function dL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Gw=/\/+/g;function n0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?dL(""+n.key):e.toString(36)}function qd(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Ua:case Pw:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+n0(s,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(Gw,"$&/")+"/"),qd(i,e,t,"",function(f){return f})):i!=null&&(t0(i)&&(i=fL(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gw,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+n0(o,a);s+=qd(o,e,t,l,i)}else if(l=cL(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+n0(o,a++),s+=qd(o,e,t,l,i);else if(o==="object")throw e=""+n,Error($u(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return s}function Xd(n,e,t){if(n==null)return n;var r=[],i=0;return qd(n,r,"","",function(o){return e.call(t,o,i++)}),r}function hL(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var Ww={current:null};function Hi(){var n=Ww.current;if(n===null)throw Error($u(321));return n}var pL={ReactCurrentDispatcher:Ww,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:e0,IsSomeRendererActing:{current:!1},assign:Qg};Et.Children={map:Xd,forEach:function(n,e,t){Xd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Xd(n,function(){e++}),e},toArray:function(n){return Xd(n,function(e){return e})||[]},only:function(n){if(!t0(n))throw Error($u(143));return n}};Et.Component=Ha;Et.PureComponent=Jg;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;Et.cloneElement=function(n,e,t){if(n==null)throw Error($u(267,n));var r=Qg({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=e0.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Uw.call(e,l)&&!Hw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:Ua,type:n.type,key:i,ref:o,props:r,_owner:s}};Et.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:Iw,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:Lw,_context:n},n.Consumer=n};Et.createElement=Vw;Et.createFactory=function(n){var e=Vw.bind(null,n);return e.type=n,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(n){return{$$typeof:Dw,render:n}};Et.isValidElement=t0;Et.lazy=function(n){return{$$typeof:Ow,_payload:{_status:-1,_result:n},_init:hL}};Et.memo=function(n,e){return{$$typeof:kw,type:n,compare:e===void 0?null:e}};Et.useCallback=function(n,e){return Hi().useCallback(n,e)};Et.useContext=function(n,e){return Hi().useContext(n,e)};Et.useDebugValue=function(){};Et.useEffect=function(n,e){return Hi().useEffect(n,e)};Et.useImperativeHandle=function(n,e,t){return Hi().useImperativeHandle(n,e,t)};Et.useLayoutEffect=function(n,e){return Hi().useLayoutEffect(n,e)};Et.useMemo=function(n,e){return Hi().useMemo(n,e)};Et.useReducer=function(n,e,t){return Hi().useReducer(n,e,t)};Et.useRef=function(n){return Hi().useRef(n)};Et.useState=function(n){return Hi().useState(n)};Et.version="17.0.2";L.exports=Et;var ft=L.exports,mL=Object.freeze(oL({__proto__:null,[Symbol.toStringTag]:"Module",default:ft},[L.exports])),$w={exports:{}},zr={},Va={exports:{}},jw={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,f=null,h=function(){if(l!==null)try{var V=n.unstable_now();l(!0,V),l=null}catch(te){throw setTimeout(h,0),te}};e=function(V){l!==null?setTimeout(e,0,V):(l=V,setTimeout(h,0))},t=function(V,te){f=setTimeout(V,te)},r=function(){clearTimeout(f)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if(typeof console!="undefined"){var m=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof m!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,_=null,w=-1,y=5,v=0;n.unstable_shouldYield=function(){return n.unstable_now()>=v},i=function(){},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<V?Math.floor(1e3/V):5};var S=new MessageChannel,M=S.port2;S.port1.onmessage=function(){if(_!==null){var V=n.unstable_now();v=V+y;try{_(!0,V)?M.postMessage(null):(x=!1,_=null)}catch(te){throw M.postMessage(null),te}}else x=!1},e=function(V){_=V,x||(x=!0,M.postMessage(null))},t=function(V,te){w=p(function(){V(n.unstable_now())},te)},r=function(){d(w),w=-1}}function C(V,te){var ie=V.length;V.push(te);e:for(;;){var ye=ie-1>>>1,Be=V[ye];if(Be!==void 0&&0<P(Be,te))V[ye]=te,V[ie]=Be,ie=ye;else break e}}function A(V){return V=V[0],V===void 0?null:V}function T(V){var te=V[0];if(te!==void 0){var ie=V.pop();if(ie!==te){V[0]=ie;e:for(var ye=0,Be=V.length;ye<Be;){var ce=2*(ye+1)-1,We=V[ce],Fe=ce+1,Re=V[Fe];if(We!==void 0&&0>P(We,ie))Re!==void 0&&0>P(Re,We)?(V[ye]=Re,V[Fe]=ie,ye=Fe):(V[ye]=We,V[ce]=ie,ye=ce);else if(Re!==void 0&&0>P(Re,ie))V[ye]=Re,V[Fe]=ie,ye=Fe;else break e}}return te}return null}function P(V,te){var ie=V.sortIndex-te.sortIndex;return ie!==0?ie:V.id-te.id}var k=[],F=[],D=1,U=null,H=3,W=!1,$=!1,q=!1;function Z(V){for(var te=A(F);te!==null;){if(te.callback===null)T(F);else if(te.startTime<=V)T(F),te.sortIndex=te.expirationTime,C(k,te);else break;te=A(F)}}function de(V){if(q=!1,Z(V),!$)if(A(k)!==null)$=!0,e(Me);else{var te=A(F);te!==null&&t(de,te.startTime-V)}}function Me(V,te){$=!1,q&&(q=!1,r()),W=!0;var ie=H;try{for(Z(te),U=A(k);U!==null&&(!(U.expirationTime>te)||V&&!n.unstable_shouldYield());){var ye=U.callback;if(typeof ye=="function"){U.callback=null,H=U.priorityLevel;var Be=ye(U.expirationTime<=te);te=n.unstable_now(),typeof Be=="function"?U.callback=Be:U===A(k)&&T(k),Z(te)}else T(k);U=A(k)}if(U!==null)var ce=!0;else{var We=A(F);We!==null&&t(de,We.startTime-te),ce=!1}return ce}finally{U=null,H=ie,W=!1}}var ue=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){$||W||($=!0,e(Me))},n.unstable_getCurrentPriorityLevel=function(){return H},n.unstable_getFirstCallbackNode=function(){return A(k)},n.unstable_next=function(V){switch(H){case 1:case 2:case 3:var te=3;break;default:te=H}var ie=H;H=te;try{return V()}finally{H=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=ue,n.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=H;H=V;try{return te()}finally{H=ie}},n.unstable_scheduleCallback=function(V,te,ie){var ye=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,V){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=ie+Be,V={id:D++,callback:te,priorityLevel:V,startTime:ie,expirationTime:Be,sortIndex:-1},ie>ye?(V.sortIndex=ie,C(F,V),A(k)===null&&V===A(F)&&(q?r():q=!0,t(de,ie-ye))):(V.sortIndex=Be,C(k,V),$||W||($=!0,e(Me))),V},n.unstable_wrapCallback=function(V){var te=H;return function(){var ie=H;H=te;try{return V.apply(this,arguments)}finally{H=ie}}}})(jw);Va.exports=jw;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=L.exports,Xt=Zg,bn=Va.exports;function Se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Yd)throw Error(Se(227));var qw=new Set,ju={};function vs(n,e){Ga(n,e),Ga(n+"Capture",e)}function Ga(n,e){for(ju[n]=e,n=0;n<e.length;n++)qw.add(e[n])}var Vi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),gL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xw=Object.prototype.hasOwnProperty,Yw={},Zw={};function vL(n){return Xw.call(Zw,n)?!0:Xw.call(Yw,n)?!1:gL.test(n)?Zw[n]=!0:(Yw[n]=!0,!1)}function yL(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function xL(n,e,t,r){if(e===null||typeof e=="undefined"||yL(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){On[n]=new tr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];On[e]=new tr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){On[n]=new tr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){On[n]=new tr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){On[n]=new tr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){On[n]=new tr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){On[n]=new tr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){On[n]=new tr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){On[n]=new tr(n,5,!1,n.toLowerCase(),null,!1,!1)});var r0=/[\-:]([a-z])/g;function i0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(r0,i0);On[e]=new tr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(r0,i0);On[e]=new tr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(r0,i0);On[e]=new tr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){On[n]=new tr(n,1,!1,n.toLowerCase(),null,!1,!1)});On.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){On[n]=new tr(n,1,!1,n.toLowerCase(),null,!0,!0)});function o0(n,e,t,r){var i=On.hasOwnProperty(e)?On[e]:null,o=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(xL(e,t,i,r)&&(t=null),r||i===null?vL(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var ys=Yd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=60103,xs=60106,Eo=60107,s0=60108,Xu=60114,a0=60109,l0=60110,Zd=60112,Yu=60113,Qd=60120,Jd=60115,u0=60116,c0=60121,f0=60128,Qw=60129,d0=60130,h0=60131;if(typeof Symbol=="function"&&Symbol.for){var En=Symbol.for;qu=En("react.element"),xs=En("react.portal"),Eo=En("react.fragment"),s0=En("react.strict_mode"),Xu=En("react.profiler"),a0=En("react.provider"),l0=En("react.context"),Zd=En("react.forward_ref"),Yu=En("react.suspense"),Qd=En("react.suspense_list"),Jd=En("react.memo"),u0=En("react.lazy"),c0=En("react.block"),En("react.scope"),f0=En("react.opaque.id"),Qw=En("react.debug_trace_mode"),d0=En("react.offscreen"),h0=En("react.legacy_hidden")}var Jw=typeof Symbol=="function"&&Symbol.iterator;function Zu(n){return n===null||typeof n!="object"?null:(n=Jw&&n[Jw]||n["@@iterator"],typeof n=="function"?n:null)}var p0;function Qu(n){if(p0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);p0=e&&e[1]||""}return`
`+p0+n}var m0=!1;function Kd(n,e){if(!n||m0)return"";m0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{m0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qu(n):""}function _L(n){switch(n.tag){case 5:return Qu(n.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return n=Kd(n.type,!1),n;case 11:return n=Kd(n.type.render,!1),n;case 22:return n=Kd(n.type._render,!1),n;case 1:return n=Kd(n.type,!0),n;default:return""}}function Wa(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Eo:return"Fragment";case xs:return"Portal";case Xu:return"Profiler";case s0:return"StrictMode";case Yu:return"Suspense";case Qd:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case l0:return(n.displayName||"Context")+".Consumer";case a0:return(n._context.displayName||"Context")+".Provider";case Zd:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Jd:return Wa(n.type);case c0:return Wa(n._render);case u0:e=n._payload,n=n._init;try{return Wa(n(e))}catch{}}return null}function To(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function Kw(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wL(n){var e=Kw(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function eh(n){n._valueTracker||(n._valueTracker=wL(n))}function eS(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Kw(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function th(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function g0(n,e){var t=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function tS(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=To(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nS(n,e){e=e.checked,e!=null&&o0(n,"checked",e,!1)}function v0(n,e){nS(n,e);var t=To(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?y0(n,e.type,t):e.hasOwnProperty("defaultValue")&&y0(n,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function rS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function y0(n,e,t){(e!=="number"||th(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function SL(n){var e="";return Yd.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function x0(n,e){return n=Xt({children:void 0},e),(e=SL(e.children))&&(n.children=e),n}function $a(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+To(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function _0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Se(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(Se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:To(t)}}function oS(n,e){var t=To(e.value),r=To(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function sS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var w0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function aS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?aS(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var nh,lS=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==w0.svg||"innerHTML"in n)n.innerHTML=e;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ju(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ku={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ML=["Webkit","ms","Moz","O"];Object.keys(Ku).forEach(function(n){ML.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ku[e]=Ku[n]})});function uS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ku.hasOwnProperty(n)&&Ku[n]?(""+e).trim():e+"px"}function cS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=uS(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var bL=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M0(n,e){if(e){if(bL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function b0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function E0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var T0=null,ja=null,qa=null;function fS(n){if(n=yc(n)){if(typeof T0!="function")throw Error(Se(280));var e=n.stateNode;e&&(e=_h(e),T0(n.stateNode,n.type,e))}}function dS(n){ja?qa?qa.push(n):qa=[n]:ja=n}function hS(){if(ja){var n=ja,e=qa;if(qa=ja=null,fS(n),e)for(n=0;n<e.length;n++)fS(e[n])}}function C0(n,e){return n(e)}function pS(n,e,t,r,i){return n(e,t,r,i)}function A0(){}var mS=C0,_s=!1,R0=!1;function P0(){(ja!==null||qa!==null)&&(A0(),hS())}function EL(n,e,t){if(R0)return n(e,t);R0=!0;try{return mS(n,e,t)}finally{R0=!1,P0()}}function ec(n,e){var t=n.stateNode;if(t===null)return null;var r=_h(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Se(231,e,typeof t));return t}var L0=!1;if(Vi)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){L0=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{L0=!1}function TL(n,e,t,r,i,o,s,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(h){this.onError(h)}}var nc=!1,rh=null,ih=!1,I0=null,CL={onError:function(n){nc=!0,rh=n}};function AL(n,e,t,r,i,o,s,a,l){nc=!1,rh=null,TL.apply(CL,arguments)}function RL(n,e,t,r,i,o,s,a,l){if(AL.apply(this,arguments),nc){if(nc){var f=rh;nc=!1,rh=null}else throw Error(Se(198));ih||(ih=!0,I0=f)}}function ws(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gS(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function vS(n){if(ws(n)!==n)throw Error(Se(188))}function PL(n){var e=n.alternate;if(!e){if(e=ws(n),e===null)throw Error(Se(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return vS(i),n;if(o===r)return vS(i),e;o=o.sibling}throw Error(Se(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(Se(189))}}if(t.alternate!==r)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?n:e}function yS(n){if(n=PL(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function xS(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var _S,D0,wS,SS,k0=!1,pi=[],Co=null,Ao=null,Ro=null,rc=new Map,ic=new Map,oc=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O0(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function bS(n,e){switch(n){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(e.pointerId)}}function sc(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n=O0(e,t,r,i,o),e!==null&&(e=yc(e),e!==null&&D0(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function LL(n,e,t,r,i){switch(e){case"focusin":return Co=sc(Co,n,e,t,r,i),!0;case"dragenter":return Ao=sc(Ao,n,e,t,r,i),!0;case"mouseover":return Ro=sc(Ro,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return rc.set(o,sc(rc.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ic.set(o,sc(ic.get(o)||null,n,e,t,r,i)),!0}return!1}function IL(n){var e=Ss(n.target);if(e!==null){var t=ws(e);if(t!==null){if(e=t.tag,e===13){if(e=gS(t),e!==null){n.blockedOn=e,SS(n.lanePriority,function(){bn.unstable_runWithPriority(n.priority,function(){wS(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oh(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=H0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=yc(t),e!==null&&D0(e),n.blockedOn=t,!1;e.shift()}return!0}function ES(n,e,t){oh(n)&&t.delete(e)}function DL(){for(k0=!1;0<pi.length;){var n=pi[0];if(n.blockedOn!==null){n=yc(n.blockedOn),n!==null&&_S(n);break}for(var e=n.targetContainers;0<e.length;){var t=H0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&pi.shift()}Co!==null&&oh(Co)&&(Co=null),Ao!==null&&oh(Ao)&&(Ao=null),Ro!==null&&oh(Ro)&&(Ro=null),rc.forEach(ES),ic.forEach(ES)}function ac(n,e){n.blockedOn===e&&(n.blockedOn=null,k0||(k0=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,DL)))}function TS(n){function e(i){return ac(i,n)}if(0<pi.length){ac(pi[0],n);for(var t=1;t<pi.length;t++){var r=pi[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Co!==null&&ac(Co,n),Ao!==null&&ac(Ao,n),Ro!==null&&ac(Ro,n),rc.forEach(e),ic.forEach(e),t=0;t<oc.length;t++)r=oc[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<oc.length&&(t=oc[0],t.blockedOn===null);)IL(t),t.blockedOn===null&&oc.shift()}function sh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Xa={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},N0={},CS={};Vi&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ah(n){if(N0[n])return N0[n];if(!Xa[n])return n;var e=Xa[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in CS)return N0[n]=e[t];return n}var AS=ah("animationend"),RS=ah("animationiteration"),PS=ah("animationstart"),LS=ah("transitionend"),IS=new Map,z0=new Map,kL=["abort","abort",AS,"animationEnd",RS,"animationIteration",PS,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",LS,"transitionEnd","waiting","waiting"];function F0(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),z0.set(r,e),IS.set(r,i),vs(i,[r])}}var OL=bn.unstable_now;OL();var Ut=8;function Ya(n){if((1&n)!=0)return Ut=15,1;if((2&n)!=0)return Ut=14,2;if((4&n)!=0)return Ut=13,4;var e=24&n;return e!==0?(Ut=12,e):(n&32)!=0?(Ut=11,32):(e=192&n,e!==0?(Ut=10,e):(n&256)!=0?(Ut=9,256):(e=3584&n,e!==0?(Ut=8,e):(n&4096)!=0?(Ut=7,4096):(e=4186112&n,e!==0?(Ut=6,e):(e=62914560&n,e!==0?(Ut=5,e):n&67108864?(Ut=4,67108864):(n&134217728)!=0?(Ut=3,134217728):(e=805306368&n,e!==0?(Ut=2,e):(1073741824&n)!=0?(Ut=1,1073741824):(Ut=8,n))))))}function NL(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function zL(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Se(358,n))}}function lc(n,e){var t=n.pendingLanes;if(t===0)return Ut=0;var r=0,i=0,o=n.expiredLanes,s=n.suspendedLanes,a=n.pingedLanes;if(o!==0)r=o,i=Ut=15;else if(o=t&134217727,o!==0){var l=o&~s;l!==0?(r=Ya(l),i=Ut):(a&=o,a!==0&&(r=Ya(a),i=Ut))}else o=t&~s,o!==0?(r=Ya(o),i=Ut):a!==0&&(r=Ya(a),i=Ut);if(r===0)return 0;if(r=31-Po(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&s)==0){if(Ya(e),i<=Ut)return e;Ut=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Po(e),i=1<<t,r|=n[t],e&=~i;return r}function DS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lh(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Za(24&~e),n===0?lh(10,e):n;case 10:return n=Za(192&~e),n===0?lh(8,e):n;case 8:return n=Za(3584&~e),n===0&&(n=Za(4186112&~e),n===0&&(n=512)),n;case 2:return e=Za(805306368&~e),e===0&&(e=268435456),e}throw Error(Se(358,n))}function Za(n){return n&-n}function B0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function uh(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-Po(e),n[e]=t}var Po=Math.clz32?Math.clz32:UL,FL=Math.log,BL=Math.LN2;function UL(n){return n===0?32:31-(FL(n)/BL|0)|0}var HL=bn.unstable_UserBlockingPriority,VL=bn.unstable_runWithPriority,ch=!0;function GL(n,e,t,r){_s||A0();var i=U0,o=_s;_s=!0;try{pS(i,n,e,t,r)}finally{(_s=o)||P0()}}function WL(n,e,t,r){VL(HL,U0.bind(null,n,e,t,r))}function U0(n,e,t,r){if(ch){var i;if((i=(e&4)==0)&&0<pi.length&&-1<MS.indexOf(n))n=O0(null,n,e,t,r),pi.push(n);else{var o=H0(n,e,t,r);if(o===null)i&&bS(n,r);else{if(i){if(-1<MS.indexOf(n)){n=O0(o,n,e,t,r),pi.push(n);return}if(LL(o,n,e,t,r))return;bS(n,r)}uM(n,e,r,null,t)}}}}function H0(n,e,t,r){var i=E0(r);if(i=Ss(i),i!==null){var o=ws(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=gS(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return uM(n,e,r,i,t),null}var Lo=null,V0=null,fh=null;function kS(){if(fh)return fh;var n,e=V0,t=e.length,r,i="value"in Lo?Lo.value:Lo.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return fh=i.slice(n,1<r?1-r:void 0)}function dh(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function hh(){return!0}function OS(){return!1}function br(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hh:OS,this.isPropagationStopped=OS,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=br(Qa),uc=Xt({},Qa,{view:0,detail:0}),$L=br(uc),W0,$0,cc,ph=Xt({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cc&&(cc&&n.type==="mousemove"?(W0=n.screenX-cc.screenX,$0=n.screenY-cc.screenY):$0=W0=0,cc=n),W0)},movementY:function(n){return"movementY"in n?n.movementY:$0}}),NS=br(ph),jL=Xt({},ph,{dataTransfer:0}),qL=br(jL),XL=Xt({},uc,{relatedTarget:0}),j0=br(XL),YL=Xt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),ZL=br(YL),QL=Xt({},Qa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),JL=br(QL),KL=Xt({},Qa,{data:0}),zS=br(KL),eI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rI(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=nI[n])?!!e[n]:!1}function q0(){return rI}var iI=Xt({},uc,{key:function(n){if(n.key){var e=eI[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=dh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tI[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q0,charCode:function(n){return n.type==="keypress"?dh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oI=br(iI),sI=Xt({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FS=br(sI),aI=Xt({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q0}),lI=br(aI),uI=Xt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cI=br(uI),fI=Xt({},ph,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),dI=br(fI),hI=[9,13,27,32],X0=Vi&&"CompositionEvent"in window,fc=null;Vi&&"documentMode"in document&&(fc=document.documentMode);var pI=Vi&&"TextEvent"in window&&!fc,BS=Vi&&(!X0||fc&&8<fc&&11>=fc),US=String.fromCharCode(32),HS=!1;function VS(n,e){switch(n){case"keyup":return hI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ja=!1;function mI(n,e){switch(n){case"compositionend":return GS(e);case"keypress":return e.which!==32?null:(HS=!0,US);case"textInput":return n=e.data,n===US&&HS?null:n;default:return null}}function gI(n,e){if(Ja)return n==="compositionend"||!X0&&VS(n,e)?(n=kS(),fh=V0=Lo=null,Ja=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BS&&e.locale!=="ko"?null:e.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!vI[n.type]:e==="textarea"}function $S(n,e,t,r){dS(r),e=gh(e,"onChange"),0<e.length&&(t=new G0("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var dc=null,hc=null;function yI(n){iM(n,0)}function mh(n){var e=rl(n);if(eS(e))return n}function xI(n,e){if(n==="change")return e}var jS=!1;if(Vi){var Y0;if(Vi){var Z0="oninput"in document;if(!Z0){var qS=document.createElement("div");qS.setAttribute("oninput","return;"),Z0=typeof qS.oninput=="function"}Y0=Z0}else Y0=!1;jS=Y0&&(!document.documentMode||9<document.documentMode)}function XS(){dc&&(dc.detachEvent("onpropertychange",YS),hc=dc=null)}function YS(n){if(n.propertyName==="value"&&mh(hc)){var e=[];if($S(e,hc,n,E0(n)),n=yI,_s)n(e);else{_s=!0;try{C0(n,e)}finally{_s=!1,P0()}}}}function _I(n,e,t){n==="focusin"?(XS(),dc=e,hc=t,dc.attachEvent("onpropertychange",YS)):n==="focusout"&&XS()}function wI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mh(hc)}function SI(n,e){if(n==="click")return mh(e)}function MI(n,e){if(n==="input"||n==="change")return mh(e)}function bI(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Fr=typeof Object.is=="function"?Object.is:bI,EI=Object.prototype.hasOwnProperty;function pc(n,e){if(Fr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!EI.call(e,t[r])||!Fr(n[t[r]],e[t[r]]))return!1;return!0}function ZS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function QS(n,e){var t=ZS(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ZS(t)}}function JS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?JS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function KS(){for(var n=window,e=th();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=th(n.document)}return e}function Q0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var TI=Vi&&"documentMode"in document&&11>=document.documentMode,Ka=null,J0=null,mc=null,K0=!1;function eM(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;K0||Ka==null||Ka!==th(r)||(r=Ka,"selectionStart"in r&&Q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mc&&pc(mc,r)||(mc=r,r=gh(J0,"onSelect"),0<r.length&&(e=new G0("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ka)))}F0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);F0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);F0(kL,2);for(var tM="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ev=0;ev<tM.length;ev++)z0.set(tM[ev],0);Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nM=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function rM(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,RL(r,e,void 0,n),n.currentTarget=null}function iM(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;rM(i,a,f),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,f=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;rM(i,a,f),o=l}}}if(ih)throw n=I0,ih=!1,I0=null,n}function Vt(n,e){var t=mM(e),r=n+"__bubble";t.has(r)||(lM(e,n,2,!1),t.add(r))}var oM="_reactListening"+Math.random().toString(36).slice(2);function sM(n){n[oM]||(n[oM]=!0,qw.forEach(function(e){nM.has(e)||aM(e,!1,n,null),aM(e,!0,n,null)}))}function aM(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=t;if(n==="selectionchange"&&t.nodeType!==9&&(o=t.ownerDocument),r!==null&&!e&&nM.has(n)){if(n!=="scroll")return;i|=2,o=r}var s=mM(o),a=n+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),lM(o,n,i,e),s.add(a))}function lM(n,e,t,r){var i=z0.get(e);switch(i===void 0?2:i){case 0:i=GL;break;case 1:i=WL;break;default:i=U0}t=i.bind(null,e,t,n),i=void 0,!L0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function uM(n,e,t,r,i){var o=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ss(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}EL(function(){var f=o,h=E0(t),p=[];e:{var d=IS.get(n);if(d!==void 0){var m=G0,x=n;switch(n){case"keypress":if(dh(t)===0)break e;case"keydown":case"keyup":m=oI;break;case"focusin":x="focus",m=j0;break;case"focusout":x="blur",m=j0;break;case"beforeblur":case"afterblur":m=j0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=NS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lI;break;case AS:case RS:case PS:m=ZL;break;case LS:m=cI;break;case"scroll":m=$L;break;case"wheel":m=dI;break;case"copy":case"cut":case"paste":m=JL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=FS}var _=(e&4)!=0,w=!_&&n==="scroll",y=_?d!==null?d+"Capture":null:d;_=[];for(var v=f,S;v!==null;){S=v;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,y!==null&&(M=ec(v,y),M!=null&&_.push(vc(v,M,S)))),w)break;v=v.return}0<_.length&&(d=new m(d,x,null,t,h),p.push({event:d,listeners:_}))}}if((e&7)==0){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&(e&16)==0&&(x=t.relatedTarget||t.fromElement)&&(Ss(x)||x[nl]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(x=t.relatedTarget||t.toElement,m=f,x=x?Ss(x):null,x!==null&&(w=ws(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=f),m!==x)){if(_=NS,M="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(_=FS,M="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?d:rl(m),S=x==null?d:rl(x),d=new _(M,v+"leave",m,t,h),d.target=w,d.relatedTarget=S,M=null,Ss(h)===f&&(_=new _(y,v+"enter",x,t,h),_.target=S,_.relatedTarget=w,M=_),w=M,m&&x)t:{for(_=m,y=x,v=0,S=_;S;S=el(S))v++;for(S=0,M=y;M;M=el(M))S++;for(;0<v-S;)_=el(_),v--;for(;0<S-v;)y=el(y),S--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=el(_),y=el(y)}_=null}else _=null;m!==null&&cM(p,d,m,_,!1),x!==null&&w!==null&&cM(p,w,x,_,!0)}}e:{if(d=f?rl(f):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=xI;else if(WS(d))if(jS)C=MI;else{C=wI;var A=_I}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=SI);if(C&&(C=C(n,f))){$S(p,C,t,h);break e}A&&A(n,d,f),n==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&y0(d,"number",d.value)}switch(A=f?rl(f):window,n){case"focusin":(WS(A)||A.contentEditable==="true")&&(Ka=A,J0=f,mc=null);break;case"focusout":mc=J0=Ka=null;break;case"mousedown":K0=!0;break;case"contextmenu":case"mouseup":case"dragend":K0=!1,eM(p,t,h);break;case"selectionchange":if(TI)break;case"keydown":case"keyup":eM(p,t,h)}var T;if(X0)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ja?VS(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(BS&&t.locale!=="ko"&&(Ja||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ja&&(T=kS()):(Lo=h,V0="value"in Lo?Lo.value:Lo.textContent,Ja=!0)),A=gh(f,P),0<A.length&&(P=new zS(P,n,null,t,h),p.push({event:P,listeners:A}),T?P.data=T:(T=GS(t),T!==null&&(P.data=T)))),(T=pI?mI(n,t):gI(n,t))&&(f=gh(f,"onBeforeInput"),0<f.length&&(h=new zS("onBeforeInput","beforeinput",null,t,h),p.push({event:h,listeners:f}),h.data=T))}iM(p,e)})}function vc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function gh(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ec(n,t),o!=null&&r.unshift(vc(n,o,i)),o=ec(n,e),o!=null&&r.push(vc(n,o,i))),n=n.return}return r}function el(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cM(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&f!==null&&(a=f,i?(l=ec(t,o),l!=null&&s.unshift(vc(t,l,a))):i||(l=ec(t,o),l!=null&&s.push(vc(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}function vh(){}var tv=null,nv=null;function fM(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function rv(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dM=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0;function iv(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function tl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function hM(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ov=0;function AI(n){return{$$typeof:f0,toString:n,valueOf:n}}var yh=Math.random().toString(36).slice(2),Io="__reactFiber$"+yh,xh="__reactProps$"+yh,nl="__reactContainer$"+yh,pM="__reactEvents$"+yh;function Ss(n){var e=n[Io];if(e)return e;for(var t=n.parentNode;t;){if(e=t[nl]||t[Io]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=hM(n);n!==null;){if(t=n[Io])return t;n=hM(n)}return e}n=t,t=n.parentNode}return null}function yc(n){return n=n[Io]||n[nl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function rl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Se(33))}function _h(n){return n[xh]||null}function mM(n){var e=n[pM];return e===void 0&&(e=n[pM]=new Set),e}var sv=[],il=-1;function Do(n){return{current:n}}function Gt(n){0>il||(n.current=sv[il],sv[il]=null,il--)}function tn(n,e){il++,sv[il]=n.current,n.current=e}var ko={},$n=Do(ko),gr=Do(!1),Ms=ko;function ol(n,e){var t=n.type.contextTypes;if(!t)return ko;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function vr(n){return n=n.childContextTypes,n!=null}function wh(){Gt(gr),Gt($n)}function gM(n,e,t){if($n.current!==ko)throw Error(Se(168));tn($n,e),tn(gr,t)}function vM(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(Se(108,Wa(e)||"Unknown",i));return Xt({},t,r)}function Sh(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ko,Ms=$n.current,tn($n,n),tn(gr,gr.current),!0}function yM(n,e,t){var r=n.stateNode;if(!r)throw Error(Se(169));t?(n=vM(n,e,Ms),r.__reactInternalMemoizedMergedChildContext=n,Gt(gr),Gt($n),tn($n,n)):Gt(gr),tn(gr,t)}var av=null,bs=null,RI=bn.unstable_runWithPriority,lv=bn.unstable_scheduleCallback,uv=bn.unstable_cancelCallback,PI=bn.unstable_shouldYield,xM=bn.unstable_requestPaint,cv=bn.unstable_now,LI=bn.unstable_getCurrentPriorityLevel,Mh=bn.unstable_ImmediatePriority,_M=bn.unstable_UserBlockingPriority,wM=bn.unstable_NormalPriority,SM=bn.unstable_LowPriority,MM=bn.unstable_IdlePriority,fv={},II=xM!==void 0?xM:function(){},Gi=null,bh=null,dv=!1,bM=cv(),jn=1e4>bM?cv:function(){return cv()-bM};function sl(){switch(LI()){case Mh:return 99;case _M:return 98;case wM:return 97;case SM:return 96;case MM:return 95;default:throw Error(Se(332))}}function EM(n){switch(n){case 99:return Mh;case 98:return _M;case 97:return wM;case 96:return SM;case 95:return MM;default:throw Error(Se(332))}}function Es(n,e){return n=EM(n),RI(n,e)}function xc(n,e,t){return n=EM(n),lv(n,e,t)}function mi(){if(bh!==null){var n=bh;bh=null,uv(n)}TM()}function TM(){if(!dv&&Gi!==null){dv=!0;var n=0;try{var e=Gi;Es(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Gi=null}catch(t){throw Gi!==null&&(Gi=Gi.slice(n+1)),lv(Mh,mi),t}finally{dv=!1}}}var DI=ys.ReactCurrentBatchConfig;function Qr(n,e){if(n&&n.defaultProps){e=Xt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Eh=Do(null),Th=null,al=null,Ch=null;function hv(){Ch=al=Th=null}function pv(n){var e=Eh.current;Gt(Eh),n.type._context._currentValue=e}function CM(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function ll(n,e){Th=n,Ch=al=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(Jr=!0),n.firstContext=null)}function Br(n,e){if(Ch!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ch=n,e=1073741823),e={context:n,observedBits:e,next:null},al===null){if(Th===null)throw Error(Se(308));al=e,Th.dependencies={lanes:0,firstContext:e,responders:null}}else al=al.next=e;return n._currentValue}var Oo=!1;function mv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function AM(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function No(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function RM(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _c(n,e,t,r){var i=n.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,f=l.next;l.next=null,s===null?o=f:s.next=f,s=l;var h=n.alternate;if(h!==null){h=h.updateQueue;var p=h.lastBaseUpdate;p!==s&&(p===null?h.firstBaseUpdate=f:p.next=f,h.lastBaseUpdate=l)}}if(o!==null){p=i.baseState,s=0,h=f=l=null;do{a=o.lane;var d=o.eventTime;if((r&a)===a){h!==null&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=n,x=o;switch(a=e,d=t,x.tag){case 1:if(m=x.payload,typeof m=="function"){p=m.call(d,p,a);break e}p=m;break e;case 3:m.flags=m.flags&-4097|64;case 0:if(m=x.payload,a=typeof m=="function"?m.call(d,p,a):m,a==null)break e;p=Xt({},p,a);break e;case 2:Oo=!0}}o.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else d={eventTime:d,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(f=h=d,l=p):h=h.next=d,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=f,i.lastBaseUpdate=h,Ic|=s,n.lanes=s,n.memoizedState=p}}function PM(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Se(191,i));i.call(r)}}}var LM=new Yd.Component().refs;function Ah(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Xt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Rh={isMounted:function(n){return(n=n._reactInternals)?ws(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Er(),i=Uo(n),o=No(r,i);o.payload=e,t!=null&&(o.callback=t),zo(n,o),Ho(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Er(),i=Uo(n),o=No(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),zo(n,o),Ho(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Er(),r=Uo(n),i=No(t,r);i.tag=2,e!=null&&(i.callback=e),zo(n,i),Ho(n,r,t)}};function IM(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pc(t,r)||!pc(i,o):!0}function DM(n,e,t){var r=!1,i=ko,o=e.contextType;return typeof o=="object"&&o!==null?o=Br(o):(i=vr(e)?Ms:$n.current,r=e.contextTypes,o=(r=r!=null)?ol(n,i):ko),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rh,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function kM(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Rh.enqueueReplaceState(e,e.state,null)}function gv(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=LM,mv(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Br(o):(o=vr(e)?Ms:$n.current,i.context=ol(n,o)),_c(n,t,i,r),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ah(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rh.enqueueReplaceState(i,i.state,null),_c(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var Ph=Array.isArray;function wc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var r=t.stateNode}if(!r)throw Error(Se(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=r.refs;s===LM&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,n))}return n}function Lh(n,e){if(n.type!=="textarea")throw Error(Se(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function OM(n){function e(w,y){if(n){var v=w.lastEffect;v!==null?(v.nextEffect=y,w.lastEffect=y):w.firstEffect=w.lastEffect=y,y.nextEffect=null,y.flags=8}}function t(w,y){if(!n)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Wo(w,y),w.index=0,w.sibling=null,w}function o(w,y,v){return w.index=v,n?(v=w.alternate,v!==null?(v=v.index,v<y?(w.flags=2,y):v):(w.flags=2,y)):y}function s(w){return n&&w.alternate===null&&(w.flags=2),w}function a(w,y,v,S){return y===null||y.tag!==6?(y=Jv(v,w.mode,S),y.return=w,y):(y=i(y,v),y.return=w,y)}function l(w,y,v,S){return y!==null&&y.elementType===v.type?(S=i(y,v.props),S.ref=wc(w,y,v),S.return=w,S):(S=Yh(v.type,v.key,v.props,null,w.mode,S),S.ref=wc(w,y,v),S.return=w,S)}function f(w,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Kv(v,w.mode,S),y.return=w,y):(y=i(y,v.children||[]),y.return=w,y)}function h(w,y,v,S,M){return y===null||y.tag!==7?(y=gl(v,w.mode,S,M),y.return=w,y):(y=i(y,v),y.return=w,y)}function p(w,y,v){if(typeof y=="string"||typeof y=="number")return y=Jv(""+y,w.mode,v),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qu:return v=Yh(y.type,y.key,y.props,null,w.mode,v),v.ref=wc(w,null,y),v.return=w,v;case xs:return y=Kv(y,w.mode,v),y.return=w,y}if(Ph(y)||Zu(y))return y=gl(y,w.mode,v,null),y.return=w,y;Lh(w,y)}return null}function d(w,y,v,S){var M=y!==null?y.key:null;if(typeof v=="string"||typeof v=="number")return M!==null?null:a(w,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qu:return v.key===M?v.type===Eo?h(w,y,v.props.children,S,M):l(w,y,v,S):null;case xs:return v.key===M?f(w,y,v,S):null}if(Ph(v)||Zu(v))return M!==null?null:h(w,y,v,S,null);Lh(w,v)}return null}function m(w,y,v,S,M){if(typeof S=="string"||typeof S=="number")return w=w.get(v)||null,a(y,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qu:return w=w.get(S.key===null?v:S.key)||null,S.type===Eo?h(y,w,S.props.children,M,S.key):l(y,w,S,M);case xs:return w=w.get(S.key===null?v:S.key)||null,f(y,w,S,M)}if(Ph(S)||Zu(S))return w=w.get(v)||null,h(y,w,S,M,null);Lh(y,S)}return null}function x(w,y,v,S){for(var M=null,C=null,A=y,T=y=0,P=null;A!==null&&T<v.length;T++){A.index>T?(P=A,A=null):P=A.sibling;var k=d(w,A,v[T],S);if(k===null){A===null&&(A=P);break}n&&A&&k.alternate===null&&e(w,A),y=o(k,y,T),C===null?M=k:C.sibling=k,C=k,A=P}if(T===v.length)return t(w,A),M;if(A===null){for(;T<v.length;T++)A=p(w,v[T],S),A!==null&&(y=o(A,y,T),C===null?M=A:C.sibling=A,C=A);return M}for(A=r(w,A);T<v.length;T++)P=m(A,w,T,v[T],S),P!==null&&(n&&P.alternate!==null&&A.delete(P.key===null?T:P.key),y=o(P,y,T),C===null?M=P:C.sibling=P,C=P);return n&&A.forEach(function(F){return e(w,F)}),M}function _(w,y,v,S){var M=Zu(v);if(typeof M!="function")throw Error(Se(150));if(v=M.call(v),v==null)throw Error(Se(151));for(var C=M=null,A=y,T=y=0,P=null,k=v.next();A!==null&&!k.done;T++,k=v.next()){A.index>T?(P=A,A=null):P=A.sibling;var F=d(w,A,k.value,S);if(F===null){A===null&&(A=P);break}n&&A&&F.alternate===null&&e(w,A),y=o(F,y,T),C===null?M=F:C.sibling=F,C=F,A=P}if(k.done)return t(w,A),M;if(A===null){for(;!k.done;T++,k=v.next())k=p(w,k.value,S),k!==null&&(y=o(k,y,T),C===null?M=k:C.sibling=k,C=k);return M}for(A=r(w,A);!k.done;T++,k=v.next())k=m(A,w,T,k.value,S),k!==null&&(n&&k.alternate!==null&&A.delete(k.key===null?T:k.key),y=o(k,y,T),C===null?M=k:C.sibling=k,C=k);return n&&A.forEach(function(D){return e(w,D)}),M}return function(w,y,v,S){var M=typeof v=="object"&&v!==null&&v.type===Eo&&v.key===null;M&&(v=v.props.children);var C=typeof v=="object"&&v!==null;if(C)switch(v.$$typeof){case qu:e:{for(C=v.key,M=y;M!==null;){if(M.key===C){switch(M.tag){case 7:if(v.type===Eo){t(w,M.sibling),y=i(M,v.props.children),y.return=w,w=y;break e}break;default:if(M.elementType===v.type){t(w,M.sibling),y=i(M,v.props),y.ref=wc(w,M,v),y.return=w,w=y;break e}}t(w,M);break}else e(w,M);M=M.sibling}v.type===Eo?(y=gl(v.props.children,w.mode,S,v.key),y.return=w,w=y):(S=Yh(v.type,v.key,v.props,null,w.mode,S),S.ref=wc(w,y,v),S.return=w,w=S)}return s(w);case xs:e:{for(M=v.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){t(w,y.sibling),y=i(y,v.children||[]),y.return=w,w=y;break e}else{t(w,y);break}else e(w,y);y=y.sibling}y=Kv(v,w.mode,S),y.return=w,w=y}return s(w)}if(typeof v=="string"||typeof v=="number")return v=""+v,y!==null&&y.tag===6?(t(w,y.sibling),y=i(y,v),y.return=w,w=y):(t(w,y),y=Jv(v,w.mode,S),y.return=w,w=y),s(w);if(Ph(v))return x(w,y,v,S);if(Zu(v))return _(w,y,v,S);if(C&&Lh(w,v),typeof v=="undefined"&&!M)switch(w.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Se(152,Wa(w.type)||"Component"))}return t(w,y)}}var Ih=OM(!0),NM=OM(!1),Sc={},gi=Do(Sc),Mc=Do(Sc),bc=Do(Sc);function Ts(n){if(n===Sc)throw Error(Se(174));return n}function vv(n,e){switch(tn(bc,e),tn(Mc,n),tn(gi,Sc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=S0(e,n)}Gt(gi),tn(gi,e)}function ul(){Gt(gi),Gt(Mc),Gt(bc)}function zM(n){Ts(bc.current);var e=Ts(gi.current),t=S0(e,n.type);e!==t&&(tn(Mc,n),tn(gi,t))}function yv(n){Mc.current===n&&(Gt(gi),Gt(Mc))}var nn=Do(0);function Dh(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wi=null,Fo=null,vi=!1;function FM(n,e){var t=Vr(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function BM(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function xv(n){if(vi){var e=Fo;if(e){var t=e;if(!BM(n,e)){if(e=tl(t.nextSibling),!e||!BM(n,e)){n.flags=n.flags&-1025|2,vi=!1,Wi=n;return}FM(Wi,t)}Wi=n,Fo=tl(e.firstChild)}else n.flags=n.flags&-1025|2,vi=!1,Wi=n}}function UM(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wi=n}function kh(n){if(n!==Wi)return!1;if(!vi)return UM(n),vi=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!rv(e,n.memoizedProps))for(e=Fo;e;)FM(n,e),e=tl(e.nextSibling);if(UM(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Fo=tl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Fo=null}}else Fo=Wi?tl(n.stateNode.nextSibling):null;return!0}function _v(){Fo=Wi=null,vi=!1}var cl=[];function wv(){for(var n=0;n<cl.length;n++)cl[n]._workInProgressVersionPrimary=null;cl.length=0}var Ec=ys.ReactCurrentDispatcher,Ur=ys.ReactCurrentBatchConfig,Tc=0,sn=null,qn=null,Nn=null,Oh=!1,Cc=!1;function yr(){throw Error(Se(321))}function Sv(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fr(n[t],e[t]))return!1;return!0}function Mv(n,e,t,r,i,o){if(Tc=o,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ec.current=n===null||n.memoizedState===null?OI:NI,n=t(r,i),Cc){o=0;do{if(Cc=!1,!(25>o))throw Error(Se(301));o+=1,Nn=qn=null,e.updateQueue=null,Ec.current=zI,n=t(r,i)}while(Cc)}if(Ec.current=Bh,e=qn!==null&&qn.next!==null,Tc=0,Nn=qn=sn=null,Oh=!1,e)throw Error(Se(300));return n}function Cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?sn.memoizedState=Nn=n:Nn=Nn.next=n,Nn}function As(){if(qn===null){var n=sn.alternate;n=n!==null?n.memoizedState:null}else n=qn.next;var e=Nn===null?sn.memoizedState:Nn.next;if(e!==null)Nn=e,qn=n;else{if(n===null)throw Error(Se(310));qn=n,n={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Nn===null?sn.memoizedState=Nn=n:Nn=Nn.next=n}return Nn}function yi(n,e){return typeof e=="function"?e(n):e}function Ac(n){var e=As(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var r=qn,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var f=l.lane;if((Tc&f)===f)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var h={lane:f,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(s=a=h,o=r):a=a.next=h,sn.lanes|=f,Ic|=f}l=l.next}while(l!==null&&l!==i);a===null?o=r:a.next=s,Fr(r,e.memoizedState)||(Jr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function Rc(n){var e=As(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Fr(o,e.memoizedState)||(Jr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function HM(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(Tc&n)===n)&&(e._workInProgressVersionPrimary=r,cl.push(e))),n)return t(e._source);throw cl.push(e),Error(Se(350))}function VM(n,e,t,r){var i=nr;if(i===null)throw Error(Se(349));var o=e._getVersion,s=o(e._source),a=Ec.current,l=a.useState(function(){return HM(i,e,t)}),f=l[1],h=l[0];l=Nn;var p=n.memoizedState,d=p.refs,m=d.getSnapshot,x=p.source;p=p.subscribe;var _=sn;return n.memoizedState={refs:d,source:e,subscribe:r},a.useEffect(function(){d.getSnapshot=t,d.setSnapshot=f;var w=o(e._source);if(!Fr(s,w)){w=t(e._source),Fr(h,w)||(f(w),w=Uo(_),i.mutableReadLanes|=w&i.pendingLanes),w=i.mutableReadLanes,i.entangledLanes|=w;for(var y=i.entanglements,v=w;0<v;){var S=31-Po(v),M=1<<S;y[S]|=w,v&=~M}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var w=d.getSnapshot,y=d.setSnapshot;try{y(w(e._source));var v=Uo(_);i.mutableReadLanes|=v&i.pendingLanes}catch(S){y(function(){throw S})}})},[e,r]),Fr(m,t)&&Fr(x,e)&&Fr(p,r)||(n={pending:null,dispatch:null,lastRenderedReducer:yi,lastRenderedState:h},n.dispatch=f=Cv.bind(null,sn,n),l.queue=n,l.baseQueue=null,h=HM(i,e,t),l.memoizedState=l.baseState=h),h}function GM(n,e,t){var r=As();return VM(r,n,e,t)}function Pc(n){var e=Cs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},n=n.dispatch=Cv.bind(null,sn,n),[e.memoizedState,n]}function Nh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null},sn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function WM(n){var e=Cs();return n={current:n},e.memoizedState=n}function zh(){return As().memoizedState}function bv(n,e,t,r){var i=Cs();sn.flags|=n,i.memoizedState=Nh(1|e,t,void 0,r===void 0?null:r)}function Ev(n,e,t,r){var i=As();r=r===void 0?null:r;var o=void 0;if(qn!==null){var s=qn.memoizedState;if(o=s.destroy,r!==null&&Sv(r,s.deps)){Nh(e,t,o,r);return}}sn.flags|=n,i.memoizedState=Nh(1|e,t,o,r)}function $M(n,e){return bv(516,4,n,e)}function Fh(n,e){return Ev(516,4,n,e)}function jM(n,e){return Ev(4,2,n,e)}function qM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function XM(n,e,t){return t=t!=null?t.concat([n]):null,Ev(4,2,qM.bind(null,e,n),t)}function Tv(){}function YM(n,e){var t=As();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ZM(n,e){var t=As();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function kI(n,e){var t=sl();Es(98>t?98:t,function(){n(!0)}),Es(97<t?97:t,function(){var r=Ur.transition;Ur.transition=1;try{n(!1),e()}finally{Ur.transition=r}})}function Cv(n,e,t){var r=Er(),i=Uo(n),o={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=n.alternate,n===sn||s!==null&&s===sn)Cc=Oh=!0;else{if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,t);if(o.eagerReducer=s,o.eagerState=l,Fr(l,a))return}catch{}finally{}Ho(n,i,r)}}var Bh={readContext:Br,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useOpaqueIdentifier:yr,unstable_isNewReconciler:!1},OI={readContext:Br,useCallback:function(n,e){return Cs().memoizedState=[n,e===void 0?null:e],n},useContext:Br,useEffect:$M,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,bv(4,2,qM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return bv(4,2,n,e)},useMemo:function(n,e){var t=Cs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Cs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=Cv.bind(null,sn,n),[r.memoizedState,n]},useRef:WM,useState:Pc,useDebugValue:Tv,useDeferredValue:function(n){var e=Pc(n),t=e[0],r=e[1];return $M(function(){var i=Ur.transition;Ur.transition=1;try{r(n)}finally{Ur.transition=i}},[n]),t},useTransition:function(){var n=Pc(!1),e=n[0];return n=kI.bind(null,n[1]),WM(n),[n,e]},useMutableSource:function(n,e,t){var r=Cs();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},VM(r,n,e,t)},useOpaqueIdentifier:function(){if(vi){var n=!1,e=AI(function(){throw n||(n=!0,t("r:"+(ov++).toString(36))),Error(Se(355))}),t=Pc(e)[1];return(sn.mode&2)==0&&(sn.flags|=516,Nh(5,function(){t("r:"+(ov++).toString(36))},void 0,null)),e}return e="r:"+(ov++).toString(36),Pc(e),e},unstable_isNewReconciler:!1},NI={readContext:Br,useCallback:YM,useContext:Br,useEffect:Fh,useImperativeHandle:XM,useLayoutEffect:jM,useMemo:ZM,useReducer:Ac,useRef:zh,useState:function(){return Ac(yi)},useDebugValue:Tv,useDeferredValue:function(n){var e=Ac(yi),t=e[0],r=e[1];return Fh(function(){var i=Ur.transition;Ur.transition=1;try{r(n)}finally{Ur.transition=i}},[n]),t},useTransition:function(){var n=Ac(yi)[0];return[zh().current,n]},useMutableSource:GM,useOpaqueIdentifier:function(){return Ac(yi)[0]},unstable_isNewReconciler:!1},zI={readContext:Br,useCallback:YM,useContext:Br,useEffect:Fh,useImperativeHandle:XM,useLayoutEffect:jM,useMemo:ZM,useReducer:Rc,useRef:zh,useState:function(){return Rc(yi)},useDebugValue:Tv,useDeferredValue:function(n){var e=Rc(yi),t=e[0],r=e[1];return Fh(function(){var i=Ur.transition;Ur.transition=1;try{r(n)}finally{Ur.transition=i}},[n]),t},useTransition:function(){var n=Rc(yi)[0];return[zh().current,n]},useMutableSource:GM,useOpaqueIdentifier:function(){return Rc(yi)[0]},unstable_isNewReconciler:!1},FI=ys.ReactCurrentOwner,Jr=!1;function xr(n,e,t,r){e.child=n===null?NM(e,null,t,r):Ih(e,n.child,t,r)}function QM(n,e,t,r,i){t=t.render;var o=e.ref;return ll(e,i),r=Mv(n,e,t,r,o,i),n!==null&&!Jr?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,$i(n,e,i)):(e.flags|=1,xr(n,e,r,i),e.child)}function JM(n,e,t,r,i,o){if(n===null){var s=t.type;return typeof s=="function"&&!Zv(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,KM(n,e,s,r,i,o)):(n=Yh(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}return s=n.child,(i&o)==0&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:pc,t(i,r)&&n.ref===e.ref)?$i(n,e,o):(e.flags|=1,n=Wo(s,r),n.ref=e.ref,n.return=e,e.child=n)}function KM(n,e,t,r,i,o){if(n!==null&&pc(n.memoizedProps,r)&&n.ref===e.ref)if(Jr=!1,(o&i)!=0)(n.flags&16384)!=0&&(Jr=!0);else return e.lanes=n.lanes,$i(n,e,o);return Rv(n,e,t,r,o)}function Av(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},Xh(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},Xh(e,o!==null?o.baseLanes:t);else return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},Xh(e,n),null;else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Xh(e,r);return xr(n,e,i,t),e.child}function eb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function Rv(n,e,t,r,i){var o=vr(t)?Ms:$n.current;return o=ol(e,o),ll(e,i),t=Mv(n,e,t,r,o,i),n!==null&&!Jr?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,$i(n,e,i)):(e.flags|=1,xr(n,e,t,i),e.child)}function tb(n,e,t,r,i){if(vr(t)){var o=!0;Sh(e)}else o=!1;if(ll(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),DM(e,t,r),gv(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,f=t.contextType;typeof f=="object"&&f!==null?f=Br(f):(f=vr(t)?Ms:$n.current,f=ol(e,f));var h=t.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==f)&&kM(e,s,r,f),Oo=!1;var d=e.memoizedState;s.state=d,_c(e,r,s,i),l=e.memoizedState,a!==r||d!==l||gr.current||Oo?(typeof h=="function"&&(Ah(e,t,h,r),l=e.memoizedState),(a=Oo||IM(e,t,a,r,d,l,f))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=f,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{s=e.stateNode,AM(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:Qr(e.type,a),s.props=f,p=e.pendingProps,d=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=vr(t)?Ms:$n.current,l=ol(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||d!==l)&&kM(e,s,r,l),Oo=!1,d=e.memoizedState,s.state=d,_c(e,r,s,i);var x=e.memoizedState;a!==p||d!==x||gr.current||Oo?(typeof m=="function"&&(Ah(e,t,m,r),x=e.memoizedState),(f=Oo||IM(e,t,f,r,d,x,l))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=f):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=256),r=!1)}return Pv(n,e,t,r,o,i)}function Pv(n,e,t,r,i,o){eb(n,e);var s=(e.flags&64)!=0;if(!r&&!s)return i&&yM(e,t,!1),$i(n,e,o);r=e.stateNode,FI.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Ih(e,n.child,null,o),e.child=Ih(e,null,a,o)):xr(n,e,a,o),e.memoizedState=r.state,i&&yM(e,t,!0),e.child}function nb(n){var e=n.stateNode;e.pendingContext?gM(n,e.pendingContext,e.pendingContext!==e.context):e.context&&gM(n,e.context,!1),vv(n,e.containerInfo)}var Uh={dehydrated:null,retryLane:0};function rb(n,e,t){var r=e.pendingProps,i=nn.current,o=!1,s;return(s=(e.flags&64)!=0)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!=0),s?(o=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),tn(nn,i&1),n===null?(r.fallback!==void 0&&xv(e),n=r.children,i=r.fallback,o?(n=ib(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Uh,n):typeof r.unstable_expectedLoadTime=="number"?(n=ib(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Uh,e.lanes=33554432,n):(t=Qv({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?o?(r=sb(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=Uh,r):(t=ob(n,e,r.children,t),e.memoizedState=null,t):o?(r=sb(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=Uh,r):(t=ob(n,e,r.children,t),e.memoizedState=null,t)}function ib(n,e,t,r){var i=n.mode,o=n.child;return e={mode:"hidden",children:e},(i&2)==0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=Qv(e,i,0,null),t=gl(t,i,r,null),o.return=n,t.return=n,o.sibling=t,n.child=o,t}function ob(n,e,t,r){var i=n.child;return n=i.sibling,t=Wo(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function sb(n,e,t,r,i){var o=e.mode,s=n.child;n=s.sibling;var a={mode:"hidden",children:t};return(o&2)==0&&e.child!==s?(t=e.child,t.childLanes=0,t.pendingProps=a,s=t.lastEffect,s!==null?(e.firstEffect=t.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Wo(s,a),n!==null?r=Wo(n,r):(r=gl(r,o,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function ab(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),CM(n.return,e)}function Lv(n,e,t,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i,s.lastEffect=o)}function lb(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xr(n,e,r.children,t),r=nn.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ab(n,t);else if(n.tag===19)ab(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(tn(nn,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Dh(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Lv(e,!1,i,t,o,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Dh(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Lv(e,!0,t,null,o,e.lastEffect);break;case"together":Lv(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function $i(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ic|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(Se(153));if(e.child!==null){for(n=e.child,t=Wo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var ub,Iv,cb,fb;ub=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Iv=function(){};cb=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ts(gi.current);var o=null;switch(t){case"input":i=g0(n,i),r=g0(n,r),o=[];break;case"option":i=x0(n,i),r=x0(n,r),o=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),o=[];break;case"textarea":i=_0(n,i),r=_0(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=vh)}M0(t,r);var s;t=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ju.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var l=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ju.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Vt("scroll",n),o||a===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===f0?l.toString():(o=o||[]).push(f,l))}t&&(o=o||[]).push("style",t);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};fb=function(n,e,t,r){t!==r&&(e.flags|=4)};function Lc(n,e){if(!vi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function BI(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vr(e.type)&&wh(),null;case 3:return ul(),Gt(gr),Gt($n),wv(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(kh(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Iv(e),null;case 5:yv(e);var i=Ts(bc.current);if(t=e.type,n!==null&&e.stateNode!=null)cb(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(Se(166));return null}if(n=Ts(gi.current),kh(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Io]=e,r[xh]=o,t){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(n=0;n<gc.length;n++)Vt(gc[n],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":tS(r,o),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",r);break;case"textarea":iS(r,o),Vt("invalid",r)}M0(t,o),n=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):ju.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Vt("scroll",r));switch(t){case"input":eh(r),rS(r,o,!0);break;case"textarea":eh(r),sS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vh)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,n===w0.html&&(n=aS(t)),n===w0.html?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[Io]=e,n[xh]=r,ub(n,e,!1,!1),e.stateNode=n,s=b0(t,r),t){case"dialog":Vt("cancel",n),Vt("close",n),i=r;break;case"iframe":case"object":case"embed":Vt("load",n),i=r;break;case"video":case"audio":for(i=0;i<gc.length;i++)Vt(gc[i],n);i=r;break;case"source":Vt("error",n),i=r;break;case"img":case"image":case"link":Vt("error",n),Vt("load",n),i=r;break;case"details":Vt("toggle",n),i=r;break;case"input":tS(n,r),i=g0(n,r),Vt("invalid",n);break;case"option":i=x0(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),Vt("invalid",n);break;case"textarea":iS(n,r),i=_0(n,r),Vt("invalid",n);break;default:i=r}M0(t,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?cS(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lS(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ju(n,l):typeof l=="number"&&Ju(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ju.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Vt("scroll",n):l!=null&&o0(n,o,l,s))}switch(t){case"input":eh(n),rS(n,r,!1);break;case"textarea":eh(n),sS(n);break;case"option":r.value!=null&&n.setAttribute("value",""+To(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?$a(n,!!r.multiple,o,!1):r.defaultValue!=null&&$a(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=vh)}fM(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)fb(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Se(166));t=Ts(bc.current),Ts(gi.current),kh(e)?(r=e.stateNode,t=e.memoizedProps,r[Io]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Io]=e,e.stateNode=r)}return null;case 13:return Gt(nn),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&kh(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(nn.current&1)!=0?zn===0&&(zn=3):((zn===0||zn===3)&&(zn=4),nr===null||(Ic&134217727)==0&&(dl&134217727)==0||pl(nr,Xn))),(r||t)&&(e.flags|=4),null);case 4:return ul(),Iv(e),n===null&&sM(e.stateNode.containerInfo),null;case 10:return pv(e),null;case 17:return vr(e.type)&&wh(),null;case 19:if(Gt(nn),r=e.memoizedState,r===null)return null;if(o=(e.flags&64)!=0,s=r.rendering,s===null)if(o)Lc(r,!1);else{if(zn!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(s=Dh(n),s!==null){for(e.flags|=64,Lc(r,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return tn(nn,nn.current&1|2),e.child}n=n.sibling}r.tail!==null&&jn()>Gv&&(e.flags|=64,o=!0,Lc(r,!1),e.lanes=33554432)}else{if(!o)if(n=Dh(s),n!==null){if(e.flags|=64,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Lc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!vi)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*jn()-r.renderingStartTime>Gv&&t!==1073741824&&(e.flags|=64,o=!0,Lc(r,!1),e.lanes=33554432);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=jn(),t.sibling=null,e=nn.current,tn(nn,o?e&1|2:e&1),t):null;case 23:case 24:return Yv(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Se(156,e.tag))}function UI(n){switch(n.tag){case 1:vr(n.type)&&wh();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(ul(),Gt(gr),Gt($n),wv(),e=n.flags,(e&64)!=0)throw Error(Se(285));return n.flags=e&-4097|64,n;case 5:return yv(n),null;case 13:return Gt(nn),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return Gt(nn),null;case 4:return ul(),null;case 10:return pv(n),null;case 23:case 24:return Yv(),null;default:return null}}function Dv(n,e){try{var t="",r=e;do t+=_L(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i}}function kv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var HI=typeof WeakMap=="function"?WeakMap:Map;function db(n,e,t){t=No(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Gh||(Gh=!0,Wv=r),kv(n,e)},t}function hb(n,e,t){t=No(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return kv(n,e),r(i)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this),kv(n,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}var VI=typeof WeakSet=="function"?WeakSet:Set;function pb(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Go(n,t)}else e.current=null}function GI(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:Qr(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&iv(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Se(163))}function WI(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(Rb(t,n),JI(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:Qr(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&PM(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}PM(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&fM(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&TS(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Se(163))}function mb(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=uS("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function gb(n,e){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(av,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)Rb(e,t);else{r=e;try{i()}catch(o){Go(r,o)}}t=t.next}while(t!==n)}break;case 1:if(pb(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){Go(e,o)}break;case 5:pb(e);break;case 4:_b(n,e)}}function vb(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function yb(n){return n.tag===5||n.tag===3||n.tag===4}function xb(n){e:{for(var e=n.return;e!==null;){if(yb(e))break e;e=e.return}throw Error(Se(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(Se(161))}t.flags&16&&(Ju(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||yb(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?Ov(n,t,e):Nv(n,t,e)}function Ov(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(n=n.child,n!==null))for(Ov(n,e,t),n=n.sibling;n!==null;)Ov(n,e,t),n=n.sibling}function Nv(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Nv(n,e,t),n=n.sibling;n!==null;)Nv(n,e,t),n=n.sibling}function _b(n,e){for(var t=e,r=!1,i,o;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(Se(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var s=n,a=t,l=a;;)if(gb(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(s=i,a=t.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(gb(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function zv(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(t[xh]=r,n==="input"&&r.type==="radio"&&r.name!=null&&nS(t,r),b0(n,i),e=b0(n,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?cS(t,a):s==="dangerouslySetInnerHTML"?lS(t,a):s==="children"?Ju(t,a):o0(t,s,a,e)}switch(n){case"input":v0(t,r);break;case"textarea":oS(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?$a(t,!!r.multiple,o,!1):n!==!!r.multiple&&(r.defaultValue!=null?$a(t,!!r.multiple,r.defaultValue,!0):$a(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Se(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,TS(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Vv=jn(),mb(e.child,!0)),wb(e);return;case 19:wb(e);return;case 17:return;case 23:case 24:mb(e,e.memoizedState!==null);return}throw Error(Se(163))}function wb(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new VI),e.forEach(function(r){var i=tD.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function $I(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var jI=Math.ceil,Hh=ys.ReactCurrentDispatcher,Fv=ys.ReactCurrentOwner,st=0,nr=null,yn=null,Xn=0,Rs=0,Bv=Do(0),zn=0,Vh=null,fl=0,Ic=0,dl=0,Uv=0,Hv=null,Vv=0,Gv=1/0;function hl(){Gv=jn()+500}var He=null,Gh=!1,Wv=null,xi=null,Bo=!1,Dc=null,kc=90,$v=[],jv=[],ji=null,Oc=0,qv=null,Wh=-1,qi=0,$h=0,Nc=null,jh=!1;function Er(){return(st&48)!=0?jn():Wh!==-1?Wh:Wh=jn()}function Uo(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return sl()===99?1:2;if(qi===0&&(qi=fl),DI.transition!==0){$h!==0&&($h=Hv!==null?Hv.pendingLanes:0),n=qi;var e=4186112&~$h;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=sl(),(st&4)!=0&&n===98?n=lh(12,qi):(n=NL(n),n=lh(n,qi)),n}function Ho(n,e,t){if(50<Oc)throw Oc=0,qv=null,Error(Se(185));if(n=qh(n,e),n===null)return null;uh(n,e,t),n===nr&&(dl|=e,zn===4&&pl(n,Xn));var r=sl();e===1?(st&8)!=0&&(st&48)==0?Xv(n):(Hr(n,t),st===0&&(hl(),mi())):((st&4)==0||r!==98&&r!==99||(ji===null?ji=new Set([n]):ji.add(n)),Hr(n,t)),Hv=n}function qh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Hr(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Po(s),l=1<<a,f=o[a];if(f===-1){if((l&r)==0||(l&i)!=0){f=e,Ya(l);var h=Ut;o[a]=10<=h?f+250:6<=h?f+5e3:-1}}else f<=e&&(n.expiredLanes|=l);s&=~l}if(r=lc(n,n===nr?Xn:0),e=Ut,r===0)t!==null&&(t!==fv&&uv(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==fv&&uv(t)}e===15?(t=Xv.bind(null,n),Gi===null?(Gi=[t],bh=lv(Mh,TM)):Gi.push(t),t=fv):e===14?t=xc(99,Xv.bind(null,n)):(t=zL(e),t=xc(t,Sb.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function Sb(n){if(Wh=-1,$h=qi=0,(st&48)!=0)throw Error(Se(327));var e=n.callbackNode;if(Vo()&&n.callbackNode!==e)return null;var t=lc(n,n===nr?Xn:0);if(t===0)return null;var r=t,i=st;st|=16;var o=Tb();(nr!==n||Xn!==r)&&(hl(),ml(n,r));do try{YI();break}catch(a){Eb(n,a)}while(1);if(hv(),Hh.current=o,st=i,yn!==null?r=0:(nr=null,Xn=0,r=zn),(fl&dl)!=0)ml(n,0);else if(r!==0){if(r===2&&(st|=64,n.hydrate&&(n.hydrate=!1,iv(n.containerInfo)),t=DS(n),t!==0&&(r=zc(n,t))),r===1)throw e=Vh,ml(n,0),pl(n,t),Hr(n,jn()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(Se(345));case 2:Ps(n);break;case 3:if(pl(n,t),(t&62914560)===t&&(r=Vv+500-jn(),10<r)){if(lc(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){Er(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=dM(Ps.bind(null,n),r);break}Ps(n);break;case 4:if(pl(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var s=31-Po(t);o=1<<s,s=r[s],s>i&&(i=s),t&=~o}if(t=i,t=jn()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*jI(t/1960))-t,10<t){n.timeoutHandle=dM(Ps.bind(null,n),t);break}Ps(n);break;case 5:Ps(n);break;default:throw Error(Se(329))}}return Hr(n,jn()),n.callbackNode===e?Sb.bind(null,n):null}function pl(n,e){for(e&=~Uv,e&=~dl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Po(e),r=1<<t;n[t]=-1,e&=~r}}function Xv(n){if((st&48)!=0)throw Error(Se(327));if(Vo(),n===nr&&(n.expiredLanes&Xn)!=0){var e=Xn,t=zc(n,e);(fl&dl)!=0&&(e=lc(n,e),t=zc(n,e))}else e=lc(n,0),t=zc(n,e);if(n.tag!==0&&t===2&&(st|=64,n.hydrate&&(n.hydrate=!1,iv(n.containerInfo)),e=DS(n),e!==0&&(t=zc(n,e))),t===1)throw t=Vh,ml(n,0),pl(n,e),Hr(n,jn()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ps(n),Hr(n,jn()),null}function qI(){if(ji!==null){var n=ji;ji=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Hr(e,jn())})}mi()}function Mb(n,e){var t=st;st|=1;try{return n(e)}finally{st=t,st===0&&(hl(),mi())}}function bb(n,e){var t=st;st&=-2,st|=8;try{return n(e)}finally{st=t,st===0&&(hl(),mi())}}function Xh(n,e){tn(Bv,Rs),Rs|=e,fl|=e}function Yv(){Rs=Bv.current,Gt(Bv)}function ml(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,CI(t)),yn!==null)for(t=yn.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:ul(),Gt(gr),Gt($n),wv();break;case 5:yv(r);break;case 4:ul();break;case 13:Gt(nn);break;case 19:Gt(nn);break;case 10:pv(r);break;case 23:case 24:Yv()}t=t.return}nr=n,yn=Wo(n.current,null),Xn=Rs=fl=e,zn=0,Vh=null,Uv=dl=Ic=0}function Eb(n,e){do{var t=yn;try{if(hv(),Ec.current=Bh,Oh){for(var r=sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oh=!1}if(Tc=0,Nn=qn=sn=null,Cc=!1,Fv.current=null,t===null||t.return===null){zn=1,Vh=e,yn=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Xn,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l;if((a.mode&2)==0){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.lanes=h.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=(nn.current&1)!=0,d=s;do{var m;if(m=d.tag===13){var x=d.memoizedState;if(x!==null)m=x.dehydrated!==null;else{var _=d.memoizedProps;m=_.fallback===void 0?!1:_.unstable_avoidThisFallback!==!0?!0:!p}}if(m){var w=d.updateQueue;if(w===null){var y=new Set;y.add(f),d.updateQueue=y}else w.add(f);if((d.mode&2)==0){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=No(-1,1);v.tag=2,zo(a,v)}a.lanes|=1;break e}l=void 0,a=e;var S=o.pingCache;if(S===null?(S=o.pingCache=new HI,l=new Set,S.set(f,l)):(l=S.get(f),l===void 0&&(l=new Set,S.set(f,l))),!l.has(a)){l.add(a);var M=eD.bind(null,o,f,a);f.then(M,M)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);l=Error((Wa(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}zn!==5&&(zn=2),l=Dv(l,a),d=s;do{switch(d.tag){case 3:o=l,d.flags|=4096,e&=-e,d.lanes|=e;var C=db(d,o,e);RM(d,C);break e;case 1:o=l;var A=d.type,T=d.stateNode;if((d.flags&64)==0&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xi===null||!xi.has(T)))){d.flags|=4096,e&=-e,d.lanes|=e;var P=hb(d,o,e);RM(d,P);break e}}d=d.return}while(d!==null)}Ab(t)}catch(k){e=k,yn===t&&t!==null&&(yn=t=t.return);continue}break}while(1)}function Tb(){var n=Hh.current;return Hh.current=Bh,n===null?Bh:n}function zc(n,e){var t=st;st|=16;var r=Tb();nr===n&&Xn===e||ml(n,e);do try{XI();break}catch(i){Eb(n,i)}while(1);if(hv(),st=t,Hh.current=r,yn!==null)throw Error(Se(261));return nr=null,Xn=0,zn}function XI(){for(;yn!==null;)Cb(yn)}function YI(){for(;yn!==null&&!PI();)Cb(yn)}function Cb(n){var e=Lb(n.alternate,n,Rs);n.memoizedProps=n.pendingProps,e===null?Ab(n):yn=e,Fv.current=null}function Ab(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=BI(t,e,Rs),t!==null){yn=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(Rs&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=UI(e),t!==null){t.flags&=2047,yn=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){yn=e;return}yn=e=n}while(e!==null);zn===0&&(zn=5)}function Ps(n){var e=sl();return Es(99,ZI.bind(null,n,e)),null}function ZI(n,e){do Vo();while(Dc!==null);if((st&48)!=0)throw Error(Se(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Se(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var s=n.eventTimes,a=n.expirationTimes;0<o;){var l=31-Po(o),f=1<<l;i[l]=0,s[l]=-1,a[l]=-1,o&=~f}if(ji!==null&&(r&24)==0&&ji.has(n)&&ji.delete(n),n===nr&&(yn=nr=null,Xn=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=st,st|=32,Fv.current=null,tv=ch,s=KS(),Q0(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,o=f.anchorOffset,l=f.focusNode,f=f.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var h=0,p=-1,d=-1,m=0,x=0,_=s,w=null;t:for(;;){for(var y;_!==a||o!==0&&_.nodeType!==3||(p=h+o),_!==l||f!==0&&_.nodeType!==3||(d=h+f),_.nodeType===3&&(h+=_.nodeValue.length),(y=_.firstChild)!==null;)w=_,_=y;for(;;){if(_===s)break t;if(w===a&&++m===o&&(p=h),w===l&&++x===f&&(d=h),(y=_.nextSibling)!==null)break;_=w,w=_.parentNode}_=y}a=p===-1||d===-1?null:{start:p,end:d}}else a=null;a=a||{start:0,end:0}}else a=null;nv={focusedElem:s,selectionRange:a},ch=!1,Nc=null,jh=!1,He=r;do try{QI()}catch(k){if(He===null)throw Error(Se(330));Go(He,k),He=He.nextEffect}while(He!==null);Nc=null,He=r;do try{for(s=n;He!==null;){var v=He.flags;if(v&16&&Ju(He.stateNode,""),v&128){var S=He.alternate;if(S!==null){var M=S.ref;M!==null&&(typeof M=="function"?M(null):M.current=null)}}switch(v&1038){case 2:xb(He),He.flags&=-3;break;case 6:xb(He),He.flags&=-3,zv(He.alternate,He);break;case 1024:He.flags&=-1025;break;case 1028:He.flags&=-1025,zv(He.alternate,He);break;case 4:zv(He.alternate,He);break;case 8:a=He,_b(s,a);var C=a.alternate;vb(a),C!==null&&vb(C)}He=He.nextEffect}}catch(k){if(He===null)throw Error(Se(330));Go(He,k),He=He.nextEffect}while(He!==null);if(M=nv,S=KS(),v=M.focusedElem,s=M.selectionRange,S!==v&&v&&v.ownerDocument&&JS(v.ownerDocument.documentElement,v)){for(s!==null&&Q0(v)&&(S=s.start,M=s.end,M===void 0&&(M=S),"selectionStart"in v?(v.selectionStart=S,v.selectionEnd=Math.min(M,v.value.length)):(M=(S=v.ownerDocument||document)&&S.defaultView||window,M.getSelection&&(M=M.getSelection(),a=v.textContent.length,C=Math.min(s.start,a),s=s.end===void 0?C:Math.min(s.end,a),!M.extend&&C>s&&(a=s,s=C,C=a),a=QS(v,C),o=QS(v,s),a&&o&&(M.rangeCount!==1||M.anchorNode!==a.node||M.anchorOffset!==a.offset||M.focusNode!==o.node||M.focusOffset!==o.offset)&&(S=S.createRange(),S.setStart(a.node,a.offset),M.removeAllRanges(),C>s?(M.addRange(S),M.extend(o.node,o.offset)):(S.setEnd(o.node,o.offset),M.addRange(S)))))),S=[],M=v;M=M.parentNode;)M.nodeType===1&&S.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<S.length;v++)M=S[v],M.element.scrollLeft=M.left,M.element.scrollTop=M.top}ch=!!tv,nv=tv=null,n.current=t,He=r;do try{for(v=n;He!==null;){var A=He.flags;if(A&36&&WI(v,He.alternate,He),A&128){S=void 0;var T=He.ref;if(T!==null){var P=He.stateNode;switch(He.tag){case 5:S=P;break;default:S=P}typeof T=="function"?T(S):T.current=S}}He=He.nextEffect}}catch(k){if(He===null)throw Error(Se(330));Go(He,k),He=He.nextEffect}while(He!==null);He=null,II(),st=i}else n.current=t;if(Bo)Bo=!1,Dc=n,kc=e;else for(He=r;He!==null;)e=He.nextEffect,He.nextEffect=null,He.flags&8&&(A=He,A.sibling=null,A.stateNode=null),He=e;if(r=n.pendingLanes,r===0&&(xi=null),r===1?n===qv?Oc++:(Oc=0,qv=n):Oc=0,t=t.stateNode,bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(av,t,void 0,(t.current.flags&64)==64)}catch{}if(Hr(n,jn()),Gh)throw Gh=!1,n=Wv,Wv=null,n;return(st&8)!=0||mi(),null}function QI(){for(;He!==null;){var n=He.alternate;jh||Nc===null||((He.flags&8)!=0?xS(He,Nc)&&(jh=!0):He.tag===13&&$I(n,He)&&xS(He,Nc)&&(jh=!0));var e=He.flags;(e&256)!=0&&GI(n,He),(e&512)==0||Bo||(Bo=!0,xc(97,function(){return Vo(),null})),He=He.nextEffect}}function Vo(){if(kc!==90){var n=97<kc?97:kc;return kc=90,Es(n,KI)}return!1}function JI(n,e){$v.push(e,n),Bo||(Bo=!0,xc(97,function(){return Vo(),null}))}function Rb(n,e){jv.push(e,n),Bo||(Bo=!0,xc(97,function(){return Vo(),null}))}function KI(){if(Dc===null)return!1;var n=Dc;if(Dc=null,(st&48)!=0)throw Error(Se(331));var e=st;st|=32;var t=jv;jv=[];for(var r=0;r<t.length;r+=2){var i=t[r],o=t[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(l){if(o===null)throw Error(Se(330));Go(o,l)}}for(t=$v,$v=[],r=0;r<t.length;r+=2){i=t[r],o=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(o===null)throw Error(Se(330));Go(o,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return st=e,mi(),!0}function Pb(n,e,t){e=Dv(t,e),e=db(n,e,1),zo(n,e),e=Er(),n=qh(n,1),n!==null&&(uh(n,1,e),Hr(n,e))}function Go(n,e){if(n.tag===3)Pb(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){Pb(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){n=Dv(e,n);var i=hb(t,n,1);if(zo(t,i),i=Er(),t=qh(t,1),t!==null)uh(t,1,i),Hr(t,i);else if(typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function eD(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Er(),n.pingedLanes|=n.suspendedLanes&t,nr===n&&(Xn&t)===t&&(zn===4||zn===3&&(Xn&62914560)===Xn&&500>jn()-Vv?ml(n,0):Uv|=t),Hr(n,e)}function tD(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=sl()===99?1:2:(qi===0&&(qi=fl),e=Za(62914560&~qi),e===0&&(e=4194304))),t=Er(),n=qh(n,e),n!==null&&(uh(n,e,t),Hr(n,t))}var Lb;Lb=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||gr.current)Jr=!0;else if((t&r)!=0)Jr=(n.flags&16384)!=0;else{switch(Jr=!1,e.tag){case 3:nb(e),_v();break;case 5:zM(e);break;case 1:vr(e.type)&&Sh(e);break;case 4:vv(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;tn(Eh,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?rb(n,e,t):(tn(nn,nn.current&1),e=$i(n,e,t),e!==null?e.sibling:null);tn(nn,nn.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return lb(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(nn,nn.current),r)break;return null;case 23:case 24:return e.lanes=0,Av(n,e,t)}return $i(n,e,t)}else Jr=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=ol(e,$n.current),ll(e,t),i=Mv(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vr(r)){var o=!0;Sh(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(e);var s=r.getDerivedStateFromProps;typeof s=="function"&&Ah(e,r,s,n),i.updater=Rh,e.stateNode=i,i._reactInternals=e,gv(e,r,n,t),e=Pv(null,e,r,!0,o,t)}else e.tag=0,xr(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=rD(i),n=Qr(i,n),o){case 0:e=Rv(null,e,i,n,t);break e;case 1:e=tb(null,e,i,n,t);break e;case 11:e=QM(null,e,i,n,t);break e;case 14:e=JM(null,e,i,Qr(i.type,n),r,t);break e}throw Error(Se(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),Rv(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),tb(n,e,r,i,t);case 3:if(nb(e),r=e.updateQueue,n===null||r===null)throw Error(Se(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,AM(n,e),_c(e,r,null,t),r=e.memoizedState.element,r===i)_v(),e=$i(n,e,t);else{if(i=e.stateNode,(o=i.hydrate)&&(Fo=tl(e.stateNode.containerInfo.firstChild),Wi=e,o=vi=!0),o){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)o=n[i],o._workInProgressVersionPrimary=n[i+1],cl.push(o);for(t=NM(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else xr(n,e,r,t),_v();e=e.child}return e;case 5:return zM(e),n===null&&xv(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,rv(r,i)?s=null:o!==null&&rv(r,o)&&(e.flags|=16),eb(n,e),xr(n,e,s,t),e.child;case 6:return n===null&&xv(e),null;case 13:return rb(n,e,t);case 4:return vv(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ih(e,null,r,t):xr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),QM(n,e,r,i,t);case 7:return xr(n,e,e.pendingProps,t),e.child;case 8:return xr(n,e,e.pendingProps.children,t),e.child;case 12:return xr(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(tn(Eh,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Fr(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!gr.current){e=$i(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var f=l.firstContext;f!==null;){if(f.context===r&&(f.observedBits&o)!=0){a.tag===1&&(f=No(-1,t&-t),f.tag=2,zo(a,f)),a.lanes|=t,f=a.alternate,f!==null&&(f.lanes|=t),CM(a.return,t),l.lanes|=t;break}f=f.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}xr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,ll(e,t),i=Br(i,o.unstable_observedBits),r=r(i),e.flags|=1,xr(n,e,r,t),e.child;case 14:return i=e.type,o=Qr(i,e.pendingProps),o=Qr(i.type,o),JM(n,e,i,o,r,t);case 15:return KM(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qr(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vr(r)?(n=!0,Sh(e)):n=!1,ll(e,t),DM(e,r,i),gv(e,r,i,t),Pv(null,e,r,!0,n,t);case 19:return lb(n,e,t);case 23:return Av(n,e,t);case 24:return Av(n,e,t)}throw Error(Se(156,e.tag))};function nD(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(n,e,t,r){return new nD(n,e,t,r)}function Zv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rD(n){if(typeof n=="function")return Zv(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Zd)return 11;if(n===Jd)return 14}return 2}function Wo(n,e){var t=n.alternate;return t===null?(t=Vr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Yh(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")Zv(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Eo:return gl(t.children,i,o,e);case Qw:s=8,i|=16;break;case s0:s=8,i|=1;break;case Xu:return n=Vr(12,t,e,i|8),n.elementType=Xu,n.type=Xu,n.lanes=o,n;case Yu:return n=Vr(13,t,e,i),n.type=Yu,n.elementType=Yu,n.lanes=o,n;case Qd:return n=Vr(19,t,e,i),n.elementType=Qd,n.lanes=o,n;case d0:return Qv(t,i,o,e);case h0:return n=Vr(24,t,e,i),n.elementType=h0,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case a0:s=10;break e;case l0:s=9;break e;case Zd:s=11;break e;case Jd:s=14;break e;case u0:s=16,r=null;break e;case c0:s=22;break e}throw Error(Se(130,n==null?n:typeof n,""))}return e=Vr(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function gl(n,e,t,r){return n=Vr(7,n,r,e),n.lanes=t,n}function Qv(n,e,t,r){return n=Vr(23,n,r,e),n.elementType=d0,n.lanes=t,n}function Jv(n,e,t){return n=Vr(6,n,null,e),n.lanes=t,n}function Kv(n,e,t){return e=Vr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function iD(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=B0(0),this.expirationTimes=B0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B0(0),this.mutableSourceEagerHydrationData=null}function oD(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Zh(n,e,t,r){var i=e.current,o=Er(),s=Uo(i);e:if(t){t=t._reactInternals;t:{if(ws(t)!==t||t.tag!==1)throw Error(Se(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(vr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Se(171))}if(t.tag===1){var l=t.type;if(vr(l)){t=vM(t,l,a);break e}}t=a}else t=ko;return e.context===null?e.context=t:e.pendingContext=t,e=No(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),zo(i,e),Ho(i,s,o),s}function ey(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ib(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ty(n,e){Ib(n,e),(n=n.alternate)&&Ib(n,e)}function sD(){return null}function ny(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new iD(n,e,t!=null&&t.hydrate===!0),e=Vr(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,mv(e),n[nl]=t.current,sM(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}ny.prototype.render=function(n){Zh(n,this._internalRoot,null,null)};ny.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;Zh(null,n,null,function(){e[nl]=null})};function Fc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function aD(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new ny(n,0,e?{hydrate:!0}:void 0)}function Qh(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=ey(s);a.call(f)}}Zh(e,s,n,i)}else{if(o=t._reactRootContainer=aD(t,r),s=o._internalRoot,typeof i=="function"){var l=i;i=function(){var f=ey(s);l.call(f)}}bb(function(){Zh(e,s,n,i)})}return ey(s)}_S=function(n){if(n.tag===13){var e=Er();Ho(n,4,e),ty(n,4)}};D0=function(n){if(n.tag===13){var e=Er();Ho(n,67108864,e),ty(n,67108864)}};wS=function(n){if(n.tag===13){var e=Er(),t=Uo(n);Ho(n,t,e),ty(n,t)}};SS=function(n,e){return e()};T0=function(n,e,t){switch(e){case"input":if(v0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=_h(r);if(!i)throw Error(Se(90));eS(r),v0(r,i)}}}break;case"textarea":oS(n,t);break;case"select":e=t.value,e!=null&&$a(n,!!t.multiple,e,!1)}};C0=Mb;pS=function(n,e,t,r,i){var o=st;st|=4;try{return Es(98,n.bind(null,e,t,r,i))}finally{st=o,st===0&&(hl(),mi())}};A0=function(){(st&49)==0&&(qI(),Vo())};mS=function(n,e){var t=st;st|=2;try{return n(e)}finally{st=t,st===0&&(hl(),mi())}};function Db(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(e))throw Error(Se(200));return oD(n,e,null,t)}var lD={Events:[yc,rl,_h,dS,hS,Vo,{current:!1}]},Bc={findFiberByHostInstance:Ss,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uD={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yS(n),n===null?null:n.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||sD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{av=Jh.inject(uD),bs=Jh}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;zr.createPortal=Db;zr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Se(188)):Error(Se(268,Object.keys(n)));return n=yS(e),n=n===null?null:n.stateNode,n};zr.flushSync=function(n,e){var t=st;if((t&48)!=0)return n(e);st|=1;try{if(n)return Es(99,n.bind(null,e))}finally{st=t,mi()}};zr.hydrate=function(n,e,t){if(!Fc(e))throw Error(Se(200));return Qh(null,n,e,!0,t)};zr.render=function(n,e,t){if(!Fc(e))throw Error(Se(200));return Qh(null,n,e,!1,t)};zr.unmountComponentAtNode=function(n){if(!Fc(n))throw Error(Se(40));return n._reactRootContainer?(bb(function(){Qh(null,null,n,!1,function(){n._reactRootContainer=null,n[nl]=null})}),!0):!1};zr.unstable_batchedUpdates=Mb;zr.unstable_createPortal=function(n,e){return Db(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};zr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Fc(t))throw Error(Se(200));if(n==null||n._reactInternals===void 0)throw Error(Se(38));return Qh(n,e,t,!1,r)};zr.version="17.0.2";function kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kb)}catch(n){console.error(n)}}kb(),$w.exports=zr;var Ob=$w.exports;/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Kh="135",Ls={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Is={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Nb=0,ry=1,zb=2,cD=3,fD=0,iy=1,oy=2,vl=3,Ds=0,an=1,ks=2,sy=1,dD=2,Xi=0,yl=1,ep=2,ay=3,ly=4,Fb=5,Os=100,Bb=101,Ub=102,uy=103,cy=104,Hb=200,Vb=201,Gb=202,Wb=203,fy=204,dy=205,$b=206,jb=207,qb=208,Xb=209,Yb=210,Zb=0,Qb=1,Jb=2,tp=3,Kb=4,eE=5,tE=6,nE=7,Uc=0,rE=1,iE=2,Yi=0,oE=1,sE=2,aE=3,hy=4,lE=5,np=300,Ns=301,zs=302,Hc=303,Vc=304,xl=306,Gc=307,Wc=1e3,Fn=1001,$c=1002,pn=1003,rp=1004,hD=1004,ip=1005,pD=1005,Zt=1006,py=1007,mD=1007,Fs=1008,gD=1008,Zi=1009,uE=1010,cE=1011,_l=1012,fE=1013,jc=1014,_i=1015,Bs=1016,dE=1017,hE=1018,pE=1019,Us=1020,mE=1021,$o=1022,xn=1023,gE=1024,vE=1025,yE=xn,jo=1026,Hs=1027,xE=1028,_E=1029,wE=1030,SE=1031,ME=1032,bE=1033,my=33776,gy=33777,vy=33778,yy=33779,xy=35840,_y=35841,wy=35842,Sy=35843,EE=36196,My=37492,by=37496,TE=37808,CE=37809,AE=37810,RE=37811,PE=37812,LE=37813,IE=37814,DE=37815,kE=37816,OE=37817,NE=37818,zE=37819,FE=37820,BE=37821,UE=36492,HE=37840,VE=37841,GE=37842,WE=37843,$E=37844,jE=37845,qE=37846,XE=37847,YE=37848,ZE=37849,QE=37850,JE=37851,KE=37852,eT=37853,tT=2200,nT=2201,rT=2202,qc=2300,Xc=2301,op=2302,Vs=2400,Gs=2401,Yc=2402,sp=2500,Ey=2501,iT=0,vD=1,yD=2,Yn=3e3,Ws=3001,ap=3007,lp=3002,Ty=3004,Cy=3005,Ay=3006,oT=3200,sT=3201,$s=0,aT=1,xD=0,up=7680,_D=7681,wD=7682,SD=7683,MD=34055,bD=34056,ED=5386,TD=512,CD=513,AD=514,RD=515,PD=516,LD=517,ID=518,lT=519,wl=35044,Sl=35048,DD=35040,kD=35045,OD=35049,ND=35041,zD=35046,FD=35050,BD=35042,UD="100",Ry="300 es";class Qi{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const Bn=[];for(let n=0;n<256;n++)Bn[n]=(n<16?"0":"")+n.toString(16);let cp=1234567;const js=Math.PI/180,Zc=180/Math.PI;function Tr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Bn[n&255]+Bn[n>>8&255]+Bn[n>>16&255]+Bn[n>>24&255]+"-"+Bn[e&255]+Bn[e>>8&255]+"-"+Bn[e>>16&15|64]+Bn[e>>24&255]+"-"+Bn[t&63|128]+Bn[t>>8&255]+"-"+Bn[t>>16&255]+Bn[t>>24&255]+Bn[r&255]+Bn[r>>8&255]+Bn[r>>16&255]+Bn[r>>24&255]).toUpperCase()}function Un(n,e,t){return Math.max(e,Math.min(t,n))}function Py(n,e){return(n%e+e)%e}function HD(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function VD(n,e,t){return n!==e?(t-n)/(e-n):0}function Qc(n,e,t){return(1-t)*n+t*e}function GD(n,e,t,r){return Qc(n,e,1-Math.exp(-t*r))}function WD(n,e=1){return e-Math.abs(Py(n,e*2)-e)}function $D(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function qD(n,e){return n+Math.floor(Math.random()*(e-n+1))}function XD(n,e){return n+Math.random()*(e-n)}function YD(n){return n*(.5-Math.random())}function ZD(n){return n!==void 0&&(cp=n%2147483647),cp=cp*16807%2147483647,(cp-1)/2147483646}function QD(n){return n*js}function JD(n){return n*Zc}function Ly(n){return(n&n-1)==0&&n!==0}function uT(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function cT(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function KD(n,e,t,r,i){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),f=o((e+r)/2),h=s((e+r)/2),p=o((e-r)/2),d=s((e-r)/2),m=o((r-e)/2),x=s((r-e)/2);switch(i){case"XYX":n.set(a*h,l*p,l*d,a*f);break;case"YZY":n.set(l*d,a*h,l*p,a*f);break;case"ZXZ":n.set(l*p,l*d,a*h,a*f);break;case"XZX":n.set(a*h,l*x,l*m,a*f);break;case"YXY":n.set(l*m,a*h,l*x,a*f);break;case"ZYZ":n.set(l*x,l*m,a*h,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var Ml=Object.freeze({__proto__:null,DEG2RAD:js,RAD2DEG:Zc,generateUUID:Tr,clamp:Un,euclideanModulo:Py,mapLinear:HD,inverseLerp:VD,lerp:Qc,damp:GD,pingpong:WD,smoothstep:$D,smootherstep:jD,randInt:qD,randFloat:XD,randFloatSpread:YD,seededRandom:ZD,degToRad:QD,radToDeg:JD,isPowerOfTwo:Ly,ceilPowerOfTwo:uT,floorPowerOfTwo:cT,setQuaternionFromProperEuler:KD});class se{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}se.prototype.isVector2=!0;class _n{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,f){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=t,h[4]=o,h[5]=l,h[6]=r,h[7]=s,h[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],f=r[1],h=r[4],p=r[7],d=r[2],m=r[5],x=r[8],_=i[0],w=i[3],y=i[6],v=i[1],S=i[4],M=i[7],C=i[2],A=i[5],T=i[8];return o[0]=s*_+a*v+l*C,o[3]=s*w+a*S+l*A,o[6]=s*y+a*M+l*T,o[1]=f*_+h*v+p*C,o[4]=f*w+h*S+p*A,o[7]=f*y+h*M+p*T,o[2]=d*_+m*v+x*C,o[5]=d*w+m*S+x*A,o[8]=d*y+m*M+x*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],f=e[7],h=e[8];return t*s*h-t*a*f-r*o*h+r*a*l+i*o*f-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=h*s-a*f,d=a*l-h*o,m=f*o-s*l,x=t*p+r*d+i*m;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/x;return e[0]=p*_,e[1]=(i*f-h*r)*_,e[2]=(a*r-i*s)*_,e[3]=d*_,e[4]=(h*t-i*l)*_,e[5]=(i*o-a*t)*_,e[6]=m*_,e[7]=(r*l-f*t)*_,e[8]=(s*t-r*o)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const l=Math.cos(o),f=Math.sin(o);return this.set(r*l,r*f,-r*(l*s+f*a)+s+e,-i*f,i*l,-i*(-f*s+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],f=i[4],h=i[7];return i[0]=t*o+r*l,i[3]=t*s+r*f,i[6]=t*a+r*h,i[1]=-r*o+t*l,i[4]=-r*s+t*f,i[7]=-r*a+t*h,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}_n.prototype.isMatrix3=!0;function fT(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}const ek={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function bl(n,e){return new ek[n](e)}function fp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function dT(n,e=0){let t=3735928559^e,r=1103547991^e;for(let i=0,o;i<n.length;i++)o=n.charCodeAt(i),t=Math.imul(t^o,2654435761),r=Math.imul(r^o,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&r)+(t>>>0)}let El;class qs{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{El===void 0&&(El=fp("canvas")),El.width=e.width,El.height=e.height;const r=El.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=El}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let tk=0;class mn extends Qi{constructor(e=mn.DEFAULT_IMAGE,t=mn.DEFAULT_MAPPING,r=Fn,i=Fn,o=Zt,s=Fs,a=xn,l=Zi,f=1,h=Yn){super();Object.defineProperty(this,"id",{value:tk++}),this.uuid=Tr(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=l,this.offset=new se(0,0),this.repeat=new se(1,1),this.center=new se(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=Tr()),!t&&e.images[i.uuid]===void 0){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(Iy(i[s].image)):o.push(Iy(i[s]))}else o=Iy(i);e.images[i.uuid]={uuid:i.uuid,url:o}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==np)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wc:e.x=e.x-Math.floor(e.x);break;case Fn:e.x=e.x<0?0:1;break;case $c:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wc:e.y=e.y-Math.floor(e.y);break;case Fn:e.y=e.y<0?0:1;break;case $c:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}mn.DEFAULT_IMAGE=void 0;mn.DEFAULT_MAPPING=np;mn.prototype.isTexture=!0;function Iy(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?qs.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class Lt{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const s=.01,a=.1,l=e.elements,f=l[0],h=l[4],p=l[8],d=l[1],m=l[5],x=l[9],_=l[2],w=l[6],y=l[10];if(Math.abs(h-d)<s&&Math.abs(p-_)<s&&Math.abs(x-w)<s){if(Math.abs(h+d)<a&&Math.abs(p+_)<a&&Math.abs(x+w)<a&&Math.abs(f+m+y-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const S=(f+1)/2,M=(m+1)/2,C=(y+1)/2,A=(h+d)/4,T=(p+_)/4,P=(x+w)/4;return S>M&&S>C?S<s?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(S),i=A/r,o=T/r):M>C?M<s?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(M),r=A/i,o=P/i):C<s?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(C),r=T/o,i=P/o),this.set(r,i,o,t),this}let v=Math.sqrt((w-x)*(w-x)+(p-_)*(p-_)+(d-h)*(d-h));return Math.abs(v)<.001&&(v=1),this.x=(w-x)/v,this.y=(p-_)/v,this.z=(d-h)/v,this.w=Math.acos((f+m+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Lt.prototype.isVector4=!0;class Hn extends Qi{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Lt(0,0,e,t),this.scissorTest=!1,this.viewport=new Lt(0,0,e,t),this.texture=new mn(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Zt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Te({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Hn.prototype.isWebGLRenderTarget=!0;class hT extends Hn{constructor(e,t,r){super(e,t);const i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}hT.prototype.isWebGLMultipleRenderTargets=!0;class dp extends Hn{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}}dp.prototype.isWebGLMultisampleRenderTarget=!0;class wn{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],f=r[i+1],h=r[i+2],p=r[i+3];const d=o[s+0],m=o[s+1],x=o[s+2],_=o[s+3];if(a===0){e[t+0]=l,e[t+1]=f,e[t+2]=h,e[t+3]=p;return}if(a===1){e[t+0]=d,e[t+1]=m,e[t+2]=x,e[t+3]=_;return}if(p!==_||l!==d||f!==m||h!==x){let w=1-a;const y=l*d+f*m+h*x+p*_,v=y>=0?1:-1,S=1-y*y;if(S>Number.EPSILON){const C=Math.sqrt(S),A=Math.atan2(C,y*v);w=Math.sin(w*A)/C,a=Math.sin(a*A)/C}const M=a*v;if(l=l*w+d*M,f=f*w+m*M,h=h*w+x*M,p=p*w+_*M,w===1-a){const C=1/Math.sqrt(l*l+f*f+h*h+p*p);l*=C,f*=C,h*=C,p*=C}}e[t]=l,e[t+1]=f,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],l=r[i+1],f=r[i+2],h=r[i+3],p=o[s],d=o[s+1],m=o[s+2],x=o[s+3];return e[t]=a*x+h*p+l*m-f*d,e[t+1]=l*x+h*d+f*p-a*m,e[t+2]=f*x+h*m+a*d-l*p,e[t+3]=h*x-a*p-l*d-f*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,f=a(r/2),h=a(i/2),p=a(o/2),d=l(r/2),m=l(i/2),x=l(o/2);switch(s){case"XYZ":this._x=d*h*p+f*m*x,this._y=f*m*p-d*h*x,this._z=f*h*x+d*m*p,this._w=f*h*p-d*m*x;break;case"YXZ":this._x=d*h*p+f*m*x,this._y=f*m*p-d*h*x,this._z=f*h*x-d*m*p,this._w=f*h*p+d*m*x;break;case"ZXY":this._x=d*h*p-f*m*x,this._y=f*m*p+d*h*x,this._z=f*h*x+d*m*p,this._w=f*h*p-d*m*x;break;case"ZYX":this._x=d*h*p-f*m*x,this._y=f*m*p+d*h*x,this._z=f*h*x-d*m*p,this._w=f*h*p+d*m*x;break;case"YZX":this._x=d*h*p+f*m*x,this._y=f*m*p+d*h*x,this._z=f*h*x-d*m*p,this._w=f*h*p-d*m*x;break;case"XZY":this._x=d*h*p-f*m*x,this._y=f*m*p-d*h*x,this._z=f*h*x+d*m*p,this._w=f*h*p+d*m*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],f=t[2],h=t[6],p=t[10],d=r+a+p;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(h-l)*m,this._y=(o-f)*m,this._z=(s-i)*m}else if(r>a&&r>p){const m=2*Math.sqrt(1+r-a-p);this._w=(h-l)/m,this._x=.25*m,this._y=(i+s)/m,this._z=(o+f)/m}else if(a>p){const m=2*Math.sqrt(1+a-r-p);this._w=(o-f)/m,this._x=(i+s)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+p-r-a);this._w=(s-i)/m,this._x=(o+f)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Un(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,f=t._z,h=t._w;return this._x=r*h+s*a+i*f-o*l,this._y=i*h+s*l+o*a-r*f,this._z=o*h+s*f+r*l-i*a,this._w=s*h-r*a-i*l-o*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*s+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(l),h=Math.atan2(f,a),p=Math.sin((1-t)*h)/f,d=Math.sin(t*h)/f;return this._w=s*p+this._w*d,this._x=r*p+this._x*d,this._y=i*p+this._y*d,this._z=o*p+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}wn.prototype.isQuaternion=!0;class I{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(pT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,f=l*t+s*i-a*r,h=l*r+a*t-o*i,p=l*i+o*r-s*t,d=-o*t-s*r-a*i;return this.x=f*l+d*-o+h*-a-p*-s,this.y=h*l+d*-s+p*-o-f*-a,this.z=p*l+d*-a+f*-s-h*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Dy.copy(this).projectOnVector(e),this.sub(Dy)}reflect(e){return this.sub(Dy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Un(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}I.prototype.isVector3=!0;const Dy=new I,pT=new wn;class rr{constructor(e=new I(1/0,1/0,1/0),t=new I(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,f=e.length;l<f;l+=3){const h=e[l],p=e[l+1],d=e[l+2];h<t&&(t=h),p<r&&(r=p),d<i&&(i=d),h>o&&(o=h),p>s&&(s=p),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,f=e.count;l<f;l++){const h=e.getX(l),p=e.getY(l),d=e.getZ(l);h<t&&(t=h),p<r&&(r=p),d<i&&(i=d),h>o&&(o=h),p>s&&(s=p),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Jc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),ky.copy(t.boundingBox),ky.applyMatrix4(e.matrixWorld),this.union(ky));const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Jc),Jc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kc),hp.subVectors(this.max,Kc),Tl.subVectors(e.a,Kc),Cl.subVectors(e.b,Kc),Al.subVectors(e.c,Kc),qo.subVectors(Cl,Tl),Xo.subVectors(Al,Cl),Xs.subVectors(Tl,Al);let t=[0,-qo.z,qo.y,0,-Xo.z,Xo.y,0,-Xs.z,Xs.y,qo.z,0,-qo.x,Xo.z,0,-Xo.x,Xs.z,0,-Xs.x,-qo.y,qo.x,0,-Xo.y,Xo.x,0,-Xs.y,Xs.x,0];return!Oy(t,Tl,Cl,Al,hp)||(t=[1,0,0,0,1,0,0,0,1],!Oy(t,Tl,Cl,Al,hp))?!1:(pp.crossVectors(qo,Xo),t=[pp.x,pp.y,pp.z],Oy(t,Tl,Cl,Al,hp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Jc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Jc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ji[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ji[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ji[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ji[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ji[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ji[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ji[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ji[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ji),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}rr.prototype.isBox3=!0;const Ji=[new I,new I,new I,new I,new I,new I,new I,new I],Jc=new I,ky=new rr,Tl=new I,Cl=new I,Al=new I,qo=new I,Xo=new I,Xs=new I,Kc=new I,hp=new I,pp=new I,Ys=new I;function Oy(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){Ys.fromArray(n,o);const a=i.x*Math.abs(Ys.x)+i.y*Math.abs(Ys.y)+i.z*Math.abs(Ys.z),l=e.dot(Ys),f=t.dot(Ys),h=r.dot(Ys);if(Math.max(-Math.max(l,f,h),Math.min(l,f,h))>a)return!1}return!0}const nk=new rr,mT=new I,Ny=new I,zy=new I;class Ki{constructor(e=new I,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):nk.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){zy.subVectors(e,this.center);const t=zy.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(zy.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return Ny.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(mT.copy(e.center).add(Ny)),this.expandByPoint(mT.copy(e.center).sub(Ny)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const eo=new I,Fy=new I,mp=new I,Yo=new I,By=new I,gp=new I,Uy=new I;class Zo{constructor(e=new I,t=new I(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=eo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(eo.copy(this.direction).multiplyScalar(t).add(this.origin),eo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Fy.copy(e).add(t).multiplyScalar(.5),mp.copy(t).sub(e).normalize(),Yo.copy(this.origin).sub(Fy);const o=e.distanceTo(t)*.5,s=-this.direction.dot(mp),a=Yo.dot(this.direction),l=-Yo.dot(mp),f=Yo.lengthSq(),h=Math.abs(1-s*s);let p,d,m,x;if(h>0)if(p=s*l-a,d=s*a-l,x=o*h,p>=0)if(d>=-x)if(d<=x){const _=1/h;p*=_,d*=_,m=p*(p+s*d+2*a)+d*(s*p+d+2*l)+f}else d=o,p=Math.max(0,-(s*d+a)),m=-p*p+d*(d+2*l)+f;else d=-o,p=Math.max(0,-(s*d+a)),m=-p*p+d*(d+2*l)+f;else d<=-x?(p=Math.max(0,-(-s*o+a)),d=p>0?-o:Math.min(Math.max(-o,-l),o),m=-p*p+d*(d+2*l)+f):d<=x?(p=0,d=Math.min(Math.max(-o,-l),o),m=d*(d+2*l)+f):(p=Math.max(0,-(s*o+a)),d=p>0?o:Math.min(Math.max(-o,-l),o),m=-p*p+d*(d+2*l)+f);else d=s>0?-o:o,p=Math.max(0,-(s*d+a)),m=-p*p+d*(d+2*l)+f;return r&&r.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(mp).multiplyScalar(d).add(Fy),m}intersectSphere(e,t){eo.subVectors(e.center,this.origin);const r=eo.dot(this.direction),i=eo.dot(eo)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l;const f=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,d=this.origin;return f>=0?(r=(e.min.x-d.x)*f,i=(e.max.x-d.x)*f):(r=(e.max.x-d.x)*f,i=(e.min.x-d.x)*f),h>=0?(o=(e.min.y-d.y)*h,s=(e.max.y-d.y)*h):(o=(e.max.y-d.y)*h,s=(e.min.y-d.y)*h),r>s||o>i||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),p>=0?(a=(e.min.z-d.z)*p,l=(e.max.z-d.z)*p):(a=(e.max.z-d.z)*p,l=(e.min.z-d.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,eo)!==null}intersectTriangle(e,t,r,i,o){By.subVectors(t,e),gp.subVectors(r,e),Uy.crossVectors(By,gp);let s=this.direction.dot(Uy),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Yo.subVectors(this.origin,e);const l=a*this.direction.dot(gp.crossVectors(Yo,gp));if(l<0)return null;const f=a*this.direction.dot(By.cross(Yo));if(f<0||l+f>s)return null;const h=-a*Yo.dot(Uy);return h<0?null:this.at(h/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qe{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,f,h,p,d,m,x,_,w){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=o,y[5]=s,y[9]=a,y[13]=l,y[2]=f,y[6]=h,y[10]=p,y[14]=d,y[3]=m,y[7]=x,y[11]=_,y[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qe().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Rl.setFromMatrixColumn(e,0).length(),o=1/Rl.setFromMatrixColumn(e,1).length(),s=1/Rl.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),f=Math.sin(i),h=Math.cos(o),p=Math.sin(o);if(e.order==="XYZ"){const d=s*h,m=s*p,x=a*h,_=a*p;t[0]=l*h,t[4]=-l*p,t[8]=f,t[1]=m+x*f,t[5]=d-_*f,t[9]=-a*l,t[2]=_-d*f,t[6]=x+m*f,t[10]=s*l}else if(e.order==="YXZ"){const d=l*h,m=l*p,x=f*h,_=f*p;t[0]=d+_*a,t[4]=x*a-m,t[8]=s*f,t[1]=s*p,t[5]=s*h,t[9]=-a,t[2]=m*a-x,t[6]=_+d*a,t[10]=s*l}else if(e.order==="ZXY"){const d=l*h,m=l*p,x=f*h,_=f*p;t[0]=d-_*a,t[4]=-s*p,t[8]=x+m*a,t[1]=m+x*a,t[5]=s*h,t[9]=_-d*a,t[2]=-s*f,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const d=s*h,m=s*p,x=a*h,_=a*p;t[0]=l*h,t[4]=x*f-m,t[8]=d*f+_,t[1]=l*p,t[5]=_*f+d,t[9]=m*f-x,t[2]=-f,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const d=s*l,m=s*f,x=a*l,_=a*f;t[0]=l*h,t[4]=_-d*p,t[8]=x*p+m,t[1]=p,t[5]=s*h,t[9]=-a*h,t[2]=-f*h,t[6]=m*p+x,t[10]=d-_*p}else if(e.order==="XZY"){const d=s*l,m=s*f,x=a*l,_=a*f;t[0]=l*h,t[4]=-p,t[8]=f*h,t[1]=d*p+_,t[5]=s*h,t[9]=m*p-x,t[2]=x*p-m,t[6]=a*h,t[10]=_*p+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(rk,e,ik)}lookAt(e,t,r){const i=this.elements;return Cr.subVectors(e,t),Cr.lengthSq()===0&&(Cr.z=1),Cr.normalize(),Qo.crossVectors(r,Cr),Qo.lengthSq()===0&&(Math.abs(r.z)===1?Cr.x+=1e-4:Cr.z+=1e-4,Cr.normalize(),Qo.crossVectors(r,Cr)),Qo.normalize(),vp.crossVectors(Cr,Qo),i[0]=Qo.x,i[4]=vp.x,i[8]=Cr.x,i[1]=Qo.y,i[5]=vp.y,i[9]=Cr.y,i[2]=Qo.z,i[6]=vp.z,i[10]=Cr.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],f=r[12],h=r[1],p=r[5],d=r[9],m=r[13],x=r[2],_=r[6],w=r[10],y=r[14],v=r[3],S=r[7],M=r[11],C=r[15],A=i[0],T=i[4],P=i[8],k=i[12],F=i[1],D=i[5],U=i[9],H=i[13],W=i[2],$=i[6],q=i[10],Z=i[14],de=i[3],Me=i[7],ue=i[11],V=i[15];return o[0]=s*A+a*F+l*W+f*de,o[4]=s*T+a*D+l*$+f*Me,o[8]=s*P+a*U+l*q+f*ue,o[12]=s*k+a*H+l*Z+f*V,o[1]=h*A+p*F+d*W+m*de,o[5]=h*T+p*D+d*$+m*Me,o[9]=h*P+p*U+d*q+m*ue,o[13]=h*k+p*H+d*Z+m*V,o[2]=x*A+_*F+w*W+y*de,o[6]=x*T+_*D+w*$+y*Me,o[10]=x*P+_*U+w*q+y*ue,o[14]=x*k+_*H+w*Z+y*V,o[3]=v*A+S*F+M*W+C*de,o[7]=v*T+S*D+M*$+C*Me,o[11]=v*P+S*U+M*q+C*ue,o[15]=v*k+S*H+M*Z+C*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],f=e[13],h=e[2],p=e[6],d=e[10],m=e[14],x=e[3],_=e[7],w=e[11],y=e[15];return x*(+o*l*p-i*f*p-o*a*d+r*f*d+i*a*m-r*l*m)+_*(+t*l*m-t*f*d+o*s*d-i*s*m+i*f*h-o*l*h)+w*(+t*f*p-t*a*m-o*s*p+r*s*m+o*a*h-r*f*h)+y*(-i*a*h-t*l*p+t*a*d+i*s*p-r*s*d+r*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],f=e[7],h=e[8],p=e[9],d=e[10],m=e[11],x=e[12],_=e[13],w=e[14],y=e[15],v=p*w*f-_*d*f+_*l*m-a*w*m-p*l*y+a*d*y,S=x*d*f-h*w*f-x*l*m+s*w*m+h*l*y-s*d*y,M=h*_*f-x*p*f+x*a*m-s*_*m-h*a*y+s*p*y,C=x*p*l-h*_*l-x*a*d+s*_*d+h*a*w-s*p*w,A=t*v+r*S+i*M+o*C;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/A;return e[0]=v*T,e[1]=(_*d*o-p*w*o-_*i*m+r*w*m+p*i*y-r*d*y)*T,e[2]=(a*w*o-_*l*o+_*i*f-r*w*f-a*i*y+r*l*y)*T,e[3]=(p*l*o-a*d*o-p*i*f+r*d*f+a*i*m-r*l*m)*T,e[4]=S*T,e[5]=(h*w*o-x*d*o+x*i*m-t*w*m-h*i*y+t*d*y)*T,e[6]=(x*l*o-s*w*o-x*i*f+t*w*f+s*i*y-t*l*y)*T,e[7]=(s*d*o-h*l*o+h*i*f-t*d*f-s*i*m+t*l*m)*T,e[8]=M*T,e[9]=(x*p*o-h*_*o-x*r*m+t*_*m+h*r*y-t*p*y)*T,e[10]=(s*_*o-x*a*o+x*r*f-t*_*f-s*r*y+t*a*y)*T,e[11]=(h*a*o-s*p*o-h*r*f+t*p*f+s*r*m-t*a*m)*T,e[12]=C*T,e[13]=(h*_*i-x*p*i+x*r*d-t*_*d-h*r*w+t*p*w)*T,e[14]=(x*a*i-s*_*i-x*r*l+t*_*l+s*r*w-t*a*w)*T,e[15]=(s*p*i-h*a*i+h*r*l-t*p*l-s*r*d+t*a*d)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,f=o*s,h=o*a;return this.set(f*s+r,f*a-i*l,f*l+i*a,0,f*a+i*l,h*a+r,h*l-i*s,0,f*l-i*a,h*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,f=o+o,h=s+s,p=a+a,d=o*f,m=o*h,x=o*p,_=s*h,w=s*p,y=a*p,v=l*f,S=l*h,M=l*p,C=r.x,A=r.y,T=r.z;return i[0]=(1-(_+y))*C,i[1]=(m+M)*C,i[2]=(x-S)*C,i[3]=0,i[4]=(m-M)*A,i[5]=(1-(d+y))*A,i[6]=(w+v)*A,i[7]=0,i[8]=(x+S)*T,i[9]=(w-v)*T,i[10]=(1-(d+_))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=Rl.set(i[0],i[1],i[2]).length();const s=Rl.set(i[4],i[5],i[6]).length(),a=Rl.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Kr.copy(this);const f=1/o,h=1/s,p=1/a;return Kr.elements[0]*=f,Kr.elements[1]*=f,Kr.elements[2]*=f,Kr.elements[4]*=h,Kr.elements[5]*=h,Kr.elements[6]*=h,Kr.elements[8]*=p,Kr.elements[9]*=p,Kr.elements[10]*=p,t.setFromRotationMatrix(Kr),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(t-e),f=2*o/(r-i),h=(t+e)/(t-e),p=(r+i)/(r-i),d=-(s+o)/(s-o),m=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=f,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,l=1/(t-e),f=1/(r-i),h=1/(s-o),p=(t+e)*l,d=(r+i)*f,m=(s+o)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}qe.prototype.isMatrix4=!0;const Rl=new I,Kr=new qe,rk=new I(0,0,0),ik=new I(1,1,1),Qo=new I,vp=new I,Cr=new I,gT=new qe,vT=new wn;class Zs{constructor(e=0,t=0,r=0,i=Zs.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],f=i[5],h=i[9],p=i[2],d=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Un(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,f)):(this._y=Math.atan2(-p,o),this._z=0);break;case"ZXY":this._x=Math.asin(Un(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-p,m),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Un(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(Un(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Un(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,f),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return gT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gT,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return vT.setFromEuler(this),this.setFromQuaternion(vT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new I(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Zs.prototype.isEuler=!0;Zs.DefaultOrder="XYZ";Zs.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Pl{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}}let ok=0;const yT=new I,Ll=new wn,to=new qe,yp=new I,ef=new I,sk=new I,ak=new wn,xT=new I(1,0,0),_T=new I(0,1,0),wT=new I(0,0,1),lk={type:"added"},ST={type:"removed"};class xt extends Qi{constructor(){super();Object.defineProperty(this,"id",{value:ok++}),this.uuid=Tr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xt.DefaultUp.clone();const e=new I,t=new Zs,r=new wn,i=new I(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qe},normalMatrix:{value:new _n}}),this.matrix=new qe,this.matrixWorld=new qe,this.matrixAutoUpdate=xt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Pl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ll.setFromAxisAngle(e,t),this.quaternion.multiply(Ll),this}rotateOnWorldAxis(e,t){return Ll.setFromAxisAngle(e,t),this.quaternion.premultiply(Ll),this}rotateX(e){return this.rotateOnAxis(xT,e)}rotateY(e){return this.rotateOnAxis(_T,e)}rotateZ(e){return this.rotateOnAxis(wT,e)}translateOnAxis(e,t){return yT.copy(e).applyQuaternion(this.quaternion),this.position.add(yT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(xT,e)}translateY(e){return this.translateOnAxis(_T,e)}translateZ(e){return this.translateOnAxis(wT,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(to.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?yp.copy(e):yp.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ef.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?to.lookAt(ef,yp,this.up):to.lookAt(yp,ef,this.up),this.quaternion.setFromRotationMatrix(to),i&&(to.extractRotation(i.matrixWorld),Ll.setFromRotationMatrix(to),this.quaternion.premultiply(Ll.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(lk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ST)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ST)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),to.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),to.multiply(e.parent.matrixWorld)),e.applyMatrix4(to),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ef,e,sk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ef,ak,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let f=0,h=l.length;f<h;f++){const p=l[f];o(e.shapes,p)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,f=this.material.length;l<f;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),f=s(e.textures),h=s(e.images),p=s(e.shapes),d=s(e.skeletons),m=s(e.animations);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),f.length>0&&(r.textures=f),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m)}return r.object=i,r;function s(a){const l=[];for(const f in a){const h=a[f];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xt.DefaultUp=new I(0,1,0);xt.DefaultMatrixAutoUpdate=!0;xt.prototype.isObject3D=!0;const ei=new I,no=new I,Hy=new I,ro=new I,Il=new I,Dl=new I,MT=new I,Vy=new I,Gy=new I,Wy=new I;class ln{constructor(e=new I,t=new I,r=new I){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ei.subVectors(e,t),i.cross(ei);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){ei.subVectors(i,t),no.subVectors(r,t),Hy.subVectors(e,t);const s=ei.dot(ei),a=ei.dot(no),l=ei.dot(Hy),f=no.dot(no),h=no.dot(Hy),p=s*f-a*a;if(p===0)return o.set(-2,-1,-1);const d=1/p,m=(f*l-a*h)*d,x=(s*h-a*l)*d;return o.set(1-m-x,x,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ro),ro.x>=0&&ro.y>=0&&ro.x+ro.y<=1}static getUV(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,ro),l.set(0,0),l.addScaledVector(o,ro.x),l.addScaledVector(s,ro.y),l.addScaledVector(a,ro.z),l}static isFrontFacing(e,t,r,i){return ei.subVectors(r,t),no.subVectors(e,t),ei.cross(no).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ei.subVectors(this.c,this.b),no.subVectors(this.a,this.b),ei.cross(no).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ln.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ln.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return ln.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return ln.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ln.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;Il.subVectors(i,r),Dl.subVectors(o,r),Vy.subVectors(e,r);const l=Il.dot(Vy),f=Dl.dot(Vy);if(l<=0&&f<=0)return t.copy(r);Gy.subVectors(e,i);const h=Il.dot(Gy),p=Dl.dot(Gy);if(h>=0&&p<=h)return t.copy(i);const d=l*p-h*f;if(d<=0&&l>=0&&h<=0)return s=l/(l-h),t.copy(r).addScaledVector(Il,s);Wy.subVectors(e,o);const m=Il.dot(Wy),x=Dl.dot(Wy);if(x>=0&&m<=x)return t.copy(o);const _=m*f-l*x;if(_<=0&&f>=0&&x<=0)return a=f/(f-x),t.copy(r).addScaledVector(Dl,a);const w=h*x-m*p;if(w<=0&&p-h>=0&&m-x>=0)return MT.subVectors(o,i),a=(p-h)/(p-h+(m-x)),t.copy(i).addScaledVector(MT,a);const y=1/(w+_+d);return s=_*y,a=d*y,t.copy(r).addScaledVector(Il,s).addScaledVector(Dl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let uk=0;class Tn extends Qi{constructor(){super();Object.defineProperty(this,"id",{value:uk++}),this.uuid=Tr(),this.name="",this.type="Material",this.fog=!0,this.blending=yl,this.side=Ds,this.vertexColors=!1,this.opacity=1,this.format=xn,this.transparent=!1,this.blendSrc=fy,this.blendDst=dy,this.blendEquation=Os,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=tp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=lT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=up,this.stencilZFail=up,this.stencilZPass=up,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===sy;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==yl&&(r.blending=this.blending),this.side!==Ds&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==xn&&(r.format=this.format),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Tn.prototype.isMaterial=!0;const bT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={h:0,s:0,l:0},xp={h:0,s:0,l:0};function $y(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function jy(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function qy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class Le{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=Py(e,1),t=Un(t,0,1),r=Un(r,0,1),t===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=$y(o,i,e+1/3),this.g=$y(o,i,e),this.b=$y(o,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const a=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,f=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,l,f)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=bT[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=jy(e.r),this.g=jy(e.g),this.b=jy(e.b),this}copyLinearToSRGB(e){return this.r=qy(e.r),this.g=qy(e.g),this.b=qy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,r=this.g,i=this.b,o=Math.max(t,r,i),s=Math.min(t,r,i);let a,l;const f=(s+o)/2;if(s===o)a=0,l=0;else{const h=o-s;switch(l=f<=.5?h/(o+s):h/(2-o-s),o){case t:a=(r-i)/h+(r<i?6:0);break;case r:a=(i-t)/h+2;break;case i:a=(t-r)/h+4;break}a/=6}return e.h=a,e.s=l,e.l=f,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(ti),ti.h+=e,ti.s+=t,ti.l+=r,this.setHSL(ti.h,ti.s,ti.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ti),e.getHSL(xp);const r=Qc(ti.h,xp.h,t),i=Qc(ti.s,xp.s,t),o=Qc(ti.l,xp.l,t);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Le.NAMES=bT;Le.prototype.isColor=!0;Le.prototype.r=1;Le.prototype.g=1;Le.prototype.b=1;class wi extends Tn{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}wi.prototype.isMeshBasicMaterial=!0;const Ht=new I,_p=new se;class Mt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=wl,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Le),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new se),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new I),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new Lt),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)_p.fromBufferAttribute(this,t),_p.applyMatrix3(e),this.setXY(t,_p.x,_p.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ht.fromBufferAttribute(this,t),Ht.applyMatrix3(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyMatrix4(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyNormalMatrix(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.transformDirection(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==wl&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Mt.prototype.isBufferAttribute=!0;class ET extends Mt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class TT extends Mt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class CT extends Mt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class AT extends Mt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class wp extends Mt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class RT extends Mt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Sp extends Mt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class PT extends Mt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}PT.prototype.isFloat16BufferAttribute=!0;class Ve extends Mt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class LT extends Mt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let ck=0;const Gr=new qe,Xy=new xt,kl=new I,Ar=new rr,tf=new rr,Cn=new I;class Qe extends Qi{constructor(){super();Object.defineProperty(this,"id",{value:ck++}),this.uuid=Tr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fT(e)>65535?Sp:wp)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new _n().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gr.makeRotationFromQuaternion(e),this.applyMatrix4(Gr),this}rotateX(e){return Gr.makeRotationX(e),this.applyMatrix4(Gr),this}rotateY(e){return Gr.makeRotationY(e),this.applyMatrix4(Gr),this}rotateZ(e){return Gr.makeRotationZ(e),this.applyMatrix4(Gr),this}translate(e,t,r){return Gr.makeTranslation(e,t,r),this.applyMatrix4(Gr),this}scale(e,t,r){return Gr.makeScale(e,t,r),this.applyMatrix4(Gr),this}lookAt(e){return Xy.lookAt(e),Xy.updateMatrix(),this.applyMatrix4(Xy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kl).negate(),this.translate(kl.x,kl.y,kl.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Ve(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];Ar.setFromBufferAttribute(o),this.morphTargetsRelative?(Cn.addVectors(this.boundingBox.min,Ar.min),this.boundingBox.expandByPoint(Cn),Cn.addVectors(this.boundingBox.max,Ar.max),this.boundingBox.expandByPoint(Cn)):(this.boundingBox.expandByPoint(Ar.min),this.boundingBox.expandByPoint(Ar.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ki);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new I,1/0);return}if(e){const r=this.boundingSphere.center;if(Ar.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];tf.setFromBufferAttribute(a),this.morphTargetsRelative?(Cn.addVectors(Ar.min,tf.min),Ar.expandByPoint(Cn),Cn.addVectors(Ar.max,tf.max),Ar.expandByPoint(Cn)):(Ar.expandByPoint(tf.min),Ar.expandByPoint(tf.max))}Ar.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Cn.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Cn));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let f=0,h=a.count;f<h;f++)Cn.fromBufferAttribute(a,f),l&&(kl.fromBufferAttribute(e,f),Cn.add(kl)),i=Math.max(i,r.distanceToSquared(Cn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Mt(new Float32Array(4*a),4));const l=t.tangent.array,f=[],h=[];for(let F=0;F<a;F++)f[F]=new I,h[F]=new I;const p=new I,d=new I,m=new I,x=new se,_=new se,w=new se,y=new I,v=new I;function S(F,D,U){p.fromArray(i,F*3),d.fromArray(i,D*3),m.fromArray(i,U*3),x.fromArray(s,F*2),_.fromArray(s,D*2),w.fromArray(s,U*2),d.sub(p),m.sub(p),_.sub(x),w.sub(x);const H=1/(_.x*w.y-w.x*_.y);!isFinite(H)||(y.copy(d).multiplyScalar(w.y).addScaledVector(m,-_.y).multiplyScalar(H),v.copy(m).multiplyScalar(_.x).addScaledVector(d,-w.x).multiplyScalar(H),f[F].add(y),f[D].add(y),f[U].add(y),h[F].add(v),h[D].add(v),h[U].add(v))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let F=0,D=M.length;F<D;++F){const U=M[F],H=U.start,W=U.count;for(let $=H,q=H+W;$<q;$+=3)S(r[$+0],r[$+1],r[$+2])}const C=new I,A=new I,T=new I,P=new I;function k(F){T.fromArray(o,F*3),P.copy(T);const D=f[F];C.copy(D),C.sub(T.multiplyScalar(T.dot(D))).normalize(),A.crossVectors(P,D);const H=A.dot(h[F])<0?-1:1;l[F*4]=C.x,l[F*4+1]=C.y,l[F*4+2]=C.z,l[F*4+3]=H}for(let F=0,D=M.length;F<D;++F){const U=M[F],H=U.start,W=U.count;for(let $=H,q=H+W;$<q;$+=3)k(r[$+0]),k(r[$+1]),k(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Mt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new I,o=new I,s=new I,a=new I,l=new I,f=new I,h=new I,p=new I;if(e)for(let d=0,m=e.count;d<m;d+=3){const x=e.getX(d+0),_=e.getX(d+1),w=e.getX(d+2);i.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),s.fromBufferAttribute(t,w),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),a.fromBufferAttribute(r,x),l.fromBufferAttribute(r,_),f.fromBufferAttribute(r,w),a.add(h),l.add(h),f.add(h),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(w,f.x,f.y,f.z)}else for(let d=0,m=t.count;d<m;d+=3)i.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),s.fromBufferAttribute(t,d+2),h.subVectors(s,o),p.subVectors(i,o),h.cross(p),r.setXYZ(d+0,h.x,h.y,h.z),r.setXYZ(d+1,h.x,h.y,h.z),r.setXYZ(d+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,a=e.attributes[i],l=a.array,f=a.itemSize*t,h=Math.min(l.length,s.length-f);for(let p=0,d=f;p<h;p++,d++)s[d]=l[p]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Cn.fromBufferAttribute(e,t),Cn.normalize(),e.setXYZ(t,Cn.x,Cn.y,Cn.z)}toNonIndexed(){function e(a,l){const f=a.array,h=a.itemSize,p=a.normalized,d=new f.constructor(l.length*h);let m=0,x=0;for(let _=0,w=l.length;_<w;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*h;for(let y=0;y<h;y++)d[x++]=f[m++]}return new Mt(d,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qe,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],f=e(l,r);t.setAttribute(a,f)}const o=this.morphAttributes;for(const a in o){const l=[],f=o[a];for(let h=0,p=f.length;h<p;h++){const d=f[h],m=e(d,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const f=s[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const f in l)l[f]!==void 0&&(e[f]=l[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const f=r[l];e.data.attributes[l]=f.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const f=this.morphAttributes[l],h=[];for(let p=0,d=f.length;p<d;p++){const m=f[p];h.push(m.toJSON(e.data))}h.length>0&&(i[l]=h,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const f in i){const h=i[f];this.setAttribute(f,h.clone(t))}const o=e.morphAttributes;for(const f in o){const h=[],p=o[f];for(let d=0,m=p.length;d<m;d++)h.push(p[d].clone(t));this.morphAttributes[f]=h}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,h=s.length;f<h;f++){const p=s[f];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Qe.prototype.isBufferGeometry=!0;const IT=new qe,Ol=new Zo,Yy=new Ki,Jo=new I,Ko=new I,es=new I,Zy=new I,Qy=new I,Jy=new I,Mp=new I,bp=new I,Ep=new I,Tp=new se,Cp=new se,Ap=new se,Ky=new I,Rp=new I;class un extends xt{constructor(e=new Qe,t=new wi){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Yy.copy(r.boundingSphere),Yy.applyMatrix4(o),e.ray.intersectsSphere(Yy)===!1)||(IT.copy(o).invert(),Ol.copy(e.ray).applyMatrix4(IT),r.boundingBox!==null&&Ol.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,f=r.morphAttributes.position,h=r.morphTargetsRelative,p=r.attributes.uv,d=r.attributes.uv2,m=r.groups,x=r.drawRange;if(a!==null)if(Array.isArray(i))for(let _=0,w=m.length;_<w;_++){const y=m[_],v=i[y.materialIndex],S=Math.max(y.start,x.start),M=Math.min(a.count,Math.min(y.start+y.count,x.start+x.count));for(let C=S,A=M;C<A;C+=3){const T=a.getX(C),P=a.getX(C+1),k=a.getX(C+2);s=Pp(this,v,e,Ol,l,f,h,p,d,T,P,k),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=y.materialIndex,t.push(s))}}else{const _=Math.max(0,x.start),w=Math.min(a.count,x.start+x.count);for(let y=_,v=w;y<v;y+=3){const S=a.getX(y),M=a.getX(y+1),C=a.getX(y+2);s=Pp(this,i,e,Ol,l,f,h,p,d,S,M,C),s&&(s.faceIndex=Math.floor(y/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let _=0,w=m.length;_<w;_++){const y=m[_],v=i[y.materialIndex],S=Math.max(y.start,x.start),M=Math.min(l.count,Math.min(y.start+y.count,x.start+x.count));for(let C=S,A=M;C<A;C+=3){const T=C,P=C+1,k=C+2;s=Pp(this,v,e,Ol,l,f,h,p,d,T,P,k),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=y.materialIndex,t.push(s))}}else{const _=Math.max(0,x.start),w=Math.min(l.count,x.start+x.count);for(let y=_,v=w;y<v;y+=3){const S=y,M=y+1,C=y+2;s=Pp(this,i,e,Ol,l,f,h,p,d,S,M,C),s&&(s.faceIndex=Math.floor(y/3),t.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}un.prototype.isMesh=!0;function fk(n,e,t,r,i,o,s,a){let l;if(e.side===an?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side!==ks,a),l===null)return null;Rp.copy(a),Rp.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Rp);return f<t.near||f>t.far?null:{distance:f,point:Rp.clone(),object:n}}function Pp(n,e,t,r,i,o,s,a,l,f,h,p){Jo.fromBufferAttribute(i,f),Ko.fromBufferAttribute(i,h),es.fromBufferAttribute(i,p);const d=n.morphTargetInfluences;if(o&&d){Mp.set(0,0,0),bp.set(0,0,0),Ep.set(0,0,0);for(let x=0,_=o.length;x<_;x++){const w=d[x],y=o[x];w!==0&&(Zy.fromBufferAttribute(y,f),Qy.fromBufferAttribute(y,h),Jy.fromBufferAttribute(y,p),s?(Mp.addScaledVector(Zy,w),bp.addScaledVector(Qy,w),Ep.addScaledVector(Jy,w)):(Mp.addScaledVector(Zy.sub(Jo),w),bp.addScaledVector(Qy.sub(Ko),w),Ep.addScaledVector(Jy.sub(es),w)))}Jo.add(Mp),Ko.add(bp),es.add(Ep)}n.isSkinnedMesh&&(n.boneTransform(f,Jo),n.boneTransform(h,Ko),n.boneTransform(p,es));const m=fk(n,e,t,r,Jo,Ko,es,Ky);if(m){a&&(Tp.fromBufferAttribute(a,f),Cp.fromBufferAttribute(a,h),Ap.fromBufferAttribute(a,p),m.uv=ln.getUV(Ky,Jo,Ko,es,Tp,Cp,Ap,new se)),l&&(Tp.fromBufferAttribute(l,f),Cp.fromBufferAttribute(l,h),Ap.fromBufferAttribute(l,p),m.uv2=ln.getUV(Ky,Jo,Ko,es,Tp,Cp,Ap,new se));const x={a:f,b:h,c:p,normal:new I,materialIndex:0};ln.getNormal(Jo,Ko,es,x.normal),m.face=x}return m}class io extends Qe{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],f=[],h=[],p=[];let d=0,m=0;x("z","y","x",-1,-1,r,t,e,s,o,0),x("z","y","x",1,-1,r,t,-e,s,o,1),x("x","z","y",1,1,e,r,t,i,s,2),x("x","z","y",1,-1,e,r,-t,i,s,3),x("x","y","z",1,-1,e,t,r,i,o,4),x("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Ve(f,3)),this.setAttribute("normal",new Ve(h,3)),this.setAttribute("uv",new Ve(p,2));function x(_,w,y,v,S,M,C,A,T,P,k){const F=M/T,D=C/P,U=M/2,H=C/2,W=A/2,$=T+1,q=P+1;let Z=0,de=0;const Me=new I;for(let ue=0;ue<q;ue++){const V=ue*D-H;for(let te=0;te<$;te++){const ie=te*F-U;Me[_]=ie*v,Me[w]=V*S,Me[y]=W,f.push(Me.x,Me.y,Me.z),Me[_]=0,Me[w]=0,Me[y]=A>0?1:-1,h.push(Me.x,Me.y,Me.z),p.push(te/T),p.push(1-ue/P),Z+=1}}for(let ue=0;ue<P;ue++)for(let V=0;V<T;V++){const te=d+V+$*ue,ie=d+V+$*(ue+1),ye=d+(V+1)+$*(ue+1),Be=d+(V+1)+$*ue;l.push(te,ie,Be),l.push(ie,ye,Be),de+=6}a.addGroup(m,de,k),m+=de,d+=Z}}static fromJSON(e){return new io(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nl(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Zn(n){const e={};for(let t=0;t<n.length;t++){const r=Nl(n[t]);for(const i in r)e[i]=r[i]}return e}const nf={clone:Nl,merge:Zn};var dk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ir extends Tn{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=dk,this.fragmentShader=hk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nl(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}ir.prototype.isShaderMaterial=!0;class Qs extends xt{constructor(){super();this.type="Camera",this.matrixWorldInverse=new qe,this.projectionMatrix=new qe,this.projectionMatrixInverse=new qe}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Qs.prototype.isCamera=!0;class Wt extends Qs{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zc*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(js*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zc*2*Math.atan(Math.tan(js*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(js*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,f=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/f,i*=s.width/l,r*=s.height/f}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Wt.prototype.isPerspectiveCamera=!0;const zl=90,Fl=1;class Lp extends xt{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Wt(zl,Fl,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new I(1,0,0)),this.add(i);const o=new Wt(zl,Fl,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new I(-1,0,0)),this.add(o);const s=new Wt(zl,Fl,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new I(0,1,0)),this.add(s);const a=new Wt(zl,Fl,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new I(0,-1,0)),this.add(a);const l=new Wt(zl,Fl,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new I(0,0,1)),this.add(l);const f=new Wt(zl,Fl,e,t);f.layers=this.layers,f.up.set(0,-1,0),f.lookAt(new I(0,0,-1)),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,l,f]=this.children,h=e.xr.enabled,p=e.getRenderTarget();e.xr.enabled=!1;const d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(t,f),e.setRenderTarget(p),e.xr.enabled=h}}class Bl extends mn{constructor(e,t,r,i,o,s,a,l,f,h){e=e!==void 0?e:[],t=t!==void 0?t:Ns;super(e,t,r,i,o,s,a,l,f,h);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Bl.prototype.isCubeTexture=!0;class Ip extends Hn{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r);super(e,e,t);t=t||{},this.texture=new Bl(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Zt,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=xn,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new io(5,5,5),o=new ir({name:"CubemapFromEquirect",uniforms:Nl(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:an,blending:Xi});o.uniforms.tEquirect.value=t;const s=new un(i,o),a=t.minFilter;return t.minFilter===Fs&&(t.minFilter=Zt),new Lp(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}Ip.prototype.isWebGLCubeRenderTarget=!0;const ex=new I,pk=new I,mk=new _n;class Si{constructor(e=new I(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=ex.subVectors(r,t).cross(pk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(ex),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||mk.getNormalMatrix(e),i=this.coplanarPoint(ex).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Si.prototype.isPlane=!0;const Ul=new Ki,Dp=new I;class rf{constructor(e=new Si,t=new Si,r=new Si,i=new Si,o=new Si,s=new Si){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],f=r[5],h=r[6],p=r[7],d=r[8],m=r[9],x=r[10],_=r[11],w=r[12],y=r[13],v=r[14],S=r[15];return t[0].setComponents(a-i,p-l,_-d,S-w).normalize(),t[1].setComponents(a+i,p+l,_+d,S+w).normalize(),t[2].setComponents(a+o,p+f,_+m,S+y).normalize(),t[3].setComponents(a-o,p-f,_-m,S-y).normalize(),t[4].setComponents(a-s,p-h,_-x,S-v).normalize(),t[5].setComponents(a+s,p+h,_+x,S+v).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ul.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ul)}intersectsSprite(e){return Ul.center.set(0,0,0),Ul.radius=.7071067811865476,Ul.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ul)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Dp.x=i.normal.x>0?e.max.x:e.min.x,Dp.y=i.normal.y>0?e.max.y:e.min.y,Dp.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Dp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function DT(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function gk(n,e){const t=e.isWebGL2,r=new WeakMap;function i(f,h){const p=f.array,d=f.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,p,d),f.onUploadCallback();let x=5126;return p instanceof Float32Array?x=5126:p instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):p instanceof Uint16Array?f.isFloat16BufferAttribute?t?x=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):x=5123:p instanceof Int16Array?x=5122:p instanceof Uint32Array?x=5125:p instanceof Int32Array?x=5124:p instanceof Int8Array?x=5120:(p instanceof Uint8Array||p instanceof Uint8ClampedArray)&&(x=5121),{buffer:m,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:f.version}}function o(f,h,p){const d=h.array,m=h.updateRange;n.bindBuffer(p,f),m.count===-1?n.bufferSubData(p,0,d):(t?n.bufferSubData(p,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):n.bufferSubData(p,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1)}function s(f){return f.isInterleavedBufferAttribute&&(f=f.data),r.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const h=r.get(f);h&&(n.deleteBuffer(h.buffer),r.delete(f))}function l(f,h){if(f.isGLBufferAttribute){const d=r.get(f);(!d||d.version<f.version)&&r.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const p=r.get(f);p===void 0?r.set(f,i(f,h)):p.version<f.version&&(o(p.buffer,f,h),p.version=f.version)}return{get:s,remove:a,update:l}}class Js extends Qe{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),f=a+1,h=l+1,p=e/a,d=t/l,m=[],x=[],_=[],w=[];for(let y=0;y<h;y++){const v=y*d-s;for(let S=0;S<f;S++){const M=S*p-o;x.push(M,-v,0),_.push(0,0,1),w.push(S/a),w.push(1-y/l)}}for(let y=0;y<l;y++)for(let v=0;v<a;v++){const S=v+f*y,M=v+f*(y+1),C=v+1+f*(y+1),A=v+1+f*y;m.push(S,M,A),m.push(M,C,A)}this.setIndex(m),this.setAttribute("position",new Ve(x,3)),this.setAttribute("normal",new Ve(_,3)),this.setAttribute("uv",new Ve(w,2))}static fromJSON(e){return new Js(e.width,e.height,e.widthSegments,e.heightSegments)}}var vk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,yk=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,xk=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,_k=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wk=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Sk=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Mk="vec3 transformed = vec3( position );",bk=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ek=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Tk=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ck=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Ak=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Rk=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Pk=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Lk=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ik=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Dk=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,kk=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ok=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Nk=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,zk=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Fk=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Bk=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Uk=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Hk=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vk="gl_FragColor = linearToOutputTexel( gl_FragColor );",Gk=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}`,Wk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,$k=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jk=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qk=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Xk=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Yk=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Zk=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Qk=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Jk=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Kk=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,eO=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,tO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,nO=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,rO=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,iO=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,oO=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sO=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,aO=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lO=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,uO=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,cO=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fO=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dO=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hO=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,pO=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mO=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gO=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,vO=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,yO=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,xO=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,_O=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,wO=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SO=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MO=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bO=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,EO=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,TO=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,CO=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,AO=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,RO=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PO=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LO=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,IO=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,DO=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,kO=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,OO=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,NO=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,zO=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,FO=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BO=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,UO=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,HO=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VO=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,GO=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,WO=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,$O=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jO=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,qO=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,XO=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,YO=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,ZO=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,QO=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JO=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KO=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,eN=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tN=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nN=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,rN=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,iN=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,oN=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,sN=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,aN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,lN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uN=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,cN=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fN=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dN=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pN=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mN=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,gN=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vN=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,yN=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,xN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_N=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wN=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,SN=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MN=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bN=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EN=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TN=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CN=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,AN=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RN=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,PN=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,LN=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IN=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DN=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kN=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ON=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NN=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BN=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UN=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,HN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:vk,alphamap_pars_fragment:yk,alphatest_fragment:xk,alphatest_pars_fragment:_k,aomap_fragment:wk,aomap_pars_fragment:Sk,begin_vertex:Mk,beginnormal_vertex:bk,bsdfs:Ek,bumpmap_pars_fragment:Tk,clipping_planes_fragment:Ck,clipping_planes_pars_fragment:Ak,clipping_planes_pars_vertex:Rk,clipping_planes_vertex:Pk,color_fragment:Lk,color_pars_fragment:Ik,color_pars_vertex:Dk,color_vertex:kk,common:Ok,cube_uv_reflection_fragment:Nk,defaultnormal_vertex:zk,displacementmap_pars_vertex:Fk,displacementmap_vertex:Bk,emissivemap_fragment:Uk,emissivemap_pars_fragment:Hk,encodings_fragment:Vk,encodings_pars_fragment:Gk,envmap_fragment:Wk,envmap_common_pars_fragment:$k,envmap_pars_fragment:jk,envmap_pars_vertex:qk,envmap_physical_pars_fragment:iO,envmap_vertex:Xk,fog_vertex:Yk,fog_pars_vertex:Zk,fog_fragment:Qk,fog_pars_fragment:Jk,gradientmap_pars_fragment:Kk,lightmap_fragment:eO,lightmap_pars_fragment:tO,lights_lambert_vertex:nO,lights_pars_begin:rO,lights_toon_fragment:oO,lights_toon_pars_fragment:sO,lights_phong_fragment:aO,lights_phong_pars_fragment:lO,lights_physical_fragment:uO,lights_physical_pars_fragment:cO,lights_fragment_begin:fO,lights_fragment_maps:dO,lights_fragment_end:hO,logdepthbuf_fragment:pO,logdepthbuf_pars_fragment:mO,logdepthbuf_pars_vertex:gO,logdepthbuf_vertex:vO,map_fragment:yO,map_pars_fragment:xO,map_particle_fragment:_O,map_particle_pars_fragment:wO,metalnessmap_fragment:SO,metalnessmap_pars_fragment:MO,morphnormal_vertex:bO,morphtarget_pars_vertex:EO,morphtarget_vertex:TO,normal_fragment_begin:CO,normal_fragment_maps:AO,normal_pars_fragment:RO,normal_pars_vertex:PO,normal_vertex:LO,normalmap_pars_fragment:IO,clearcoat_normal_fragment_begin:DO,clearcoat_normal_fragment_maps:kO,clearcoat_pars_fragment:OO,output_fragment:NO,packing:zO,premultiplied_alpha_fragment:FO,project_vertex:BO,dithering_fragment:UO,dithering_pars_fragment:HO,roughnessmap_fragment:VO,roughnessmap_pars_fragment:GO,shadowmap_pars_fragment:WO,shadowmap_pars_vertex:$O,shadowmap_vertex:jO,shadowmask_pars_fragment:qO,skinbase_vertex:XO,skinning_pars_vertex:YO,skinning_vertex:ZO,skinnormal_vertex:QO,specularmap_fragment:JO,specularmap_pars_fragment:KO,tonemapping_fragment:eN,tonemapping_pars_fragment:tN,transmission_fragment:nN,transmission_pars_fragment:rN,uv_pars_fragment:iN,uv_pars_vertex:oN,uv_vertex:sN,uv2_pars_fragment:aN,uv2_pars_vertex:lN,uv2_vertex:uN,worldpos_vertex:cN,background_vert:fN,background_frag:dN,cube_vert:hN,cube_frag:pN,depth_vert:mN,depth_frag:gN,distanceRGBA_vert:vN,distanceRGBA_frag:yN,equirect_vert:xN,equirect_frag:_N,linedashed_vert:wN,linedashed_frag:SN,meshbasic_vert:MN,meshbasic_frag:bN,meshlambert_vert:EN,meshlambert_frag:TN,meshmatcap_vert:CN,meshmatcap_frag:AN,meshnormal_vert:RN,meshnormal_frag:PN,meshphong_vert:LN,meshphong_frag:IN,meshphysical_vert:DN,meshphysical_frag:kN,meshtoon_vert:ON,meshtoon_frag:NN,points_vert:zN,points_frag:FN,shadow_vert:BN,shadow_frag:UN,sprite_vert:HN,sprite_frag:VN},Ie={common:{diffuse:{value:new Le(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _n},uv2Transform:{value:new _n},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new se(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Le(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Le(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new Le(16777215)},opacity:{value:1},center:{value:new se(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _n}}},ni={basic:{uniforms:Zn([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:Zn([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.fog,Ie.lights,{emissive:{value:new Le(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:Zn([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new Le(0)},specular:{value:new Le(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:Zn([Ie.common,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.roughnessmap,Ie.metalnessmap,Ie.fog,Ie.lights,{emissive:{value:new Le(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:Zn([Ie.common,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.gradientmap,Ie.fog,Ie.lights,{emissive:{value:new Le(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:Zn([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:Zn([Ie.points,Ie.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:Zn([Ie.common,Ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:Zn([Ie.common,Ie.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:Zn([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:Zn([Ie.sprite,Ie.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},cube:{uniforms:Zn([Ie.envmap,{opacity:{value:1}}]),vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:Zn([Ie.common,Ie.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:Zn([Ie.lights,Ie.fog,{color:{value:new Le(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};ni.physical={uniforms:Zn([ni.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new se(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Le(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new se},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Le(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Le(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};function GN(n,e,t,r,i){const o=new Le(0);let s=0,a,l,f=null,h=0,p=null;function d(x,_){let w=!1,y=_.isScene===!0?_.background:null;y&&y.isTexture&&(y=e.get(y));const v=n.xr,S=v.getSession&&v.getSession();S&&S.environmentBlendMode==="additive"&&(y=null),y===null?m(o,s):y&&y.isColor&&(m(y,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===xl)?(l===void 0&&(l=new un(new io(1,1,1),new ir({name:"BackgroundCubeMaterial",uniforms:Nl(ni.cube.uniforms),vertexShader:ni.cube.vertexShader,fragmentShader:ni.cube.fragmentShader,side:an,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(M,C,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=y,l.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(f!==y||h!==y.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,f=y,h=y.version,p=n.toneMapping),x.unshift(l,l.geometry,l.material,0,0,null)):y&&y.isTexture&&(a===void 0&&(a=new un(new Js(2,2),new ir({name:"BackgroundMaterial",uniforms:Nl(ni.background.uniforms),vertexShader:ni.background.vertexShader,fragmentShader:ni.background.fragmentShader,side:Ds,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),a.material.uniforms.uvTransform.value.copy(y.matrix),(f!==y||h!==y.version||p!==n.toneMapping)&&(a.material.needsUpdate=!0,f=y,h=y.version,p=n.toneMapping),x.unshift(a,a.geometry,a.material,0,0,null))}function m(x,_){t.buffers.color.setClear(x.r,x.g,x.b,_,i)}return{getClearColor:function(){return o},setClearColor:function(x,_=1){o.set(x),s=_,m(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(x){s=x,m(o,s)},render:d}}function WN(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=_(null);let f=l;function h(H,W,$,q,Z){let de=!1;if(s){const Me=x(q,$,W);f!==Me&&(f=Me,d(f.object)),de=w(q,Z),de&&y(q,Z)}else{const Me=W.wireframe===!0;(f.geometry!==q.id||f.program!==$.id||f.wireframe!==Me)&&(f.geometry=q.id,f.program=$.id,f.wireframe=Me,de=!0)}H.isInstancedMesh===!0&&(de=!0),Z!==null&&t.update(Z,34963),de&&(T(H,W,$,q),Z!==null&&n.bindBuffer(34963,t.get(Z).buffer))}function p(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function d(H){return r.isWebGL2?n.bindVertexArray(H):o.bindVertexArrayOES(H)}function m(H){return r.isWebGL2?n.deleteVertexArray(H):o.deleteVertexArrayOES(H)}function x(H,W,$){const q=$.wireframe===!0;let Z=a[H.id];Z===void 0&&(Z={},a[H.id]=Z);let de=Z[W.id];de===void 0&&(de={},Z[W.id]=de);let Me=de[q];return Me===void 0&&(Me=_(p()),de[q]=Me),Me}function _(H){const W=[],$=[],q=[];for(let Z=0;Z<i;Z++)W[Z]=0,$[Z]=0,q[Z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:$,attributeDivisors:q,object:H,attributes:{},index:null}}function w(H,W){const $=f.attributes,q=H.attributes;let Z=0;for(const de in q){const Me=$[de],ue=q[de];if(Me===void 0||Me.attribute!==ue||Me.data!==ue.data)return!0;Z++}return f.attributesNum!==Z||f.index!==W}function y(H,W){const $={},q=H.attributes;let Z=0;for(const de in q){const Me=q[de],ue={};ue.attribute=Me,Me.data&&(ue.data=Me.data),$[de]=ue,Z++}f.attributes=$,f.attributesNum=Z,f.index=W}function v(){const H=f.newAttributes;for(let W=0,$=H.length;W<$;W++)H[W]=0}function S(H){M(H,0)}function M(H,W){const $=f.newAttributes,q=f.enabledAttributes,Z=f.attributeDivisors;$[H]=1,q[H]===0&&(n.enableVertexAttribArray(H),q[H]=1),Z[H]!==W&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,W),Z[H]=W)}function C(){const H=f.newAttributes,W=f.enabledAttributes;for(let $=0,q=W.length;$<q;$++)W[$]!==H[$]&&(n.disableVertexAttribArray($),W[$]=0)}function A(H,W,$,q,Z,de){r.isWebGL2===!0&&($===5124||$===5125)?n.vertexAttribIPointer(H,W,$,Z,de):n.vertexAttribPointer(H,W,$,q,Z,de)}function T(H,W,$,q){if(r.isWebGL2===!1&&(H.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;v();const Z=q.attributes,de=$.getAttributes(),Me=W.defaultAttributeValues;for(const ue in de){const V=de[ue];if(V.location>=0){let te=Z[ue];if(te===void 0&&(ue==="instanceMatrix"&&H.instanceMatrix&&(te=H.instanceMatrix),ue==="instanceColor"&&H.instanceColor&&(te=H.instanceColor)),te!==void 0){const ie=te.normalized,ye=te.itemSize,Be=t.get(te);if(Be===void 0)continue;const ce=Be.buffer,We=Be.type,Fe=Be.bytesPerElement;if(te.isInterleavedBufferAttribute){const Re=te.data,$e=Re.stride,pt=te.offset;if(Re&&Re.isInstancedInterleavedBuffer){for(let le=0;le<V.locationSize;le++)M(V.location+le,Re.meshPerAttribute);H.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let le=0;le<V.locationSize;le++)S(V.location+le);n.bindBuffer(34962,ce);for(let le=0;le<V.locationSize;le++)A(V.location+le,ye/V.locationSize,We,ie,$e*Fe,(pt+ye/V.locationSize*le)*Fe)}else{if(te.isInstancedBufferAttribute){for(let Re=0;Re<V.locationSize;Re++)M(V.location+Re,te.meshPerAttribute);H.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let Re=0;Re<V.locationSize;Re++)S(V.location+Re);n.bindBuffer(34962,ce);for(let Re=0;Re<V.locationSize;Re++)A(V.location+Re,ye/V.locationSize,We,ie,ye*Fe,ye/V.locationSize*Re*Fe)}}else if(Me!==void 0){const ie=Me[ue];if(ie!==void 0)switch(ie.length){case 2:n.vertexAttrib2fv(V.location,ie);break;case 3:n.vertexAttrib3fv(V.location,ie);break;case 4:n.vertexAttrib4fv(V.location,ie);break;default:n.vertexAttrib1fv(V.location,ie)}}}}C()}function P(){D();for(const H in a){const W=a[H];for(const $ in W){const q=W[$];for(const Z in q)m(q[Z].object),delete q[Z];delete W[$]}delete a[H]}}function k(H){if(a[H.id]===void 0)return;const W=a[H.id];for(const $ in W){const q=W[$];for(const Z in q)m(q[Z].object),delete q[Z];delete W[$]}delete a[H.id]}function F(H){for(const W in a){const $=a[W];if($[H.id]===void 0)continue;const q=$[H.id];for(const Z in q)m(q[Z].object),delete q[Z];delete $[H.id]}}function D(){U(),f!==l&&(f=l,d(f.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:D,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:k,releaseStatesOfProgram:F,initAttributes:v,enableAttribute:S,disableUnusedAttributes:C}}function $N(n,e,t,r){const i=r.isWebGL2;let o;function s(f){o=f}function a(f,h){n.drawArrays(o,f,h),t.update(h,o,1)}function l(f,h,p){if(p===0)return;let d,m;if(i)d=n,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](o,f,h,p),t.update(h,o,p)}this.setMode=s,this.render=a,this.renderInstances=l}function jN(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const f=s||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,p=n.getParameter(34930),d=n.getParameter(35660),m=n.getParameter(3379),x=n.getParameter(34076),_=n.getParameter(34921),w=n.getParameter(36347),y=n.getParameter(36348),v=n.getParameter(36349),S=d>0,M=s||e.has("OES_texture_float"),C=S&&M,A=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:f,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:x,maxAttributes:_,maxVertexUniforms:w,maxVaryings:y,maxFragmentUniforms:v,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:A}}function qN(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Si,a=new _n,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,d,m){const x=p.length!==0||d||r!==0||i;return i=d,t=h(p,m,0),r=p.length,x},this.beginShadows=function(){o=!0,h(null)},this.endShadows=function(){o=!1,f()},this.setState=function(p,d,m){const x=p.clippingPlanes,_=p.clipIntersection,w=p.clipShadows,y=n.get(p);if(!i||x===null||x.length===0||o&&!w)o?h(null):f();else{const v=o?0:r,S=v*4;let M=y.clippingState||null;l.value=M,M=h(x,d,S,m);for(let C=0;C!==S;++C)M[C]=t[C];y.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=v}};function f(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,d,m,x){const _=p!==null?p.length:0;let w=null;if(_!==0){if(w=l.value,x!==!0||w===null){const y=m+_*4,v=d.matrixWorldInverse;a.getNormalMatrix(v),(w===null||w.length<y)&&(w=new Float32Array(y));for(let S=0,M=m;S!==_;++S,M+=4)s.copy(p[S]).applyMatrix4(v,a),s.normal.toArray(w,M),w[M+3]=s.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,w}}function XN(n){let e=new WeakMap;function t(s,a){return a===Hc?s.mapping=Ns:a===Vc&&(s.mapping=zs),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===Hc||a===Vc)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const f=n.getRenderTarget(),h=new Ip(l.height/2);return h.fromEquirectangularTexture(n,s),e.set(s,h),n.setRenderTarget(f),s.addEventListener("dispose",i),t(h.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class ri extends Qs{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=f*this.view.offsetX,s=o+f*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}ri.prototype.isOrthographicCamera=!0;class Hl extends ir{constructor(e){super(e);this.type="RawShaderMaterial"}}Hl.prototype.isRawShaderMaterial=!0;const Vl=4,ts=8,Mi=Math.pow(2,ts),kT=[.125,.215,.35,.446,.526,.582],OT=ts-Vl+1+kT.length,Gl=20,Ks={[Yn]:0,[Ws]:1,[lp]:2,[Ty]:3,[Cy]:4,[Ay]:5,[ap]:6},tx=new ri,{_lodPlanes:of,_sizeLods:NT,_sigmas:kp}=ZN(),zT=new Le;let nx=null;const ea=(1+Math.sqrt(5))/2,Wl=1/ea,FT=[new I(1,1,1),new I(-1,1,1),new I(1,1,-1),new I(-1,1,-1),new I(0,ea,Wl),new I(0,ea,-Wl),new I(Wl,0,ea),new I(-Wl,0,ea),new I(ea,Wl,0),new I(-ea,Wl,0)];class BT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=QN(Gl),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){nx=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=VT(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=HT(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<of.length;e++)of[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(nx),e.scissorTest=!1,Op(e,0,0,e.width,e.height)}_fromTexture(e){nx=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:pn,minFilter:pn,generateMipmaps:!1,type:Zi,format:yE,encoding:YN(e)?e.encoding:lp,depthBuffer:!1},r=UT(t);return r.depthBuffer=!e,this._pingPongRenderTarget=UT(t),r}_compileMaterial(e){const t=new un(of[0],e);this._renderer.compile(t,tx)}_sceneToCubeUV(e,t,r,i){const o=90,s=1,a=new Wt(o,s,t,r),l=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,d=h.outputEncoding,m=h.toneMapping;h.getClearColor(zT),h.toneMapping=Yi,h.outputEncoding=Yn,h.autoClear=!1;const x=new wi({name:"PMREM.Background",side:an,depthWrite:!1,depthTest:!1}),_=new un(new io,x);let w=!1;const y=e.background;y?y.isColor&&(x.color.copy(y),e.background=null,w=!0):(x.color.copy(zT),w=!0);for(let v=0;v<6;v++){const S=v%3;S==0?(a.up.set(0,l[v],0),a.lookAt(f[v],0,0)):S==1?(a.up.set(0,0,l[v]),a.lookAt(0,f[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,f[v])),Op(i,S*Mi,v>2?Mi:0,Mi,Mi),h.setRenderTarget(i),w&&h.render(_,a),h.render(e,a)}_.geometry.dispose(),_.material.dispose(),h.toneMapping=m,h.outputEncoding=d,h.autoClear=p,e.background=y}_setEncoding(e,t){e.value=Ks[t.encoding]}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Ns||e.mapping===zs;i?this._cubemapShader==null&&(this._cubemapShader=VT()):this._equirectShader==null&&(this._equirectShader=HT());const o=i?this._cubemapShader:this._equirectShader,s=new un(of[0],o),a=o.uniforms;a.envMap.value=e,i||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),this._setEncoding(a.outputEncoding,t.texture),Op(t,0,0,3*Mi,2*Mi),r.setRenderTarget(t),r.render(s,tx)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<OT;i++){const o=Math.sqrt(kp[i]*kp[i]-kp[i-1]*kp[i-1]),s=FT[(i-1)%FT.length];this._blur(e,i-1,i,o,s)}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const l=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new un(of[i],f),d=f.uniforms,m=NT[r]-1,x=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Gl-1),_=o/x,w=isFinite(o)?1+Math.floor(h*_):Gl;w>Gl&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Gl}`);const y=[];let v=0;for(let A=0;A<Gl;++A){const T=A/_,P=Math.exp(-T*T/2);y.push(P),A==0?v+=P:A<w&&(v+=2*P)}for(let A=0;A<y.length;A++)y[A]=y[A]/v;d.envMap.value=e.texture,d.samples.value=w,d.weights.value=y,d.latitudinal.value=s==="latitudinal",a&&(d.poleAxis.value=a),d.dTheta.value=x,d.mipInt.value=ts-r,this._setEncoding(d.inputEncoding,e.texture),this._setEncoding(d.outputEncoding,e.texture);const S=NT[i],M=3*Math.max(0,Mi-2*S),C=(i===0?0:2*Mi)+2*S*(i>ts-Vl?i-ts+Vl:0);Op(t,M,C,3*S,2*S),l.setRenderTarget(t),l.render(p,tx)}}function YN(n){return n===void 0||n.type!==Zi?!1:n.encoding===Yn||n.encoding===Ws||n.encoding===ap}function ZN(){const n=[],e=[],t=[];let r=ts;for(let i=0;i<OT;i++){const o=Math.pow(2,r);e.push(o);let s=1/o;i>ts-Vl?s=kT[i-ts+Vl-1]:i==0&&(s=0),t.push(s);const a=1/(o-1),l=-a/2,f=1+a/2,h=[l,l,f,l,f,f,l,l,f,f,l,f],p=6,d=6,m=3,x=2,_=1,w=new Float32Array(m*d*p),y=new Float32Array(x*d*p),v=new Float32Array(_*d*p);for(let M=0;M<p;M++){const C=M%3*2/3-1,A=M>2?0:-1,T=[C,A,0,C+2/3,A,0,C+2/3,A+1,0,C,A,0,C+2/3,A+1,0,C,A+1,0];w.set(T,m*d*M),y.set(h,x*d*M);const P=[M,M,M,M,M,M];v.set(P,_*d*M)}const S=new Qe;S.setAttribute("position",new Mt(w,m)),S.setAttribute("uv",new Mt(y,x)),S.setAttribute("faceIndex",new Mt(v,_)),n.push(S),r>Vl&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function UT(n){const e=new Hn(3*Mi,3*Mi,n);return e.texture.mapping=xl,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Op(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function QN(n){const e=new Float32Array(n),t=new I(0,1,0);return new Hl({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Ks[Yn]},outputEncoding:{value:Ks[Yn]}},vertexShader:rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${ix()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Xi,depthTest:!1,depthWrite:!1})}function HT(){const n=new se(1,1);return new Hl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:Ks[Yn]},outputEncoding:{value:Ks[Yn]}},vertexShader:rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${ix()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Xi,depthTest:!1,depthWrite:!1})}function VT(){return new Hl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ks[Yn]},outputEncoding:{value:Ks[Yn]}},vertexShader:rx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${ix()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Xi,depthTest:!1,depthWrite:!1})}function rx(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ix(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function JN(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,f=l===Hc||l===Vc,h=l===Ns||l===zs;if(f||h){if(e.has(a))return e.get(a).texture;{const p=a.image;if(f&&p&&p.height>0||h&&p&&i(p)){const d=n.getRenderTarget();t===null&&(t=new BT(n));const m=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,m),n.setRenderTarget(d),a.addEventListener("dispose",o),m.texture}else return null}}}return a}function i(a){let l=0;const f=6;for(let h=0;h<f;h++)a[h]!==void 0&&l++;return l===f}function o(a){const l=a.target;l.removeEventListener("dispose",o);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function KN(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ez(n,e,t,r){const i={},o=new WeakMap;function s(p){const d=p.target;d.index!==null&&e.remove(d.index);for(const x in d.attributes)e.remove(d.attributes[x]);d.removeEventListener("dispose",s),delete i[d.id];const m=o.get(d);m&&(e.remove(m),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(p,d){return i[d.id]===!0||(d.addEventListener("dispose",s),i[d.id]=!0,t.memory.geometries++),d}function l(p){const d=p.attributes;for(const x in d)e.update(d[x],34962);const m=p.morphAttributes;for(const x in m){const _=m[x];for(let w=0,y=_.length;w<y;w++)e.update(_[w],34962)}}function f(p){const d=[],m=p.index,x=p.attributes.position;let _=0;if(m!==null){const v=m.array;_=m.version;for(let S=0,M=v.length;S<M;S+=3){const C=v[S+0],A=v[S+1],T=v[S+2];d.push(C,A,A,T,T,C)}}else{const v=x.array;_=x.version;for(let S=0,M=v.length/3-1;S<M;S+=3){const C=S+0,A=S+1,T=S+2;d.push(C,A,A,T,T,C)}}const w=new(fT(d)>65535?Sp:wp)(d,1);w.version=_;const y=o.get(p);y&&e.remove(y),o.set(p,w)}function h(p){const d=o.get(p);if(d){const m=p.index;m!==null&&d.version<m.version&&f(p)}else f(p);return o.get(p)}return{get:a,update:l,getWireframeAttribute:h}}function tz(n,e,t,r){const i=r.isWebGL2;let o;function s(d){o=d}let a,l;function f(d){a=d.type,l=d.bytesPerElement}function h(d,m){n.drawElements(o,m,a,d*l),t.update(m,o,1)}function p(d,m,x){if(x===0)return;let _,w;if(i)_=n,w="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),w="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[w](o,m,a,d*l,x),t.update(m,o,x)}this.setMode=s,this.setIndex=f,this.render=h,this.renderInstances=p}function nz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}class Np extends mn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=pn,this.minFilter=pn,this.wrapR=Fn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Np.prototype.isDataTexture2DArray=!0;function rz(n,e){return n[0]-e[0]}function iz(n,e){return Math.abs(e[1])-Math.abs(n[1])}function GT(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function oz(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new I,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function l(f,h,p,d){const m=f.morphTargetInfluences;if(e.isWebGL2===!0){const x=h.morphAttributes.position.length;let _=o.get(h);if(_===void 0||_.count!==x){_!==void 0&&_.texture.dispose();const v=h.morphAttributes.normal!==void 0,S=h.morphAttributes.position,M=h.morphAttributes.normal||[],C=h.attributes.position.count,A=v===!0?2:1;let T=C*A,P=1;T>e.maxTextureSize&&(P=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const k=new Float32Array(T*P*4*x),F=new Np(k,T,P,x);F.format=xn,F.type=_i;const D=A*4;for(let U=0;U<x;U++){const H=S[U],W=M[U],$=T*P*4*U;for(let q=0;q<H.count;q++){s.fromBufferAttribute(H,q),H.normalized===!0&&GT(s,H);const Z=q*D;k[$+Z+0]=s.x,k[$+Z+1]=s.y,k[$+Z+2]=s.z,k[$+Z+3]=0,v===!0&&(s.fromBufferAttribute(W,q),W.normalized===!0&&GT(s,W),k[$+Z+4]=s.x,k[$+Z+5]=s.y,k[$+Z+6]=s.z,k[$+Z+7]=0)}}_={count:x,texture:F,size:new se(T,P)},o.set(h,_)}let w=0;for(let v=0;v<m.length;v++)w+=m[v];const y=h.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",y),d.getUniforms().setValue(n,"morphTargetInfluences",m),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const x=m===void 0?0:m.length;let _=r[h.id];if(_===void 0||_.length!==x){_=[];for(let M=0;M<x;M++)_[M]=[M,0];r[h.id]=_}for(let M=0;M<x;M++){const C=_[M];C[0]=M,C[1]=m[M]}_.sort(iz);for(let M=0;M<8;M++)M<x&&_[M][1]?(a[M][0]=_[M][0],a[M][1]=_[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(rz);const w=h.morphAttributes.position,y=h.morphAttributes.normal;let v=0;for(let M=0;M<8;M++){const C=a[M],A=C[0],T=C[1];A!==Number.MAX_SAFE_INTEGER&&T?(w&&h.getAttribute("morphTarget"+M)!==w[A]&&h.setAttribute("morphTarget"+M,w[A]),y&&h.getAttribute("morphNormal"+M)!==y[A]&&h.setAttribute("morphNormal"+M,y[A]),i[M]=T,v+=T):(w&&h.hasAttribute("morphTarget"+M)===!0&&h.deleteAttribute("morphTarget"+M),y&&h.hasAttribute("morphNormal"+M)===!0&&h.deleteAttribute("morphNormal"+M),i[M]=0)}const S=h.morphTargetsRelative?1:1-v;d.getUniforms().setValue(n,"morphTargetBaseInfluence",S),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function sz(n,e,t,r){let i=new WeakMap;function o(l){const f=r.render.frame,h=l.geometry,p=e.get(l,h);return i.get(p)!==f&&(e.update(p),i.set(p,f)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),p}function s(){i=new WeakMap}function a(l){const f=l.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:o,dispose:s}}class ox extends mn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=pn,this.minFilter=pn,this.wrapR=Fn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ox.prototype.isDataTexture3D=!0;const WT=new mn,$T=new Np,jT=new ox,qT=new Bl,XT=[],YT=[],ZT=new Float32Array(16),QT=new Float32Array(9),JT=new Float32Array(4);function $l(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=XT[i];if(o===void 0&&(o=new Float32Array(i),XT[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function or(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Qn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function zp(n,e){let t=YT[e];t===void 0&&(t=new Int32Array(e),YT[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function az(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(or(t,e))return;n.uniform2fv(this.addr,e),Qn(t,e)}}function uz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(or(t,e))return;n.uniform3fv(this.addr,e),Qn(t,e)}}function cz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(or(t,e))return;n.uniform4fv(this.addr,e),Qn(t,e)}}function fz(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Qn(t,e)}else{if(or(t,r))return;JT.set(r),n.uniformMatrix2fv(this.addr,!1,JT),Qn(t,r)}}function dz(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Qn(t,e)}else{if(or(t,r))return;QT.set(r),n.uniformMatrix3fv(this.addr,!1,QT),Qn(t,r)}}function hz(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(or(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Qn(t,e)}else{if(or(t,r))return;ZT.set(r),n.uniformMatrix4fv(this.addr,!1,ZT),Qn(t,r)}}function pz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mz(n,e){const t=this.cache;or(t,e)||(n.uniform2iv(this.addr,e),Qn(t,e))}function gz(n,e){const t=this.cache;or(t,e)||(n.uniform3iv(this.addr,e),Qn(t,e))}function vz(n,e){const t=this.cache;or(t,e)||(n.uniform4iv(this.addr,e),Qn(t,e))}function yz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function xz(n,e){const t=this.cache;or(t,e)||(n.uniform2uiv(this.addr,e),Qn(t,e))}function _z(n,e){const t=this.cache;or(t,e)||(n.uniform3uiv(this.addr,e),Qn(t,e))}function wz(n,e){const t=this.cache;or(t,e)||(n.uniform4uiv(this.addr,e),Qn(t,e))}function Sz(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||WT,i)}function Mz(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||jT,i)}function bz(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||qT,i)}function Ez(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||$T,i)}function Tz(n){switch(n){case 5126:return az;case 35664:return lz;case 35665:return uz;case 35666:return cz;case 35674:return fz;case 35675:return dz;case 35676:return hz;case 5124:case 35670:return pz;case 35667:case 35671:return mz;case 35668:case 35672:return gz;case 35669:case 35673:return vz;case 5125:return yz;case 36294:return xz;case 36295:return _z;case 36296:return wz;case 35678:case 36198:case 36298:case 36306:case 35682:return Sz;case 35679:case 36299:case 36307:return Mz;case 35680:case 36300:case 36308:case 36293:return bz;case 36289:case 36303:case 36311:case 36292:return Ez}}function Cz(n,e){n.uniform1fv(this.addr,e)}function Az(n,e){const t=$l(e,this.size,2);n.uniform2fv(this.addr,t)}function Rz(n,e){const t=$l(e,this.size,3);n.uniform3fv(this.addr,t)}function Pz(n,e){const t=$l(e,this.size,4);n.uniform4fv(this.addr,t)}function Lz(n,e){const t=$l(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Iz(n,e){const t=$l(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Dz(n,e){const t=$l(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function kz(n,e){n.uniform1iv(this.addr,e)}function Oz(n,e){n.uniform2iv(this.addr,e)}function Nz(n,e){n.uniform3iv(this.addr,e)}function zz(n,e){n.uniform4iv(this.addr,e)}function Fz(n,e){n.uniform1uiv(this.addr,e)}function Bz(n,e){n.uniform2uiv(this.addr,e)}function Uz(n,e){n.uniform3uiv(this.addr,e)}function Hz(n,e){n.uniform4uiv(this.addr,e)}function Vz(n,e,t){const r=e.length,i=zp(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTexture2D(e[o]||WT,i[o])}function Gz(n,e,t){const r=e.length,i=zp(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||jT,i[o])}function Wz(n,e,t){const r=e.length,i=zp(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTextureCube(e[o]||qT,i[o])}function $z(n,e,t){const r=e.length,i=zp(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||$T,i[o])}function jz(n){switch(n){case 5126:return Cz;case 35664:return Az;case 35665:return Rz;case 35666:return Pz;case 35674:return Lz;case 35675:return Iz;case 35676:return Dz;case 5124:case 35670:return kz;case 35667:case 35671:return Oz;case 35668:case 35672:return Nz;case 35669:case 35673:return zz;case 5125:return Fz;case 36294:return Bz;case 36295:return Uz;case 36296:return Hz;case 35678:case 36198:case 36298:case 36306:case 35682:return Vz;case 35679:case 36299:case 36307:return Gz;case 35680:case 36300:case 36308:case 36293:return Wz;case 36289:case 36303:case 36311:case 36292:return $z}}function qz(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=Tz(e.type)}function KT(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=jz(e.type)}KT.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Qn(e,n)};function eC(n){this.id=n,this.seq=[],this.map={}}eC.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const s=r[i];s.setValue(n,e[s.id],t)}};const sx=/(\w+)(\])?(\[|\.)?/g;function tC(n,e){n.seq.push(e),n.map[e.id]=e}function Xz(n,e,t){const r=n.name,i=r.length;for(sx.lastIndex=0;;){const o=sx.exec(r),s=sx.lastIndex;let a=o[1];const l=o[2]==="]",f=o[3];if(l&&(a=a|0),f===void 0||f==="["&&s+2===i){tC(t,f===void 0?new qz(a,n,e):new KT(a,n,e));break}else{let p=t.map[a];p===void 0&&(p=new eC(a),tC(t,p)),t=p}}}function ns(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),o=n.getUniformLocation(e,i.name);Xz(i,o,this)}}ns.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};ns.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};ns.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){const s=e[i],a=t[s.id];a.needsUpdate!==!1&&s.setValue(n,a.value,r)}};ns.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.id in e&&t.push(o)}return t};function nC(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Yz=0;function Zz(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function rC(n){switch(n){case Yn:return["Linear","( value )"];case Ws:return["sRGB","( value )"];case lp:return["RGBE","( value )"];case Ty:return["RGBM","( value, 7.0 )"];case Cy:return["RGBM","( value, 16.0 )"];case Ay:return["RGBD","( value, 256.0 )"];case ap:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function iC(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+Zz(n.getShaderSource(e))}function ta(n,e){const t=rC(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function Qz(n,e){const t=rC(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Jz(n,e){let t;switch(e){case oE:t="Linear";break;case sE:t="Reinhard";break;case aE:t="OptimizedCineon";break;case hy:t="ACESFilmic";break;case lE:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Kz(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sf).join(`
`)}function eF(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function tF(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function sf(n){return n!==""}function oC(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nF=/^[ \t]*#include +<([\w\d./]+)>/gm;function ax(n){return n.replace(nF,rF)}function rF(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return ax(t)}const iF=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,oF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aC(n){return n.replace(oF,lC).replace(iF,sF)}function sF(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),lC(n,e,t,r)}function lC(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function uC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function aF(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===iy?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===oy?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===vl&&(e="SHADOWMAP_TYPE_VSM"),e}function lF(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ns:case zs:e="ENVMAP_TYPE_CUBE";break;case xl:case Gc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function uF(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case zs:case Gc:e="ENVMAP_MODE_REFRACTION";break}return e}function cF(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Uc:e="ENVMAP_BLENDING_MULTIPLY";break;case rE:e="ENVMAP_BLENDING_MIX";break;case iE:e="ENVMAP_BLENDING_ADD";break}return e}function fF(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=aF(t),f=lF(t),h=uF(t),p=cF(t),d=n.gammaFactor>0?n.gammaFactor:1,m=t.isWebGL2?"":Kz(t),x=eF(o),_=i.createProgram();let w,y,v=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=[x].filter(sf).join(`
`),w.length>0&&(w+=`
`),y=[m,x].filter(sf).join(`
`),y.length>0&&(y+=`
`)):(w=[uC(t),"#define SHADER_NAME "+t.shaderName,x,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sf).join(`
`),y=[m,uC(t),"#define SHADER_NAME "+t.shaderName,x,"#define GAMMA_FACTOR "+d,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yi?"#define TONE_MAPPING":"",t.toneMapping!==Yi?yt.tonemapping_pars_fragment:"",t.toneMapping!==Yi?Jz("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===$o?"#define OPAQUE":"",yt.encodings_pars_fragment,t.map?ta("mapTexelToLinear",t.mapEncoding):"",t.matcap?ta("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?ta("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?ta("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?ta("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?ta("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?ta("lightMapTexelToLinear",t.lightMapEncoding):"",Qz("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(sf).join(`
`)),s=ax(s),s=oC(s,t),s=sC(s,t),a=ax(a),a=oC(a,t),a=sC(a,t),s=aC(s),a=aC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,y=["#define varying in",t.glslVersion===Ry?"":"out highp vec4 pc_fragColor;",t.glslVersion===Ry?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=v+w+s,M=v+y+a,C=nC(i,35633,S),A=nC(i,35632,M);if(i.attachShader(_,C),i.attachShader(_,A),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),n.debug.checkShaderErrors){const k=i.getProgramInfoLog(_).trim(),F=i.getShaderInfoLog(C).trim(),D=i.getShaderInfoLog(A).trim();let U=!0,H=!0;if(i.getProgramParameter(_,35714)===!1){U=!1;const W=iC(i,C,"vertex"),$=iC(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,35715)+`

Program Info Log: `+k+`
`+W+`
`+$)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(F===""||D==="")&&(H=!1);H&&(this.diagnostics={runnable:U,programLog:k,vertexShader:{log:F,prefix:w},fragmentShader:{log:D,prefix:y}})}i.deleteShader(C),i.deleteShader(A);let T;this.getUniforms=function(){return T===void 0&&(T=new ns(i,_)),T};let P;return this.getAttributes=function(){return P===void 0&&(P=tF(i,_)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.name=t.shaderName,this.id=Yz++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=C,this.fragmentShader=A,this}function dF(n,e,t,r,i,o,s){const a=[],l=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.floatVertexTextures,p=i.maxVertexUniforms,d=i.vertexTextures;let m=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},_=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function w(T){const k=T.skeleton.bones;if(h)return 1024;{const D=Math.floor((p-20)/4),U=Math.min(D,k.length);return U<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+U+"."),0):U}}function y(T){let P;return T&&T.isTexture?P=T.encoding:T&&T.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),P=T.texture.encoding):P=Yn,P}function v(T,P,k,F,D){const U=F.fog,H=T.isMeshStandardMaterial?F.environment:null,W=(T.isMeshStandardMaterial?t:e).get(T.envMap||H),$=x[T.type],q=D.isSkinnedMesh?w(D):0;T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));let Z,de;if($){const ie=ni[$];Z=ie.vertexShader,de=ie.fragmentShader}else Z=T.vertexShader,de=T.fragmentShader;const Me=n.getRenderTarget(),ue=T.alphaTest>0,V=T.clearcoat>0;return{isWebGL2:l,shaderID:$,shaderName:T.type,vertexShader:Z,fragmentShader:de,defines:T.defines,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:D.isInstancedMesh===!0,instancingColor:D.isInstancedMesh===!0&&D.instanceColor!==null,supportsVertexTextures:d,outputEncoding:Me!==null?y(Me.texture):n.outputEncoding,map:!!T.map,mapEncoding:y(T.map),matcap:!!T.matcap,matcapEncoding:y(T.matcap),envMap:!!W,envMapMode:W&&W.mapping,envMapEncoding:y(W),envMapCubeUV:!!W&&(W.mapping===xl||W.mapping===Gc),lightMap:!!T.lightMap,lightMapEncoding:y(T.lightMap),aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,emissiveMapEncoding:y(T.emissiveMap),bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===aT,tangentSpaceNormalMap:T.normalMapType===$s,clearcoat:V,clearcoatMap:V&&!!T.clearcoatMap,clearcoatRoughnessMap:V&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:V&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,specularColorMapEncoding:y(T.specularColorMap),alphaMap:!!T.alphaMap,alphaTest:ue,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenColorMapEncoding:y(T.sheenColorMap),sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!D.geometry&&!!D.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!D.geometry&&!!D.geometry.attributes.color&&D.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||T.sheenRoughnessMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||T.sheen>0||!!T.sheenColorMap||!!T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!U,useFog:T.fog,fogExp2:U&&U.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:f,skinning:D.isSkinnedMesh===!0&&q>0,maxBones:q,useVertexTexture:h,morphTargets:!!D.geometry&&!!D.geometry.morphAttributes.position,morphNormals:!!D.geometry&&!!D.geometry.morphAttributes.normal,morphTargetsCount:!!D.geometry&&!!D.geometry.morphAttributes.position?D.geometry.morphAttributes.position.length:0,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,format:T.format,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Yi,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===ks,flipSided:T.side===an,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function S(T){const P=[];if(T.shaderID?P.push(T.shaderID):(P.push(dT(T.fragmentShader)),P.push(dT(T.vertexShader))),T.defines!==void 0)for(const k in T.defines)P.push(k),P.push(T.defines[k]);if(T.isRawShaderMaterial===!1){for(let k=0;k<_.length;k++)P.push(T[_[k]]);P.push(n.outputEncoding),P.push(n.gammaFactor)}return P.push(T.customProgramCacheKey),P.join()}function M(T){const P=x[T.type];let k;if(P){const F=ni[P];k=nf.clone(F.uniforms)}else k=T.uniforms;return k}function C(T,P){let k;for(let F=0,D=a.length;F<D;F++){const U=a[F];if(U.cacheKey===P){k=U,++k.usedTimes;break}}return k===void 0&&(k=new fF(n,P,T,o),a.push(k)),k}function A(T){if(--T.usedTimes==0){const P=a.indexOf(T);a[P]=a[a.length-1],a.pop(),T.destroy()}}return{getParameters:v,getProgramCacheKey:S,getUniforms:M,acquireProgram:C,releaseProgram:A,programs:a}}function hF(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function r(o,s,a){n.get(o)[s]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function pF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function cC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function fC(n){const e=[];let t=0;const r=[],i=[],o=[],s={id:-1};function a(){t=0,r.length=0,i.length=0,o.length=0}function l(m,x,_,w,y,v){let S=e[t];const M=n.get(_);return S===void 0?(S={id:m.id,object:m,geometry:x,material:_,program:M.program||s,groupOrder:w,renderOrder:m.renderOrder,z:y,group:v},e[t]=S):(S.id=m.id,S.object=m,S.geometry=x,S.material=_,S.program=M.program||s,S.groupOrder=w,S.renderOrder=m.renderOrder,S.z=y,S.group=v),t++,S}function f(m,x,_,w,y,v){const S=l(m,x,_,w,y,v);_.transmission>0?i.push(S):_.transparent===!0?o.push(S):r.push(S)}function h(m,x,_,w,y,v){const S=l(m,x,_,w,y,v);_.transmission>0?i.unshift(S):_.transparent===!0?o.unshift(S):r.unshift(S)}function p(m,x){r.length>1&&r.sort(m||pF),i.length>1&&i.sort(x||cC),o.length>1&&o.sort(x||cC)}function d(){for(let m=t,x=e.length;m<x;m++){const _=e[m];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.program=null,_.group=null}}return{opaque:r,transmissive:i,transparent:o,init:a,push:f,unshift:h,finish:d,sort:p}}function mF(n){let e=new WeakMap;function t(i,o){let s;return e.has(i)===!1?(s=new fC(n),e.set(i,[s])):o>=e.get(i).length?(s=new fC(n),e.get(i).push(s)):s=e.get(i)[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}function gF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new I,color:new Le};break;case"SpotLight":t={position:new I,direction:new I,color:new Le,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new I,color:new Le,distance:0,decay:0};break;case"HemisphereLight":t={direction:new I,skyColor:new Le,groundColor:new Le};break;case"RectAreaLight":t={color:new Le,position:new I,halfWidth:new I,halfHeight:new I};break}return n[e.id]=t,t}}}function vF(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new se,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let yF=0;function xF(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function _F(n,e){const t=new gF,r=vF(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let h=0;h<9;h++)i.probe.push(new I);const o=new I,s=new qe,a=new qe;function l(h,p){let d=0,m=0,x=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let _=0,w=0,y=0,v=0,S=0,M=0,C=0,A=0;h.sort(xF);const T=p!==!0?Math.PI:1;for(let k=0,F=h.length;k<F;k++){const D=h[k],U=D.color,H=D.intensity,W=D.distance,$=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=U.r*H*T,m+=U.g*H*T,x+=U.b*H*T;else if(D.isLightProbe)for(let q=0;q<9;q++)i.probe[q].addScaledVector(D.sh.coefficients[q],H);else if(D.isDirectionalLight){const q=t.get(D);if(q.color.copy(D.color).multiplyScalar(D.intensity*T),D.castShadow){const Z=D.shadow,de=r.get(D);de.shadowBias=Z.bias,de.shadowNormalBias=Z.normalBias,de.shadowRadius=Z.radius,de.shadowMapSize=Z.mapSize,i.directionalShadow[_]=de,i.directionalShadowMap[_]=$,i.directionalShadowMatrix[_]=D.shadow.matrix,M++}i.directional[_]=q,_++}else if(D.isSpotLight){const q=t.get(D);if(q.position.setFromMatrixPosition(D.matrixWorld),q.color.copy(U).multiplyScalar(H*T),q.distance=W,q.coneCos=Math.cos(D.angle),q.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),q.decay=D.decay,D.castShadow){const Z=D.shadow,de=r.get(D);de.shadowBias=Z.bias,de.shadowNormalBias=Z.normalBias,de.shadowRadius=Z.radius,de.shadowMapSize=Z.mapSize,i.spotShadow[y]=de,i.spotShadowMap[y]=$,i.spotShadowMatrix[y]=D.shadow.matrix,A++}i.spot[y]=q,y++}else if(D.isRectAreaLight){const q=t.get(D);q.color.copy(U).multiplyScalar(H),q.halfWidth.set(D.width*.5,0,0),q.halfHeight.set(0,D.height*.5,0),i.rectArea[v]=q,v++}else if(D.isPointLight){const q=t.get(D);if(q.color.copy(D.color).multiplyScalar(D.intensity*T),q.distance=D.distance,q.decay=D.decay,D.castShadow){const Z=D.shadow,de=r.get(D);de.shadowBias=Z.bias,de.shadowNormalBias=Z.normalBias,de.shadowRadius=Z.radius,de.shadowMapSize=Z.mapSize,de.shadowCameraNear=Z.camera.near,de.shadowCameraFar=Z.camera.far,i.pointShadow[w]=de,i.pointShadowMap[w]=$,i.pointShadowMatrix[w]=D.shadow.matrix,C++}i.point[w]=q,w++}else if(D.isHemisphereLight){const q=t.get(D);q.skyColor.copy(D.color).multiplyScalar(H*T),q.groundColor.copy(D.groundColor).multiplyScalar(H*T),i.hemi[S]=q,S++}}v>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ie.LTC_FLOAT_1,i.rectAreaLTC2=Ie.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ie.LTC_HALF_1,i.rectAreaLTC2=Ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=x;const P=i.hash;(P.directionalLength!==_||P.pointLength!==w||P.spotLength!==y||P.rectAreaLength!==v||P.hemiLength!==S||P.numDirectionalShadows!==M||P.numPointShadows!==C||P.numSpotShadows!==A)&&(i.directional.length=_,i.spot.length=y,i.rectArea.length=v,i.point.length=w,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotShadowMatrix.length=A,P.directionalLength=_,P.pointLength=w,P.spotLength=y,P.rectAreaLength=v,P.hemiLength=S,P.numDirectionalShadows=M,P.numPointShadows=C,P.numSpotShadows=A,i.version=yF++)}function f(h,p){let d=0,m=0,x=0,_=0,w=0;const y=p.matrixWorldInverse;for(let v=0,S=h.length;v<S;v++){const M=h[v];if(M.isDirectionalLight){const C=i.directional[d];C.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(y),d++}else if(M.isSpotLight){const C=i.spot[x];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),C.direction.setFromMatrixPosition(M.matrixWorld),o.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(y),x++}else if(M.isRectAreaLight){const C=i.rectArea[_];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),a.identity(),s.copy(M.matrixWorld),s.premultiply(y),a.extractRotation(s),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(y),m++}else if(M.isHemisphereLight){const C=i.hemi[w];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(y),C.direction.normalize(),w++}}}return{setup:l,setupView:f,state:i}}function dC(n,e){const t=new _F(n,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(p){r.push(p)}function a(p){i.push(p)}function l(p){t.setup(r,p)}function f(p){t.setupView(r,p)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:f,pushLight:s,pushShadow:a}}function wF(n,e){let t=new WeakMap;function r(o,s=0){let a;return t.has(o)===!1?(a=new dC(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new dC(n,e),t.get(o).push(a)):a=t.get(o)[s],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class Fp extends Tn{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=oT,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Fp.prototype.isMeshDepthMaterial=!0;class Bp extends Tn{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new I,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Bp.prototype.isMeshDistanceMaterial=!0;const SF=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,MF=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hC(n,e,t){let r=new rf;const i=new se,o=new se,s=new Lt,a=new Fp({depthPacking:sT}),l=new Bp,f={},h=t.maxTextureSize,p={0:an,1:Ds,2:ks},d=new ir({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new se},radius:{value:4}},vertexShader:SF,fragmentShader:MF}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const x=new Qe;x.setAttribute("position",new Mt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new un(x,d),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=iy,this.render=function(M,C,A){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||M.length===0)return;const T=n.getRenderTarget(),P=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),F=n.state;F.setBlending(Xi),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);for(let D=0,U=M.length;D<U;D++){const H=M[D],W=H.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const $=W.getFrameExtents();if(i.multiply($),o.copy(W.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(o.x=Math.floor(h/$.x),i.x=o.x*$.x,W.mapSize.x=o.x),i.y>h&&(o.y=Math.floor(h/$.y),i.y=o.y*$.y,W.mapSize.y=o.y)),W.map===null&&!W.isPointLightShadow&&this.type===vl){const Z={minFilter:Zt,magFilter:Zt,format:xn};W.map=new Hn(i.x,i.y,Z),W.map.texture.name=H.name+".shadowMap",W.mapPass=new Hn(i.x,i.y,Z),W.camera.updateProjectionMatrix()}if(W.map===null){const Z={minFilter:pn,magFilter:pn,format:xn};W.map=new Hn(i.x,i.y,Z),W.map.texture.name=H.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const q=W.getViewportCount();for(let Z=0;Z<q;Z++){const de=W.getViewport(Z);s.set(o.x*de.x,o.y*de.y,o.x*de.z,o.y*de.w),F.viewport(s),W.updateMatrices(H,Z),r=W.getFrustum(),S(C,A,W.camera,H,this.type)}!W.isPointLightShadow&&this.type===vl&&y(W,A),W.needsUpdate=!1}w.needsUpdate=!1,n.setRenderTarget(T,P,k)};function y(M,C){const A=e.update(_);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(C,null,A,d,_,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(C,null,A,m,_,null)}function v(M,C,A,T,P,k,F){let D=null;const U=T.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(U!==void 0?D=U:D=T.isPointLight===!0?l:a,n.localClippingEnabled&&A.clipShadows===!0&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0){const H=D.uuid,W=A.uuid;let $=f[H];$===void 0&&($={},f[H]=$);let q=$[W];q===void 0&&(q=D.clone(),$[W]=q),D=q}return D.visible=A.visible,D.wireframe=A.wireframe,F===vl?D.side=A.shadowSide!==null?A.shadowSide:A.side:D.side=A.shadowSide!==null?A.shadowSide:p[A.side],D.alphaMap=A.alphaMap,D.alphaTest=A.alphaTest,D.clipShadows=A.clipShadows,D.clippingPlanes=A.clippingPlanes,D.clipIntersection=A.clipIntersection,D.displacementMap=A.displacementMap,D.displacementScale=A.displacementScale,D.displacementBias=A.displacementBias,D.wireframeLinewidth=A.wireframeLinewidth,D.linewidth=A.linewidth,T.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(T.matrixWorld),D.nearDistance=P,D.farDistance=k),D}function S(M,C,A,T,P){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&P===vl)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,M.matrixWorld);const D=e.update(M),U=M.material;if(Array.isArray(U)){const H=D.groups;for(let W=0,$=H.length;W<$;W++){const q=H[W],Z=U[q.materialIndex];if(Z&&Z.visible){const de=v(M,D,Z,T,A.near,A.far,P);n.renderBufferDirect(A,null,D,de,M,q)}}}else if(U.visible){const H=v(M,D,U,T,A.near,A.far,P);n.renderBufferDirect(A,null,D,H,M,null)}}const F=M.children;for(let D=0,U=F.length;D<U;D++)S(F[D],C,A,T,P)}}function bF(n,e,t){const r=t.isWebGL2;function i(){let X=!1;const Ee=new Lt;let ge=null;const Ce=new Lt(0,0,0,0);return{setMask:function(be){ge!==be&&!X&&(n.colorMask(be,be,be,be),ge=be)},setLocked:function(be){X=be},setClear:function(be,G,K,we,Xe){Xe===!0&&(be*=we,G*=we,K*=we),Ee.set(be,G,K,we),Ce.equals(Ee)===!1&&(n.clearColor(be,G,K,we),Ce.copy(Ee))},reset:function(){X=!1,ge=null,Ce.set(-1,0,0,0)}}}function o(){let X=!1,Ee=null,ge=null,Ce=null;return{setTest:function(be){be?ie(2929):ye(2929)},setMask:function(be){Ee!==be&&!X&&(n.depthMask(be),Ee=be)},setFunc:function(be){if(ge!==be){if(be)switch(be){case Zb:n.depthFunc(512);break;case Qb:n.depthFunc(519);break;case Jb:n.depthFunc(513);break;case tp:n.depthFunc(515);break;case Kb:n.depthFunc(514);break;case eE:n.depthFunc(518);break;case tE:n.depthFunc(516);break;case nE:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ge=be}},setLocked:function(be){X=be},setClear:function(be){Ce!==be&&(n.clearDepth(be),Ce=be)},reset:function(){X=!1,Ee=null,ge=null,Ce=null}}}function s(){let X=!1,Ee=null,ge=null,Ce=null,be=null,G=null,K=null,we=null,Xe=null;return{setTest:function(Je){X||(Je?ie(2960):ye(2960))},setMask:function(Je){Ee!==Je&&!X&&(n.stencilMask(Je),Ee=Je)},setFunc:function(Je,jt,Mn){(ge!==Je||Ce!==jt||be!==Mn)&&(n.stencilFunc(Je,jt,Mn),ge=Je,Ce=jt,be=Mn)},setOp:function(Je,jt,Mn){(G!==Je||K!==jt||we!==Mn)&&(n.stencilOp(Je,jt,Mn),G=Je,K=jt,we=Mn)},setLocked:function(Je){X=Je},setClear:function(Je){Xe!==Je&&(n.clearStencil(Je),Xe=Je)},reset:function(){X=!1,Ee=null,ge=null,Ce=null,be=null,G=null,K=null,we=null,Xe=null}}}const a=new i,l=new o,f=new s;let h={},p={},d=null,m=!1,x=null,_=null,w=null,y=null,v=null,S=null,M=null,C=!1,A=null,T=null,P=null,k=null,F=null;const D=n.getParameter(35661);let U=!1,H=0;const W=n.getParameter(7938);W.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(W)[1]),U=H>=1):W.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),U=H>=2);let $=null,q={};const Z=n.getParameter(3088),de=n.getParameter(2978),Me=new Lt().fromArray(Z),ue=new Lt().fromArray(de);function V(X,Ee,ge){const Ce=new Uint8Array(4),be=n.createTexture();n.bindTexture(X,be),n.texParameteri(X,10241,9728),n.texParameteri(X,10240,9728);for(let G=0;G<ge;G++)n.texImage2D(Ee+G,0,6408,1,1,0,6408,5121,Ce);return be}const te={};te[3553]=V(3553,3553,1),te[34067]=V(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),f.setClear(0),ie(2929),l.setFunc(tp),pt(!1),le(ry),ie(2884),Re(Xi);function ie(X){h[X]!==!0&&(n.enable(X),h[X]=!0)}function ye(X){h[X]!==!1&&(n.disable(X),h[X]=!1)}function Be(X,Ee){return p[X]!==Ee?(n.bindFramebuffer(X,Ee),p[X]=Ee,r&&(X===36009&&(p[36160]=Ee),X===36160&&(p[36009]=Ee)),!0):!1}function ce(X){return d!==X?(n.useProgram(X),d=X,!0):!1}const We={[Os]:32774,[Bb]:32778,[Ub]:32779};if(r)We[uy]=32775,We[cy]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(We[uy]=X.MIN_EXT,We[cy]=X.MAX_EXT)}const Fe={[Hb]:0,[Vb]:1,[Gb]:768,[fy]:770,[Yb]:776,[qb]:774,[$b]:772,[Wb]:769,[dy]:771,[Xb]:775,[jb]:773};function Re(X,Ee,ge,Ce,be,G,K,we){if(X===Xi){m===!0&&(ye(3042),m=!1);return}if(m===!1&&(ie(3042),m=!0),X!==Fb){if(X!==x||we!==C){if((_!==Os||v!==Os)&&(n.blendEquation(32774),_=Os,v=Os),we)switch(X){case yl:n.blendFuncSeparate(1,771,1,771);break;case ep:n.blendFunc(1,1);break;case ay:n.blendFuncSeparate(0,0,769,771);break;case ly:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case yl:n.blendFuncSeparate(770,771,1,771);break;case ep:n.blendFunc(770,1);break;case ay:n.blendFunc(0,769);break;case ly:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}w=null,y=null,S=null,M=null,x=X,C=we}return}be=be||Ee,G=G||ge,K=K||Ce,(Ee!==_||be!==v)&&(n.blendEquationSeparate(We[Ee],We[be]),_=Ee,v=be),(ge!==w||Ce!==y||G!==S||K!==M)&&(n.blendFuncSeparate(Fe[ge],Fe[Ce],Fe[G],Fe[K]),w=ge,y=Ce,S=G,M=K),x=X,C=null}function $e(X,Ee){X.side===ks?ye(2884):ie(2884);let ge=X.side===an;Ee&&(ge=!ge),pt(ge),X.blending===yl&&X.transparent===!1?Re(Xi):Re(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const Ce=X.stencilWrite;f.setTest(Ce),Ce&&(f.setMask(X.stencilWriteMask),f.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),f.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),xe(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?ie(32926):ye(32926)}function pt(X){A!==X&&(X?n.frontFace(2304):n.frontFace(2305),A=X)}function le(X){X!==Nb?(ie(2884),X!==T&&(X===ry?n.cullFace(1029):X===zb?n.cullFace(1028):n.cullFace(1032))):ye(2884),T=X}function ve(X){X!==P&&(U&&n.lineWidth(X),P=X)}function xe(X,Ee,ge){X?(ie(32823),(k!==Ee||F!==ge)&&(n.polygonOffset(Ee,ge),k=Ee,F=ge)):ye(32823)}function De(X){X?ie(3089):ye(3089)}function _e(X){X===void 0&&(X=33984+D-1),$!==X&&(n.activeTexture(X),$=X)}function pe(X,Ee){$===null&&_e();let ge=q[$];ge===void 0&&(ge={type:void 0,texture:void 0},q[$]=ge),(ge.type!==X||ge.texture!==Ee)&&(n.bindTexture(X,Ee||te[X]),ge.type=X,ge.texture=Ee)}function Ae(){const X=q[$];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function je(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function lt(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function B(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function O(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function he(X){Me.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),Me.copy(X))}function ze(X){ue.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),ue.copy(X))}function Ne(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},$=null,q={},p={},d=null,m=!1,x=null,_=null,w=null,y=null,v=null,S=null,M=null,C=!1,A=null,T=null,P=null,k=null,F=null,Me.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),f.reset()}return{buffers:{color:a,depth:l,stencil:f},enable:ie,disable:ye,bindFramebuffer:Be,useProgram:ce,setBlending:Re,setMaterial:$e,setFlipSided:pt,setCullFace:le,setLineWidth:ve,setPolygonOffset:xe,setScissorTest:De,activeTexture:_e,bindTexture:pe,unbindTexture:Ae,compressedTexImage2D:je,texImage2D:O,texImage3D:fe,texStorage2D:B,texSubImage2D:lt,scissor:he,viewport:ze,reset:Ne}}function EF(n,e,t,r,i,o,s){const a=i.isWebGL2,l=i.maxTextures,f=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,m=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,x=new WeakMap;let _,w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(B,O){return w?new OffscreenCanvas(B,O):fp("canvas")}function v(B,O,fe,he){let ze=1;if((B.width>he||B.height>he)&&(ze=he/Math.max(B.width,B.height)),ze<1||O===!0)if(typeof HTMLImageElement!="undefined"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&B instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&B instanceof ImageBitmap){const Ne=O?cT:Math.floor,X=Ne(ze*B.width),Ee=Ne(ze*B.height);_===void 0&&(_=y(X,Ee));const ge=fe?y(X,Ee):_;return ge.width=X,ge.height=Ee,ge.getContext("2d").drawImage(B,0,0,X,Ee),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+X+"x"+Ee+")."),ge}else return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B;return B}function S(B){return Ly(B.width)&&Ly(B.height)}function M(B){return a?!1:B.wrapS!==Fn||B.wrapT!==Fn||B.minFilter!==pn&&B.minFilter!==Zt}function C(B,O){return B.generateMipmaps&&O&&B.minFilter!==pn&&B.minFilter!==Zt}function A(B){n.generateMipmap(B)}function T(B,O,fe){if(a===!1)return O;if(B!==null){if(n[B]!==void 0)return n[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let he=O;return O===6403&&(fe===5126&&(he=33326),fe===5131&&(he=33325),fe===5121&&(he=33321)),O===6407&&(fe===5126&&(he=34837),fe===5131&&(he=34843),fe===5121&&(he=32849)),O===6408&&(fe===5126&&(he=34836),fe===5131&&(he=34842),fe===5121&&(he=32856)),(he===33325||he===33326||he===34842||he===34836)&&e.get("EXT_color_buffer_float"),he}function P(B,O,fe){return C(B,fe)===!0?Math.log2(Math.max(O.width,O.height))+1:B.mipmaps.length>0?B.mipmaps.length:1}function k(B){return B===pn||B===rp||B===ip?9728:9729}function F(B){const O=B.target;O.removeEventListener("dispose",F),U(O),O.isVideoTexture&&x.delete(O),s.memory.textures--}function D(B){const O=B.target;O.removeEventListener("dispose",D),H(O)}function U(B){const O=r.get(B);O.__webglInit!==void 0&&(n.deleteTexture(O.__webglTexture),r.remove(B))}function H(B){const O=B.texture,fe=r.get(B),he=r.get(O);if(!!B){if(he.__webglTexture!==void 0&&(n.deleteTexture(he.__webglTexture),s.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++)n.deleteFramebuffer(fe.__webglFramebuffer[ze]),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[ze]);else n.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer),fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer);if(B.isWebGLMultipleRenderTargets)for(let ze=0,Ne=O.length;ze<Ne;ze++){const X=r.get(O[ze]);X.__webglTexture&&(n.deleteTexture(X.__webglTexture),s.memory.textures--),r.remove(O[ze])}r.remove(O),r.remove(B)}}let W=0;function $(){W=0}function q(){const B=W;return B>=l&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+l),W+=1,B}function Z(B,O){const fe=r.get(B);if(B.isVideoTexture&&_e(B),B.version>0&&fe.__version!==B.version){const he=B.image;if(he===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(he.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(fe,B,O);return}}t.activeTexture(33984+O),t.bindTexture(3553,fe.__webglTexture)}function de(B,O){const fe=r.get(B);if(B.version>0&&fe.__version!==B.version){Be(fe,B,O);return}t.activeTexture(33984+O),t.bindTexture(35866,fe.__webglTexture)}function Me(B,O){const fe=r.get(B);if(B.version>0&&fe.__version!==B.version){Be(fe,B,O);return}t.activeTexture(33984+O),t.bindTexture(32879,fe.__webglTexture)}function ue(B,O){const fe=r.get(B);if(B.version>0&&fe.__version!==B.version){ce(fe,B,O);return}t.activeTexture(33984+O),t.bindTexture(34067,fe.__webglTexture)}const V={[Wc]:10497,[Fn]:33071,[$c]:33648},te={[pn]:9728,[rp]:9984,[ip]:9986,[Zt]:9729,[py]:9985,[Fs]:9987};function ie(B,O,fe){if(fe?(n.texParameteri(B,10242,V[O.wrapS]),n.texParameteri(B,10243,V[O.wrapT]),(B===32879||B===35866)&&n.texParameteri(B,32882,V[O.wrapR]),n.texParameteri(B,10240,te[O.magFilter]),n.texParameteri(B,10241,te[O.minFilter])):(n.texParameteri(B,10242,33071),n.texParameteri(B,10243,33071),(B===32879||B===35866)&&n.texParameteri(B,32882,33071),(O.wrapS!==Fn||O.wrapT!==Fn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(B,10240,k(O.magFilter)),n.texParameteri(B,10241,k(O.minFilter)),O.minFilter!==pn&&O.minFilter!==Zt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const he=e.get("EXT_texture_filter_anisotropic");if(O.type===_i&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===Bs&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(n.texParameterf(B,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function ye(B,O){B.__webglInit===void 0&&(B.__webglInit=!0,O.addEventListener("dispose",F),B.__webglTexture=n.createTexture(),s.memory.textures++)}function Be(B,O,fe){let he=3553;O.isDataTexture2DArray&&(he=35866),O.isDataTexture3D&&(he=32879),ye(B,O),t.activeTexture(33984+fe),t.bindTexture(he,B.__webglTexture),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const ze=M(O)&&S(O.image)===!1,Ne=v(O.image,ze,!1,h),X=S(Ne)||a,Ee=o.convert(O.format);let ge=o.convert(O.type),Ce=T(O.internalFormat,Ee,ge,O.encoding);ie(he,O,X);let be;const G=O.mipmaps;if(O.isDepthTexture)Ce=6402,a?O.type===_i?Ce=36012:O.type===jc?Ce=33190:O.type===Us?Ce=35056:Ce=33189:O.type===_i&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===jo&&Ce===6402&&O.type!==_l&&O.type!==jc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=_l,ge=o.convert(O.type)),O.format===Hs&&Ce===6402&&(Ce=34041,O.type!==Us&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Us,ge=o.convert(O.type))),t.texImage2D(3553,0,Ce,Ne.width,Ne.height,0,Ee,ge,null);else if(O.isDataTexture)if(G.length>0&&X){for(let K=0,we=G.length;K<we;K++)be=G[K],t.texImage2D(3553,K,Ce,be.width,be.height,0,Ee,ge,be.data);O.generateMipmaps=!1}else t.texImage2D(3553,0,Ce,Ne.width,Ne.height,0,Ee,ge,Ne.data);else if(O.isCompressedTexture)for(let K=0,we=G.length;K<we;K++)be=G[K],O.format!==xn&&O.format!==$o?Ee!==null?t.compressedTexImage2D(3553,K,Ce,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,K,Ce,be.width,be.height,0,Ee,ge,be.data);else if(O.isDataTexture2DArray)t.texImage3D(35866,0,Ce,Ne.width,Ne.height,Ne.depth,0,Ee,ge,Ne.data);else if(O.isDataTexture3D)t.texImage3D(32879,0,Ce,Ne.width,Ne.height,Ne.depth,0,Ee,ge,Ne.data);else{const K=P(O,Ne,X),we=a&&O.isVideoTexture!==!0,Xe=B.__version===void 0;if(G.length>0&&X){we&&Xe&&t.texStorage2D(3553,K,Ce,G[0].width,G[0].height);for(let Je=0,jt=G.length;Je<jt;Je++)be=G[Je],we?t.texSubImage2D(3553,Je,0,0,Ee,ge,be):t.texImage2D(3553,Je,Ce,Ee,ge,be);O.generateMipmaps=!1}else we?(Xe&&t.texStorage2D(3553,K,Ce,Ne.width,Ne.height),t.texSubImage2D(3553,0,0,0,Ee,ge,Ne)):t.texImage2D(3553,0,Ce,Ee,ge,Ne)}C(O,X)&&A(he),B.__version=O.version,O.onUpdate&&O.onUpdate(O)}function ce(B,O,fe){if(O.image.length!==6)return;ye(B,O),t.activeTexture(33984+fe),t.bindTexture(34067,B.__webglTexture),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const he=O&&(O.isCompressedTexture||O.image[0].isCompressedTexture),ze=O.image[0]&&O.image[0].isDataTexture,Ne=[];for(let K=0;K<6;K++)!he&&!ze?Ne[K]=v(O.image[K],!1,!0,f):Ne[K]=ze?O.image[K].image:O.image[K];const X=Ne[0],Ee=S(X)||a,ge=o.convert(O.format),Ce=o.convert(O.type),be=T(O.internalFormat,ge,Ce,O.encoding);ie(34067,O,Ee);let G;if(he)for(let K=0;K<6;K++){G=Ne[K].mipmaps;for(let we=0;we<G.length;we++){const Xe=G[we];O.format!==xn&&O.format!==$o?ge!==null?t.compressedTexImage2D(34069+K,we,be,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+K,we,be,Xe.width,Xe.height,0,ge,Ce,Xe.data)}}else{G=O.mipmaps;for(let K=0;K<6;K++)if(ze){t.texImage2D(34069+K,0,be,Ne[K].width,Ne[K].height,0,ge,Ce,Ne[K].data);for(let we=0;we<G.length;we++){const Je=G[we].image[K].image;t.texImage2D(34069+K,we+1,be,Je.width,Je.height,0,ge,Ce,Je.data)}}else{t.texImage2D(34069+K,0,be,ge,Ce,Ne[K]);for(let we=0;we<G.length;we++){const Xe=G[we];t.texImage2D(34069+K,we+1,be,ge,Ce,Xe.image[K])}}}C(O,Ee)&&A(34067),B.__version=O.version,O.onUpdate&&O.onUpdate(O)}function We(B,O,fe,he,ze){const Ne=o.convert(fe.format),X=o.convert(fe.type),Ee=T(fe.internalFormat,Ne,X,fe.encoding);r.get(O).__hasExternalTextures||(ze===32879||ze===35866?t.texImage3D(ze,0,Ee,O.width,O.height,O.depth,0,Ne,X,null):t.texImage2D(ze,0,Ee,O.width,O.height,0,Ne,X,null)),t.bindFramebuffer(36160,B),O.useRenderToTexture?m.framebufferTexture2DMultisampleEXT(36160,he,ze,r.get(fe).__webglTexture,0,De(O)):n.framebufferTexture2D(36160,he,ze,r.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Fe(B,O,fe){if(n.bindRenderbuffer(36161,B),O.depthBuffer&&!O.stencilBuffer){let he=33189;if(fe||O.useRenderToTexture){const ze=O.depthTexture;ze&&ze.isDepthTexture&&(ze.type===_i?he=36012:ze.type===jc&&(he=33190));const Ne=De(O);O.useRenderToTexture?m.renderbufferStorageMultisampleEXT(36161,Ne,he,O.width,O.height):n.renderbufferStorageMultisample(36161,Ne,he,O.width,O.height)}else n.renderbufferStorage(36161,he,O.width,O.height);n.framebufferRenderbuffer(36160,36096,36161,B)}else if(O.depthBuffer&&O.stencilBuffer){const he=De(O);fe&&O.useRenderbuffer?n.renderbufferStorageMultisample(36161,he,35056,O.width,O.height):O.useRenderToTexture?m.renderbufferStorageMultisampleEXT(36161,he,35056,O.width,O.height):n.renderbufferStorage(36161,34041,O.width,O.height),n.framebufferRenderbuffer(36160,33306,36161,B)}else{const he=O.isWebGLMultipleRenderTargets===!0?O.texture[0]:O.texture,ze=o.convert(he.format),Ne=o.convert(he.type),X=T(he.internalFormat,ze,Ne,he.encoding),Ee=De(O);fe&&O.useRenderbuffer?n.renderbufferStorageMultisample(36161,Ee,X,O.width,O.height):O.useRenderToTexture?m.renderbufferStorageMultisampleEXT(36161,Ee,X,O.width,O.height):n.renderbufferStorage(36161,X,O.width,O.height)}n.bindRenderbuffer(36161,null)}function Re(B,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,B),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),Z(O.depthTexture,0);const he=r.get(O.depthTexture).__webglTexture,ze=De(O);if(O.depthTexture.format===jo)O.useRenderToTexture?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,he,0,ze):n.framebufferTexture2D(36160,36096,3553,he,0);else if(O.depthTexture.format===Hs)O.useRenderToTexture?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,he,0,ze):n.framebufferTexture2D(36160,33306,3553,he,0);else throw new Error("Unknown depthTexture format")}function $e(B){const O=r.get(B),fe=B.isWebGLCubeRenderTarget===!0;if(B.depthTexture&&!O.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Re(O.__webglFramebuffer,B)}else if(fe){O.__webglDepthbuffer=[];for(let he=0;he<6;he++)t.bindFramebuffer(36160,O.__webglFramebuffer[he]),O.__webglDepthbuffer[he]=n.createRenderbuffer(),Fe(O.__webglDepthbuffer[he],B,!1)}else t.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),Fe(O.__webglDepthbuffer,B,!1);t.bindFramebuffer(36160,null)}function pt(B,O,fe){const he=r.get(B);O!==void 0&&We(he.__webglFramebuffer,B,B.texture,36064,3553),fe!==void 0&&$e(B)}function le(B){const O=B.texture,fe=r.get(B),he=r.get(O);B.addEventListener("dispose",D),B.isWebGLMultipleRenderTargets!==!0&&(he.__webglTexture===void 0&&(he.__webglTexture=n.createTexture()),he.__version=O.version,s.memory.textures++);const ze=B.isWebGLCubeRenderTarget===!0,Ne=B.isWebGLMultipleRenderTargets===!0,X=O.isDataTexture3D||O.isDataTexture2DArray,Ee=S(B)||a;if(a&&O.format===$o&&(O.type===_i||O.type===Bs)&&(O.format=xn,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ze){fe.__webglFramebuffer=[];for(let ge=0;ge<6;ge++)fe.__webglFramebuffer[ge]=n.createFramebuffer()}else if(fe.__webglFramebuffer=n.createFramebuffer(),Ne)if(i.drawBuffers){const ge=B.texture;for(let Ce=0,be=ge.length;Ce<be;Ce++){const G=r.get(ge[Ce]);G.__webglTexture===void 0&&(G.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(B.useRenderbuffer)if(a){fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,fe.__webglColorRenderbuffer);const ge=o.convert(O.format),Ce=o.convert(O.type),be=T(O.internalFormat,ge,Ce,O.encoding),G=De(B);n.renderbufferStorageMultisample(36161,G,be,B.width,B.height),t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,fe.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),B.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(fe.__webglDepthRenderbuffer,B,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ze){t.bindTexture(34067,he.__webglTexture),ie(34067,O,Ee);for(let ge=0;ge<6;ge++)We(fe.__webglFramebuffer[ge],B,O,36064,34069+ge);C(O,Ee)&&A(34067),t.unbindTexture()}else if(Ne){const ge=B.texture;for(let Ce=0,be=ge.length;Ce<be;Ce++){const G=ge[Ce],K=r.get(G);t.bindTexture(3553,K.__webglTexture),ie(3553,G,Ee),We(fe.__webglFramebuffer,B,G,36064+Ce,3553),C(G,Ee)&&A(3553)}t.unbindTexture()}else{let ge=3553;X&&(a?ge=O.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(ge,he.__webglTexture),ie(ge,O,Ee),We(fe.__webglFramebuffer,B,O,36064,ge),C(O,Ee)&&A(ge),t.unbindTexture()}B.depthBuffer&&$e(B)}function ve(B){const O=S(B)||a,fe=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let he=0,ze=fe.length;he<ze;he++){const Ne=fe[he];if(C(Ne,O)){const X=B.isWebGLCubeRenderTarget?34067:3553,Ee=r.get(Ne).__webglTexture;t.bindTexture(X,Ee),A(X),t.unbindTexture()}}}function xe(B){if(B.useRenderbuffer)if(a){const O=B.width,fe=B.height;let he=16384;const ze=[36064],Ne=B.stencilBuffer?33306:36096;B.depthBuffer&&ze.push(Ne),B.ignoreDepthForMultisampleCopy||(B.depthBuffer&&(he|=256),B.stencilBuffer&&(he|=1024));const X=r.get(B);t.bindFramebuffer(36008,X.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,X.__webglFramebuffer),B.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[Ne]),n.invalidateFramebuffer(36009,[Ne])),n.blitFramebuffer(0,0,O,fe,0,0,O,fe,he,9728),n.invalidateFramebuffer(36008,ze),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,X.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function De(B){return a&&(B.useRenderbuffer||B.useRenderToTexture)?Math.min(p,B.samples):0}function _e(B){const O=s.render.frame;x.get(B)!==O&&(x.set(B,O),B.update())}let pe=!1,Ae=!1;function je(B,O){B&&B.isWebGLRenderTarget&&(pe===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),pe=!0),B=B.texture),Z(B,O)}function lt(B,O){B&&B.isWebGLCubeRenderTarget&&(Ae===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ae=!0),B=B.texture),ue(B,O)}this.allocateTextureUnit=q,this.resetTextureUnits=$,this.setTexture2D=Z,this.setTexture2DArray=de,this.setTexture3D=Me,this.setTextureCube=ue,this.rebindTextures=pt,this.setupRenderTarget=le,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=xe,this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=We,this.safeSetTexture2D=je,this.safeSetTextureCube=lt}function pC(n,e,t){const r=t.isWebGL2;function i(o){let s;if(o===Zi)return 5121;if(o===dE)return 32819;if(o===hE)return 32820;if(o===pE)return 33635;if(o===uE)return 5120;if(o===cE)return 5122;if(o===_l)return 5123;if(o===fE)return 5124;if(o===jc)return 5125;if(o===_i)return 5126;if(o===Bs)return r?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===mE)return 6406;if(o===$o)return 6407;if(o===xn)return 6408;if(o===gE)return 6409;if(o===vE)return 6410;if(o===jo)return 6402;if(o===Hs)return 34041;if(o===xE)return 6403;if(o===_E)return 36244;if(o===wE)return 33319;if(o===SE)return 33320;if(o===ME)return 36248;if(o===bE)return 36249;if(o===my||o===gy||o===vy||o===yy)if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===my)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===gy)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===vy)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===yy)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===xy||o===_y||o===wy||o===Sy)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===xy)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===_y)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===wy)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Sy)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===EE)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===My||o===by)&&(s=e.get("WEBGL_compressed_texture_etc"),s!==null)){if(o===My)return s.COMPRESSED_RGB8_ETC2;if(o===by)return s.COMPRESSED_RGBA8_ETC2_EAC}if(o===TE||o===CE||o===AE||o===RE||o===PE||o===LE||o===IE||o===DE||o===kE||o===OE||o===NE||o===zE||o===FE||o===BE||o===HE||o===VE||o===GE||o===WE||o===$E||o===jE||o===qE||o===XE||o===YE||o===ZE||o===QE||o===JE||o===KE||o===eT)return s=e.get("WEBGL_compressed_texture_astc"),s!==null?o:null;if(o===UE)return s=e.get("EXT_texture_compression_bptc"),s!==null?o:null;if(o===Us)return r?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class lx extends Wt{constructor(e=[]){super();this.cameras=e}}lx.prototype.isArrayCamera=!0;class na extends xt{constructor(){super();this.type="Group"}}na.prototype.isGroup=!0;const TF={type:"move"};class ux{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new na,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new na,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new na,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(TF))),f&&e.hand){s=!0;for(const _ of e.hand.values()){const w=t.getJointPose(_,r);if(f.joints[_.jointName]===void 0){const v=new na;v.matrixAutoUpdate=!1,v.visible=!1,f.joints[_.jointName]=v,f.add(v)}const y=f.joints[_.jointName];w!==null&&(y.matrix.fromArray(w.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=w.radius),y.visible=w!==null}const h=f.joints["index-finger-tip"],p=f.joints["thumb-tip"],d=h.position.distanceTo(p.position),m=.02,x=.005;f.inputState.pinching&&d>m+x?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&d<=m-x&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),f!==null&&(f.visible=s!==null),this}}class Up extends mn{constructor(e,t,r,i,o,s,a,l,f,h){if(h=h!==void 0?h:jo,h!==jo&&h!==Hs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===jo&&(r=_l),r===void 0&&h===Hs&&(r=Us);super(null,i,o,s,a,l,h,r,f);this.image={width:e,height:t},this.magFilter=a!==void 0?a:pn,this.minFilter=l!==void 0?l:pn,this.flipY=!1,this.generateMipmaps=!1}}Up.prototype.isDepthTexture=!0;class CF extends Qi{constructor(e,t){super();const r=this;let i=null,o=1,s=null,a="local-floor";const l=e.extensions.has("WEBGL_multisampled_render_to_texture");let f=null,h=null,p=null,d=null,m=!1,x=null;const _=t.getContextAttributes();let w=null,y=null;const v=[],S=new Map,M=new Wt;M.layers.enable(1),M.viewport=new Lt;const C=new Wt;C.layers.enable(2),C.viewport=new Lt;const A=[M,C],T=new lx;T.layers.enable(1),T.layers.enable(2);let P=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let V=v[ue];return V===void 0&&(V=new ux,v[ue]=V),V.getTargetRaySpace()},this.getControllerGrip=function(ue){let V=v[ue];return V===void 0&&(V=new ux,v[ue]=V),V.getGripSpace()},this.getHand=function(ue){let V=v[ue];return V===void 0&&(V=new ux,v[ue]=V),V.getHandSpace()};function F(ue){const V=S.get(ue.inputSource);V&&V.dispatchEvent({type:ue.type,data:ue.inputSource})}function D(){S.forEach(function(ue,V){ue.disconnect(V)}),S.clear(),P=null,k=null,e.setRenderTarget(w),d=null,p=null,h=null,i=null,y=null,Me.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){o=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){a=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return h},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(ue){if(i=ue,i!==null){if(w=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",D),i.addEventListener("inputsourceschange",U),_.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const V={antialias:i.renderState.layers===void 0?_.antialias:!0,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(i,t,V),i.updateRenderState({baseLayer:d}),y=new Hn(d.framebufferWidth,d.framebufferHeight)}else{m=_.antialias;let V=null,te=null,ie=null;_.depth&&(ie=_.stencil?35056:33189,V=_.stencil?Hs:jo,te=_.stencil?Us:_l);const ye={colorFormat:_.alpha||m?32856:32849,depthFormat:ie,scaleFactor:o};h=new XRWebGLBinding(i,t),p=h.createProjectionLayer(ye),i.updateRenderState({layers:[p]}),m?y=new dp(p.textureWidth,p.textureHeight,{format:xn,type:Zi,depthTexture:new Up(p.textureWidth,p.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,V),stencilBuffer:_.stencil,ignoreDepth:p.ignoreDepthValues,useRenderToTexture:l}):y=new Hn(p.textureWidth,p.textureHeight,{format:_.alpha?xn:$o,type:Zi,depthTexture:new Up(p.textureWidth,p.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,V),stencilBuffer:_.stencil,ignoreDepth:p.ignoreDepthValues})}this.setFoveation(0),s=await i.requestReferenceSpace(a),Me.setContext(i),Me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function U(ue){const V=i.inputSources;for(let te=0;te<v.length;te++)S.set(V[te],v[te]);for(let te=0;te<ue.removed.length;te++){const ie=ue.removed[te],ye=S.get(ie);ye&&(ye.dispatchEvent({type:"disconnected",data:ie}),S.delete(ie))}for(let te=0;te<ue.added.length;te++){const ie=ue.added[te],ye=S.get(ie);ye&&ye.dispatchEvent({type:"connected",data:ie})}}const H=new I,W=new I;function $(ue,V,te){H.setFromMatrixPosition(V.matrixWorld),W.setFromMatrixPosition(te.matrixWorld);const ie=H.distanceTo(W),ye=V.projectionMatrix.elements,Be=te.projectionMatrix.elements,ce=ye[14]/(ye[10]-1),We=ye[14]/(ye[10]+1),Fe=(ye[9]+1)/ye[5],Re=(ye[9]-1)/ye[5],$e=(ye[8]-1)/ye[0],pt=(Be[8]+1)/Be[0],le=ce*$e,ve=ce*pt,xe=ie/(-$e+pt),De=xe*-$e;V.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(De),ue.translateZ(xe),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert();const _e=ce+xe,pe=We+xe,Ae=le-De,je=ve+(ie-De),lt=Fe*We/pe*_e,B=Re*We/pe*_e;ue.projectionMatrix.makePerspective(Ae,je,lt,B,_e,pe)}function q(ue,V){V===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(V.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(i===null)return;T.near=C.near=M.near=ue.near,T.far=C.far=M.far=ue.far,(P!==T.near||k!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,k=T.far);const V=ue.parent,te=T.cameras;q(T,V);for(let ye=0;ye<te.length;ye++)q(te[ye],V);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),ue.position.copy(T.position),ue.quaternion.copy(T.quaternion),ue.scale.copy(T.scale),ue.matrix.copy(T.matrix),ue.matrixWorld.copy(T.matrixWorld);const ie=ue.children;for(let ye=0,Be=ie.length;ye<Be;ye++)ie[ye].updateMatrixWorld(!0);te.length===2?$(T,M,C):T.projectionMatrix.copy(M.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(ue){p!==null&&(p.fixedFoveation=ue),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ue)};let Z=null;function de(ue,V){if(f=V.getViewerPose(s),x=V,f!==null){const ie=f.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let ye=!1;ie.length!==T.cameras.length&&(T.cameras.length=0,ye=!0);for(let Be=0;Be<ie.length;Be++){const ce=ie[Be];let We=null;if(d!==null)We=d.getViewport(ce);else{const Re=h.getViewSubImage(p,ce);We=Re.viewport,Be===0&&(e.setRenderTargetTextures(y,Re.colorTexture,p.ignoreDepthValues?void 0:Re.depthStencilTexture),e.setRenderTarget(y))}const Fe=A[Be];Fe.matrix.fromArray(ce.transform.matrix),Fe.projectionMatrix.fromArray(ce.projectionMatrix),Fe.viewport.set(We.x,We.y,We.width,We.height),Be===0&&T.matrix.copy(Fe.matrix),ye===!0&&T.cameras.push(Fe)}}const te=i.inputSources;for(let ie=0;ie<v.length;ie++){const ye=v[ie],Be=te[ie];ye.update(Be,V,s)}Z&&Z(ue,V),x=null}const Me=new DT;Me.setAnimationLoop(de),this.setAnimationLoop=function(ue){Z=ue},this.dispose=function(){}}}function AF(n){function e(y,v){y.fogColor.value.copy(v.color),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function t(y,v,S,M,C){v.isMeshBasicMaterial?r(y,v):v.isMeshLambertMaterial?(r(y,v),l(y,v)):v.isMeshToonMaterial?(r(y,v),h(y,v)):v.isMeshPhongMaterial?(r(y,v),f(y,v)):v.isMeshStandardMaterial?(r(y,v),v.isMeshPhysicalMaterial?d(y,v,C):p(y,v)):v.isMeshMatcapMaterial?(r(y,v),m(y,v)):v.isMeshDepthMaterial?(r(y,v),x(y,v)):v.isMeshDistanceMaterial?(r(y,v),_(y,v)):v.isMeshNormalMaterial?(r(y,v),w(y,v)):v.isLineBasicMaterial?(i(y,v),v.isLineDashedMaterial&&o(y,v)):v.isPointsMaterial?s(y,v,S,M):v.isSpriteMaterial?a(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function r(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.specularMap&&(y.specularMap.value=v.specularMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const S=n.get(v).envMap;S&&(y.envMap.value=S,y.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity);let M;v.map?M=v.map:v.specularMap?M=v.specularMap:v.displacementMap?M=v.displacementMap:v.normalMap?M=v.normalMap:v.bumpMap?M=v.bumpMap:v.roughnessMap?M=v.roughnessMap:v.metalnessMap?M=v.metalnessMap:v.alphaMap?M=v.alphaMap:v.emissiveMap?M=v.emissiveMap:v.clearcoatMap?M=v.clearcoatMap:v.clearcoatNormalMap?M=v.clearcoatNormalMap:v.clearcoatRoughnessMap?M=v.clearcoatRoughnessMap:v.specularIntensityMap?M=v.specularIntensityMap:v.specularColorMap?M=v.specularColorMap:v.transmissionMap?M=v.transmissionMap:v.thicknessMap?M=v.thicknessMap:v.sheenColorMap?M=v.sheenColorMap:v.sheenRoughnessMap&&(M=v.sheenRoughnessMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uvTransform.value.copy(M.matrix));let C;v.aoMap?C=v.aoMap:v.lightMap&&(C=v.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),y.uv2Transform.value.copy(C.matrix))}function i(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity}function o(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function s(y,v,S,M){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*S,y.scale.value=M*.5,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);let C;v.map?C=v.map:v.alphaMap&&(C=v.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),y.uvTransform.value.copy(C.matrix))}function a(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map),v.alphaMap&&(y.alphaMap.value=v.alphaMap),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);let S;v.map?S=v.map:v.alphaMap&&(S=v.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix))}function l(y,v){v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap)}function f(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===an&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===an&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function h(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===an&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===an&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function p(y,v){y.roughness.value=v.roughness,y.metalness.value=v.metalness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===an&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===an&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),n.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function d(y,v,S){p(y,v),y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),y.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===an&&y.clearcoatNormalScale.value.negate())),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap)}function m(y,v){v.matcap&&(y.matcap.value=v.matcap),v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===an&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===an&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function x(y,v){v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}function _(y,v){v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),y.referencePosition.value.copy(v.referencePosition),y.nearDistance.value=v.nearDistance,y.farDistance.value=v.farDistance}function w(y,v){v.bumpMap&&(y.bumpMap.value=v.bumpMap,y.bumpScale.value=v.bumpScale,v.side===an&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,y.normalScale.value.copy(v.normalScale),v.side===an&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function RF(){const n=fp("canvas");return n.style.display="block",n}function Pt(n={}){const e=n.canvas!==void 0?n.canvas:RF(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,o=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,f=n.powerPreference!==void 0?n.powerPreference:"default",h=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let p=null,d=null;const m=[],x=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Yn,this.physicallyCorrectLights=!1,this.toneMapping=Yi,this.toneMappingExposure=1;const _=this;let w=!1,y=0,v=0,S=null,M=-1,C=null;const A=new Lt,T=new Lt;let P=null,k=e.width,F=e.height,D=1,U=null,H=null;const W=new Lt(0,0,k,F),$=new Lt(0,0,k,F);let q=!1;const Z=[],de=new rf;let Me=!1,ue=!1,V=null;const te=new qe,ie=new I,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Be(){return S===null?D:1}let ce=t;function We(N,J){for(let oe=0;oe<N.length;oe++){const ee=N[oe],me=e.getContext(ee,J);if(me!==null)return me}return null}try{const N={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:f,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Kh}`),e.addEventListener("webglcontextlost",K,!1),e.addEventListener("webglcontextrestored",we,!1),ce===null){const J=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&J.shift(),ce=We(J,N),ce===null)throw We(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ce.getShaderPrecisionFormat===void 0&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let Fe,Re,$e,pt,le,ve,xe,De,_e,pe,Ae,je,lt,B,O,fe,he,ze,Ne,X,Ee,ge,Ce;function be(){Fe=new KN(ce),Re=new jN(ce,Fe,n),Fe.init(Re),ge=new pC(ce,Fe,Re),$e=new bF(ce,Fe,Re),Z[0]=1029,pt=new nz(ce),le=new hF,ve=new EF(ce,Fe,$e,le,Re,ge,pt),xe=new XN(_),De=new JN(_),_e=new gk(ce,Re),Ce=new WN(ce,Fe,_e,Re),pe=new ez(ce,_e,pt,Ce),Ae=new sz(ce,pe,_e,pt),Ne=new oz(ce,Re,ve),fe=new qN(le),je=new dF(_,xe,De,Fe,Re,Ce,fe),lt=new AF(le),B=new mF(le),O=new wF(Fe,Re),ze=new GN(_,xe,$e,Ae,a),he=new hC(_,Ae,Re),X=new $N(ce,Fe,pt,Re),Ee=new tz(ce,Fe,pt,Re),pt.programs=je.programs,_.capabilities=Re,_.extensions=Fe,_.properties=le,_.renderLists=B,_.shadowMap=he,_.state=$e,_.info=pt}be();const G=new CF(_,ce);this.xr=G,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const N=Fe.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=Fe.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(N){N!==void 0&&(D=N,this.setSize(k,F,!1))},this.getSize=function(N){return N.set(k,F)},this.setSize=function(N,J,oe){if(G.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=N,F=J,e.width=Math.floor(N*D),e.height=Math.floor(J*D),oe!==!1&&(e.style.width=N+"px",e.style.height=J+"px"),this.setViewport(0,0,N,J)},this.getDrawingBufferSize=function(N){return N.set(k*D,F*D).floor()},this.setDrawingBufferSize=function(N,J,oe){k=N,F=J,D=oe,e.width=Math.floor(N*oe),e.height=Math.floor(J*oe),this.setViewport(0,0,N,J)},this.getCurrentViewport=function(N){return N.copy(A)},this.getViewport=function(N){return N.copy(W)},this.setViewport=function(N,J,oe,ee){N.isVector4?W.set(N.x,N.y,N.z,N.w):W.set(N,J,oe,ee),$e.viewport(A.copy(W).multiplyScalar(D).floor())},this.getScissor=function(N){return N.copy($)},this.setScissor=function(N,J,oe,ee){N.isVector4?$.set(N.x,N.y,N.z,N.w):$.set(N,J,oe,ee),$e.scissor(T.copy($).multiplyScalar(D).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(N){$e.setScissorTest(q=N)},this.setOpaqueSort=function(N){U=N},this.setTransparentSort=function(N){H=N},this.getClearColor=function(N){return N.copy(ze.getClearColor())},this.setClearColor=function(){ze.setClearColor.apply(ze,arguments)},this.getClearAlpha=function(){return ze.getClearAlpha()},this.setClearAlpha=function(){ze.setClearAlpha.apply(ze,arguments)},this.clear=function(N,J,oe){let ee=0;(N===void 0||N)&&(ee|=16384),(J===void 0||J)&&(ee|=256),(oe===void 0||oe)&&(ee|=1024),ce.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",K,!1),e.removeEventListener("webglcontextrestored",we,!1),B.dispose(),O.dispose(),le.dispose(),xe.dispose(),De.dispose(),Ae.dispose(),Ce.dispose(),G.dispose(),G.removeEventListener("sessionstart",Kn),G.removeEventListener("sessionend",fr),V&&(V.dispose(),V=null),Li.stop()};function K(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const N=pt.autoReset,J=he.enabled,oe=he.autoUpdate,ee=he.needsUpdate,me=he.type;be(),pt.autoReset=N,he.enabled=J,he.autoUpdate=oe,he.needsUpdate=ee,he.type=me}function Xe(N){const J=N.target;J.removeEventListener("dispose",Xe),Je(J)}function Je(N){jt(N),le.remove(N)}function jt(N){const J=le.get(N).programs;J!==void 0&&J.forEach(function(oe){je.releaseProgram(oe)})}this.renderBufferDirect=function(N,J,oe,ee,me,rt){J===null&&(J=ye);const Ke=me.isMesh&&me.matrixWorld.determinant()<0,dt=Kf(N,J,oe,ee,me);$e.setMaterial(ee,Ke);let it=oe.index;const _t=oe.attributes.position;if(it===null){if(_t===void 0||_t.count===0)return}else if(it.count===0)return;let ht=1;ee.wireframe===!0&&(it=pe.getWireframeAttribute(oe),ht=2),Ce.setup(me,ee,dt,oe,it);let vt,It=X;it!==null&&(vt=_e.get(it),It=Ee,It.setIndex(vt));const qr=it!==null?it.count:_t.count,wt=oe.drawRange.start*ht,Ii=oe.drawRange.count*ht,Ct=rt!==null?rt.start*ht:0,Vn=rt!==null?rt.count*ht:1/0,bt=Math.max(wt,Ct),At=Math.min(qr,wt+Ii,Ct+Vn)-1,Ln=Math.max(0,At-bt+1);if(Ln!==0){if(me.isMesh)ee.wireframe===!0?($e.setLineWidth(ee.wireframeLinewidth*Be()),It.setMode(1)):It.setMode(4);else if(me.isLine){let mt=ee.linewidth;mt===void 0&&(mt=1),$e.setLineWidth(mt*Be()),me.isLineSegments?It.setMode(1):me.isLineLoop?It.setMode(2):It.setMode(3)}else me.isPoints?It.setMode(0):me.isSprite&&It.setMode(4);if(me.isInstancedMesh)It.renderInstances(bt,Ln,me.count);else if(oe.isInstancedBufferGeometry){const mt=Math.min(oe.instanceCount,oe._maxInstanceCount);It.renderInstances(bt,Ln,mt)}else It.render(bt,Ln)}},this.compile=function(N,J){d=O.get(N),d.init(),x.push(d),N.traverseVisible(function(oe){oe.isLight&&oe.layers.test(J.layers)&&(d.pushLight(oe),oe.castShadow&&d.pushShadow(oe))}),d.setupLights(_.physicallyCorrectLights),N.traverse(function(oe){const ee=oe.material;if(ee)if(Array.isArray(ee))for(let me=0;me<ee.length;me++){const rt=ee[me];Ta(rt,N,oe)}else Ta(ee,N,oe)}),x.pop(),d=null};let Mn=null;function ba(N){Mn&&Mn(N)}function Kn(){Li.stop()}function fr(){Li.start()}const Li=new DT;Li.setAnimationLoop(ba),typeof window!="undefined"&&Li.setContext(window),this.setAnimationLoop=function(N){Mn=N,G.setAnimationLoop(N),N===null?Li.stop():Li.start()},G.addEventListener("sessionstart",Kn),G.addEventListener("sessionend",fr),this.render=function(N,J){if(J!==void 0&&J.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;N.autoUpdate===!0&&N.updateMatrixWorld(),J.parent===null&&J.updateMatrixWorld(),G.enabled===!0&&G.isPresenting===!0&&(G.cameraAutoUpdate===!0&&G.updateCamera(J),J=G.getCamera()),N.isScene===!0&&N.onBeforeRender(_,N,J,S),d=O.get(N,x.length),d.init(),x.push(d),te.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),de.setFromProjectionMatrix(te),ue=this.localClippingEnabled,Me=fe.init(this.clippingPlanes,ue,J),p=B.get(N,m.length),p.init(),m.push(p),Yf(N,J,0,_.sortObjects),p.finish(),_.sortObjects===!0&&p.sort(U,H),Me===!0&&fe.beginShadows();const oe=d.state.shadowsArray;if(he.render(oe,N,J),Me===!0&&fe.endShadows(),this.info.autoReset===!0&&this.info.reset(),ze.render(p,N),d.setupLights(_.physicallyCorrectLights),J.isArrayCamera){const ee=J.cameras;for(let me=0,rt=ee.length;me<rt;me++){const Ke=ee[me];Zf(p,N,Ke,Ke.viewport)}}else Zf(p,N,J);S!==null&&(ve.updateMultisampleRenderTarget(S),ve.updateRenderTargetMipmap(S)),N.isScene===!0&&N.onAfterRender(_,N,J),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1),Ce.resetDefaultState(),M=-1,C=null,x.pop(),x.length>0?d=x[x.length-1]:d=null,m.pop(),m.length>0?p=m[m.length-1]:p=null};function Yf(N,J,oe,ee){if(N.visible===!1)return;if(N.layers.test(J.layers)){if(N.isGroup)oe=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(J);else if(N.isLight)d.pushLight(N),N.castShadow&&d.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||de.intersectsSprite(N)){ee&&ie.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const Ke=Ae.update(N),dt=N.material;dt.visible&&p.push(N,Ke,dt,oe,ie.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(N.isSkinnedMesh&&N.skeleton.frame!==pt.render.frame&&(N.skeleton.update(),N.skeleton.frame=pt.render.frame),!N.frustumCulled||de.intersectsObject(N))){ee&&ie.setFromMatrixPosition(N.matrixWorld).applyMatrix4(te);const Ke=Ae.update(N),dt=N.material;if(Array.isArray(dt)){const it=Ke.groups;for(let _t=0,ht=it.length;_t<ht;_t++){const vt=it[_t],It=dt[vt.materialIndex];It&&It.visible&&p.push(N,Ke,It,oe,ie.z,vt)}}else dt.visible&&p.push(N,Ke,dt,oe,ie.z,null)}}const rt=N.children;for(let Ke=0,dt=rt.length;Ke<dt;Ke++)Yf(rt[Ke],J,oe,ee)}function Zf(N,J,oe,ee){const me=N.opaque,rt=N.transmissive,Ke=N.transparent;d.setupLightsView(oe),rt.length>0&&wu(me,J,oe),ee&&$e.viewport(A.copy(ee)),me.length>0&&Ea(me,J,oe),rt.length>0&&Ea(rt,J,oe),Ke.length>0&&Ea(Ke,J,oe)}function wu(N,J,oe){if(V===null){const Ke=s===!0&&Re.isWebGL2===!0?dp:Hn;V=new Ke(1024,1024,{generateMipmaps:!0,type:ge.convert(Bs)!==null?Bs:Zi,minFilter:Fs,magFilter:pn,wrapS:Fn,wrapT:Fn,useRenderToTexture:Fe.has("WEBGL_multisampled_render_to_texture")})}const ee=_.getRenderTarget();_.setRenderTarget(V),_.clear();const me=_.toneMapping;_.toneMapping=Yi,Ea(N,J,oe),_.toneMapping=me,ve.updateMultisampleRenderTarget(V),ve.updateRenderTargetMipmap(V),_.setRenderTarget(ee)}function Ea(N,J,oe){const ee=J.isScene===!0?J.overrideMaterial:null;for(let me=0,rt=N.length;me<rt;me++){const Ke=N[me],dt=Ke.object,it=Ke.geometry,_t=ee===null?Ke.material:ee,ht=Ke.group;dt.layers.test(oe.layers)&&Qf(dt,J,oe,it,_t,ht)}}function Qf(N,J,oe,ee,me,rt){N.onBeforeRender(_,J,oe,ee,me,rt),N.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),me.onBeforeRender(_,J,oe,ee,N,rt),me.transparent===!0&&me.side===ks?(me.side=an,me.needsUpdate=!0,_.renderBufferDirect(oe,J,ee,me,N,rt),me.side=Ds,me.needsUpdate=!0,_.renderBufferDirect(oe,J,ee,me,N,rt),me.side=ks):_.renderBufferDirect(oe,J,ee,me,N,rt),N.onAfterRender(_,J,oe,ee,me,rt)}function Ta(N,J,oe){J.isScene!==!0&&(J=ye);const ee=le.get(N),me=d.state.lights,rt=d.state.shadowsArray,Ke=me.state.version,dt=je.getParameters(N,me.state,rt,J,oe),it=je.getProgramCacheKey(dt);let _t=ee.programs;ee.environment=N.isMeshStandardMaterial?J.environment:null,ee.fog=J.fog,ee.envMap=(N.isMeshStandardMaterial?De:xe).get(N.envMap||ee.environment),_t===void 0&&(N.addEventListener("dispose",Xe),_t=new Map,ee.programs=_t);let ht=_t.get(it);if(ht!==void 0){if(ee.currentProgram===ht&&ee.lightsStateVersion===Ke)return Jf(N,dt),ht}else dt.uniforms=je.getUniforms(N),N.onBuild(oe,dt,_),N.onBeforeCompile(dt,_),ht=je.acquireProgram(dt,it),_t.set(it,ht),ee.uniforms=dt.uniforms;const vt=ee.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(vt.clippingPlanes=fe.uniform),Jf(N,dt),ee.needsLights=td(N),ee.lightsStateVersion=Ke,ee.needsLights&&(vt.ambientLightColor.value=me.state.ambient,vt.lightProbe.value=me.state.probe,vt.directionalLights.value=me.state.directional,vt.directionalLightShadows.value=me.state.directionalShadow,vt.spotLights.value=me.state.spot,vt.spotLightShadows.value=me.state.spotShadow,vt.rectAreaLights.value=me.state.rectArea,vt.ltc_1.value=me.state.rectAreaLTC1,vt.ltc_2.value=me.state.rectAreaLTC2,vt.pointLights.value=me.state.point,vt.pointLightShadows.value=me.state.pointShadow,vt.hemisphereLights.value=me.state.hemi,vt.directionalShadowMap.value=me.state.directionalShadowMap,vt.directionalShadowMatrix.value=me.state.directionalShadowMatrix,vt.spotShadowMap.value=me.state.spotShadowMap,vt.spotShadowMatrix.value=me.state.spotShadowMatrix,vt.pointShadowMap.value=me.state.pointShadowMap,vt.pointShadowMatrix.value=me.state.pointShadowMatrix);const It=ht.getUniforms(),qr=ns.seqWithValue(It.seq,vt);return ee.currentProgram=ht,ee.uniformsList=qr,ht}function Jf(N,J){const oe=le.get(N);oe.outputEncoding=J.outputEncoding,oe.instancing=J.instancing,oe.skinning=J.skinning,oe.morphTargets=J.morphTargets,oe.morphNormals=J.morphNormals,oe.morphTargetsCount=J.morphTargetsCount,oe.numClippingPlanes=J.numClippingPlanes,oe.numIntersection=J.numClipIntersection,oe.vertexAlphas=J.vertexAlphas,oe.vertexTangents=J.vertexTangents}function Kf(N,J,oe,ee,me){J.isScene!==!0&&(J=ye),ve.resetTextureUnits();const rt=J.fog,Ke=ee.isMeshStandardMaterial?J.environment:null,dt=S===null?_.outputEncoding:S.texture.encoding,it=(ee.isMeshStandardMaterial?De:xe).get(ee.envMap||Ke),_t=ee.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,ht=!!ee.normalMap&&!!oe.attributes.tangent,vt=!!oe.morphAttributes.position,It=!!oe.morphAttributes.normal,qr=oe.morphAttributes.position?oe.morphAttributes.position.length:0,wt=le.get(ee),Ii=d.state.lights;if(Me===!0&&(ue===!0||N!==C)){const gn=N===C&&ee.id===M;fe.setState(ee,N,gn)}let Ct=!1;ee.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==Ii.state.version||wt.outputEncoding!==dt||me.isInstancedMesh&&wt.instancing===!1||!me.isInstancedMesh&&wt.instancing===!0||me.isSkinnedMesh&&wt.skinning===!1||!me.isSkinnedMesh&&wt.skinning===!0||wt.envMap!==it||ee.fog&&wt.fog!==rt||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==fe.numPlanes||wt.numIntersection!==fe.numIntersection)||wt.vertexAlphas!==_t||wt.vertexTangents!==ht||wt.morphTargets!==vt||wt.morphNormals!==It||Re.isWebGL2===!0&&wt.morphTargetsCount!==qr)&&(Ct=!0):(Ct=!0,wt.__version=ee.version);let Vn=wt.currentProgram;Ct===!0&&(Vn=Ta(ee,J,me));let bt=!1,At=!1,Ln=!1;const mt=Vn.getUniforms(),dn=wt.uniforms;if($e.useProgram(Vn.program)&&(bt=!0,At=!0,Ln=!0),ee.id!==M&&(M=ee.id,At=!0),bt||C!==N){if(mt.setValue(ce,"projectionMatrix",N.projectionMatrix),Re.logarithmicDepthBuffer&&mt.setValue(ce,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),C!==N&&(C=N,At=!0,Ln=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const gn=mt.map.cameraPosition;gn!==void 0&&gn.setValue(ce,ie.setFromMatrixPosition(N.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&mt.setValue(ce,"isOrthographic",N.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||me.isSkinnedMesh)&&mt.setValue(ce,"viewMatrix",N.matrixWorldInverse)}if(me.isSkinnedMesh){mt.setOptional(ce,me,"bindMatrix"),mt.setOptional(ce,me,"bindMatrixInverse");const gn=me.skeleton;gn&&(Re.floatVertexTextures?(gn.boneTexture===null&&gn.computeBoneTexture(),mt.setValue(ce,"boneTexture",gn.boneTexture,ve),mt.setValue(ce,"boneTextureSize",gn.boneTextureSize)):mt.setOptional(ce,gn,"boneMatrices"))}return!!oe&&(oe.morphAttributes.position!==void 0||oe.morphAttributes.normal!==void 0)&&Ne.update(me,oe,ee,Vn),(At||wt.receiveShadow!==me.receiveShadow)&&(wt.receiveShadow=me.receiveShadow,mt.setValue(ce,"receiveShadow",me.receiveShadow)),At&&(mt.setValue(ce,"toneMappingExposure",_.toneMappingExposure),wt.needsLights&&ed(dn,Ln),rt&&ee.fog&&lt.refreshFogUniforms(dn,rt),lt.refreshMaterialUniforms(dn,ee,D,F,V),ns.upload(ce,wt.uniformsList,dn,ve)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(ns.upload(ce,wt.uniformsList,dn,ve),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&mt.setValue(ce,"center",me.center),mt.setValue(ce,"modelViewMatrix",me.modelViewMatrix),mt.setValue(ce,"normalMatrix",me.normalMatrix),mt.setValue(ce,"modelMatrix",me.matrixWorld),Vn}function ed(N,J){N.ambientLightColor.needsUpdate=J,N.lightProbe.needsUpdate=J,N.directionalLights.needsUpdate=J,N.directionalLightShadows.needsUpdate=J,N.pointLights.needsUpdate=J,N.pointLightShadows.needsUpdate=J,N.spotLights.needsUpdate=J,N.spotLightShadows.needsUpdate=J,N.rectAreaLights.needsUpdate=J,N.hemisphereLights.needsUpdate=J}function td(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(N,J,oe){le.get(N.texture).__webglTexture=J,le.get(N.depthTexture).__webglTexture=oe;const ee=le.get(N);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=oe===void 0,ee.__autoAllocateDepthBuffer||N.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),N.useRenderToTexture=!1,N.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(N,J){const oe=le.get(N);oe.__webglFramebuffer=J,oe.__useDefaultFramebuffer=J===void 0},this.setRenderTarget=function(N,J=0,oe=0){S=N,y=J,v=oe;let ee=!0;if(N){const it=le.get(N);it.__useDefaultFramebuffer!==void 0?($e.bindFramebuffer(36160,null),ee=!1):it.__webglFramebuffer===void 0?ve.setupRenderTarget(N):it.__hasExternalTextures&&ve.rebindTextures(N,le.get(N.texture).__webglTexture,le.get(N.depthTexture).__webglTexture)}let me=null,rt=!1,Ke=!1;if(N){const it=N.texture;(it.isDataTexture3D||it.isDataTexture2DArray)&&(Ke=!0);const _t=le.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(me=_t[J],rt=!0):N.useRenderbuffer?me=le.get(N).__webglMultisampledFramebuffer:me=_t,A.copy(N.viewport),T.copy(N.scissor),P=N.scissorTest}else A.copy(W).multiplyScalar(D).floor(),T.copy($).multiplyScalar(D).floor(),P=q;if($e.bindFramebuffer(36160,me)&&Re.drawBuffers&&ee){let it=!1;if(N)if(N.isWebGLMultipleRenderTargets){const _t=N.texture;if(Z.length!==_t.length||Z[0]!==36064){for(let ht=0,vt=_t.length;ht<vt;ht++)Z[ht]=36064+ht;Z.length=_t.length,it=!0}}else(Z.length!==1||Z[0]!==36064)&&(Z[0]=36064,Z.length=1,it=!0);else(Z.length!==1||Z[0]!==1029)&&(Z[0]=1029,Z.length=1,it=!0);it&&(Re.isWebGL2?ce.drawBuffers(Z):Fe.get("WEBGL_draw_buffers").drawBuffersWEBGL(Z))}if($e.viewport(A),$e.scissor(T),$e.setScissorTest(P),rt){const it=le.get(N.texture);ce.framebufferTexture2D(36160,36064,34069+J,it.__webglTexture,oe)}else if(Ke){const it=le.get(N.texture),_t=J||0;ce.framebufferTextureLayer(36160,36064,it.__webglTexture,oe||0,_t)}M=-1},this.readRenderTargetPixels=function(N,J,oe,ee,me,rt,Ke){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=le.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&Ke!==void 0&&(dt=dt[Ke]),dt){$e.bindFramebuffer(36160,dt);try{const it=N.texture,_t=it.format,ht=it.type;if(_t!==xn&&ge.convert(_t)!==ce.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const vt=ht===Bs&&(Fe.has("EXT_color_buffer_half_float")||Re.isWebGL2&&Fe.has("EXT_color_buffer_float"));if(ht!==Zi&&ge.convert(ht)!==ce.getParameter(35738)&&!(ht===_i&&(Re.isWebGL2||Fe.has("OES_texture_float")||Fe.has("WEBGL_color_buffer_float")))&&!vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce.checkFramebufferStatus(36160)===36053?J>=0&&J<=N.width-ee&&oe>=0&&oe<=N.height-me&&ce.readPixels(J,oe,ee,me,ge.convert(_t),ge.convert(ht),rt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const it=S!==null?le.get(S).__webglFramebuffer:null;$e.bindFramebuffer(36160,it)}}},this.copyFramebufferToTexture=function(N,J,oe=0){const ee=Math.pow(2,-oe),me=Math.floor(J.image.width*ee),rt=Math.floor(J.image.height*ee);let Ke=ge.convert(J.format);Re.isWebGL2&&(Ke===6407&&(Ke=32849),Ke===6408&&(Ke=32856)),ve.setTexture2D(J,0),ce.copyTexImage2D(3553,oe,Ke,N.x,N.y,me,rt,0),$e.unbindTexture()},this.copyTextureToTexture=function(N,J,oe,ee=0){const me=J.image.width,rt=J.image.height,Ke=ge.convert(oe.format),dt=ge.convert(oe.type);ve.setTexture2D(oe,0),ce.pixelStorei(37440,oe.flipY),ce.pixelStorei(37441,oe.premultiplyAlpha),ce.pixelStorei(3317,oe.unpackAlignment),J.isDataTexture?ce.texSubImage2D(3553,ee,N.x,N.y,me,rt,Ke,dt,J.image.data):J.isCompressedTexture?ce.compressedTexSubImage2D(3553,ee,N.x,N.y,J.mipmaps[0].width,J.mipmaps[0].height,Ke,J.mipmaps[0].data):ce.texSubImage2D(3553,ee,N.x,N.y,Ke,dt,J.image),ee===0&&oe.generateMipmaps&&ce.generateMipmap(3553),$e.unbindTexture()},this.copyTextureToTexture3D=function(N,J,oe,ee,me=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const rt=N.max.x-N.min.x+1,Ke=N.max.y-N.min.y+1,dt=N.max.z-N.min.z+1,it=ge.convert(ee.format),_t=ge.convert(ee.type);let ht;if(ee.isDataTexture3D)ve.setTexture3D(ee,0),ht=32879;else if(ee.isDataTexture2DArray)ve.setTexture2DArray(ee,0),ht=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ce.pixelStorei(37440,ee.flipY),ce.pixelStorei(37441,ee.premultiplyAlpha),ce.pixelStorei(3317,ee.unpackAlignment);const vt=ce.getParameter(3314),It=ce.getParameter(32878),qr=ce.getParameter(3316),wt=ce.getParameter(3315),Ii=ce.getParameter(32877),Ct=oe.isCompressedTexture?oe.mipmaps[0]:oe.image;ce.pixelStorei(3314,Ct.width),ce.pixelStorei(32878,Ct.height),ce.pixelStorei(3316,N.min.x),ce.pixelStorei(3315,N.min.y),ce.pixelStorei(32877,N.min.z),oe.isDataTexture||oe.isDataTexture3D?ce.texSubImage3D(ht,me,J.x,J.y,J.z,rt,Ke,dt,it,_t,Ct.data):oe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ce.compressedTexSubImage3D(ht,me,J.x,J.y,J.z,rt,Ke,dt,it,Ct.data)):ce.texSubImage3D(ht,me,J.x,J.y,J.z,rt,Ke,dt,it,_t,Ct),ce.pixelStorei(3314,vt),ce.pixelStorei(32878,It),ce.pixelStorei(3316,qr),ce.pixelStorei(3315,wt),ce.pixelStorei(32877,Ii),me===0&&ee.generateMipmaps&&ce.generateMipmap(ht),$e.unbindTexture()},this.initTexture=function(N){ve.setTexture2D(N,0),$e.unbindTexture()},this.resetState=function(){y=0,v=0,S=null,$e.reset(),Ce.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Pt.prototype.isWebGLRenderer=!0;class mC extends Pt{}mC.prototype.isWebGL1Renderer=!0;class af{constructor(e,t=25e-5){this.name="",this.color=new Le(e),this.density=t}clone(){return new af(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}af.prototype.isFogExp2=!0;class lf{constructor(e,t=1,r=1e3){this.name="",this.color=new Le(e),this.near=t,this.far=r}clone(){return new lf(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}lf.prototype.isFog=!0;class uf extends xt{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}uf.prototype.isScene=!0;class ra{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=wl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Tr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}ra.prototype.isInterleavedBuffer=!0;const cn=new I;class rs{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.applyMatrix4(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.applyNormalMatrix(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.transformDirection(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Mt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}rs.prototype.isInterleavedBufferAttribute=!0;class Hp extends Tn{constructor(e){super();this.type="SpriteMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Hp.prototype.isSpriteMaterial=!0;let jl;const cf=new I,ql=new I,Xl=new I,Yl=new se,ff=new se,gC=new qe,Vp=new I,df=new I,Gp=new I,vC=new se,cx=new se,yC=new se;class Wp extends xt{constructor(e){super();if(this.type="Sprite",jl===void 0){jl=new Qe;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ra(t,5);jl.setIndex([0,1,2,0,2,3]),jl.setAttribute("position",new rs(r,3,0,!1)),jl.setAttribute("uv",new rs(r,2,3,!1))}this.geometry=jl,this.material=e!==void 0?e:new Hp,this.center=new se(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ql.setFromMatrixScale(this.matrixWorld),gC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ql.multiplyScalar(-Xl.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;$p(Vp.set(-.5,-.5,0),Xl,s,ql,i,o),$p(df.set(.5,-.5,0),Xl,s,ql,i,o),$p(Gp.set(.5,.5,0),Xl,s,ql,i,o),vC.set(0,0),cx.set(1,0),yC.set(1,1);let a=e.ray.intersectTriangle(Vp,df,Gp,!1,cf);if(a===null&&($p(df.set(-.5,.5,0),Xl,s,ql,i,o),cx.set(0,1),a=e.ray.intersectTriangle(Vp,Gp,df,!1,cf),a===null))return;const l=e.ray.origin.distanceTo(cf);l<e.near||l>e.far||t.push({distance:l,point:cf.clone(),uv:ln.getUV(cf,Vp,df,Gp,vC,cx,yC,new se),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Wp.prototype.isSprite=!0;function $p(n,e,t,r,i,o){Yl.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(ff.x=o*Yl.x-i*Yl.y,ff.y=i*Yl.x+o*Yl.y):ff.copy(Yl),n.copy(e),n.x+=ff.x,n.y+=ff.y,n.applyMatrix4(gC)}const jp=new I,xC=new I;class _C extends xt{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){jp.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(jp);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){jp.setFromMatrixPosition(e.matrixWorld),xC.setFromMatrixPosition(this.matrixWorld);const r=jp.distanceTo(xC)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const wC=new I,SC=new Lt,MC=new Lt,PF=new I,bC=new qe;class qp extends un{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new qe,this.bindMatrixInverse=new qe}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Lt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;SC.fromBufferAttribute(i.attributes.skinIndex,e),MC.fromBufferAttribute(i.attributes.skinWeight,e),wC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=MC.getComponent(o);if(s!==0){const a=SC.getComponent(o);bC.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(PF.copy(wC).applyMatrix4(bC),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}qp.prototype.isSkinnedMesh=!0;class Xp extends xt{constructor(){super();this.type="Bone"}}Xp.prototype.isBone=!0;class ia extends mn{constructor(e=null,t=1,r=1,i,o,s,a,l,f=pn,h=pn,p,d){super(null,s,a,l,f,h,i,o,p,d);this.image={data:e,width:t,height:r},this.magFilter=f,this.minFilter=h,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ia.prototype.isDataTexture=!0;const EC=new qe,LF=new qe;class Yp{constructor(e=[],t=[]){this.uuid=Tr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new qe)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new qe;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:LF;EC.multiplyMatrices(a,t[o]),EC.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Yp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uT(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new ia(t,e,e,xn,_i);return this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new Xp),this.bones.push(s),this.boneInverses.push(new qe().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const s=t[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class oa extends Mt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}oa.prototype.isInstancedBufferAttribute=!0;const TC=new qe,CC=new qe,Zp=[],hf=new un;class fx extends un{constructor(e,t,r){super(e,t);this.instanceMatrix=new oa(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(hf.geometry=this.geometry,hf.material=this.material,hf.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,TC),CC.multiplyMatrices(r,TC),hf.matrixWorld=CC,hf.raycast(e,Zp);for(let s=0,a=Zp.length;s<a;s++){const l=Zp[s];l.instanceId=o,l.object=this,t.push(l)}Zp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new oa(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}fx.prototype.isInstancedMesh=!0;class An extends Tn{constructor(e){super();this.type="LineBasicMaterial",this.color=new Le(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}An.prototype.isLineBasicMaterial=!0;const AC=new I,RC=new I,PC=new qe,dx=new Zo,Qp=new Ki;class oo extends xt{constructor(e=new Qe,t=new An){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)AC.fromBufferAttribute(t,i-1),RC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=AC.distanceTo(RC);e.setAttribute("lineDistance",new Ve(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qp.copy(r.boundingSphere),Qp.applyMatrix4(i),Qp.radius+=o,e.ray.intersectsSphere(Qp)===!1)return;PC.copy(i).invert(),dx.copy(e.ray).applyMatrix4(PC);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=new I,h=new I,p=new I,d=new I,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const x=r.index,w=r.attributes.position;if(x!==null){const y=Math.max(0,s.start),v=Math.min(x.count,s.start+s.count);for(let S=y,M=v-1;S<M;S+=m){const C=x.getX(S),A=x.getX(S+1);if(f.fromBufferAttribute(w,C),h.fromBufferAttribute(w,A),dx.distanceSqToSegment(f,h,d,p)>l)continue;d.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(d);P<e.near||P>e.far||t.push({distance:P,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,s.start),v=Math.min(w.count,s.start+s.count);for(let S=y,M=v-1;S<M;S+=m){if(f.fromBufferAttribute(w,S),h.fromBufferAttribute(w,S+1),dx.distanceSqToSegment(f,h,d,p)>l)continue;d.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(d);A<e.near||A>e.far||t.push({distance:A,point:p.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}oo.prototype.isLine=!0;const LC=new I,IC=new I;class _r extends oo{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)LC.fromBufferAttribute(t,i),IC.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+LC.distanceTo(IC);e.setAttribute("lineDistance",new Ve(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}_r.prototype.isLineSegments=!0;class hx extends oo{constructor(e,t){super(e,t);this.type="LineLoop"}}hx.prototype.isLineLoop=!0;class sa extends Tn{constructor(e){super();this.type="PointsMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}sa.prototype.isPointsMaterial=!0;const DC=new qe,px=new Zo,Jp=new Ki,Kp=new I;class pf extends xt{constructor(e=new Qe,t=new sa){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Jp.copy(r.boundingSphere),Jp.applyMatrix4(i),Jp.radius+=o,e.ray.intersectsSphere(Jp)===!1)return;DC.copy(i).invert(),px.copy(e.ray).applyMatrix4(DC);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const f=r.index,p=r.attributes.position;if(f!==null){const d=Math.max(0,s.start),m=Math.min(f.count,s.start+s.count);for(let x=d,_=m;x<_;x++){const w=f.getX(x);Kp.fromBufferAttribute(p,w),kC(Kp,w,l,i,e,t,this)}}else{const d=Math.max(0,s.start),m=Math.min(p.count,s.start+s.count);for(let x=d,_=m;x<_;x++)Kp.fromBufferAttribute(p,x),kC(Kp,x,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}pf.prototype.isPoints=!0;function kC(n,e,t,r,i,o,s){const a=px.distanceSqToPoint(n);if(a<t){const l=new I;px.closestPointToPoint(n,l),l.applyMatrix4(r);const f=i.ray.origin.distanceTo(l);if(f<i.near||f>i.far)return;o.push({distance:f,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class OC extends mn{constructor(e,t,r,i,o,s,a,l,f){super(e,t,r,i,o,s,a,l,f);this.format=a!==void 0?a:$o,this.minFilter=s!==void 0?s:Zt,this.magFilter=o!==void 0?o:Zt,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}OC.prototype.isVideoTexture=!0;class mx extends mn{constructor(e,t,r,i,o,s,a,l,f,h,p,d){super(null,s,a,l,f,h,i,o,p,d);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}mx.prototype.isCompressedTexture=!0;class NC extends mn{constructor(e,t,r,i,o,s,a,l,f){super(e,t,r,i,o,s,a,l,f);this.needsUpdate=!0}}NC.prototype.isCanvasTexture=!0;class Zl extends Qe{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],s=[],a=[],l=[],f=new I,h=new se;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,d=3;p<=t;p++,d+=3){const m=r+p/t*i;f.x=e*Math.cos(m),f.y=e*Math.sin(m),s.push(f.x,f.y,f.z),a.push(0,0,1),h.x=(s[d]/e+1)/2,h.y=(s[d+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=t;p++)o.push(p,p+1,0);this.setIndex(o),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(a,3)),this.setAttribute("uv",new Ve(l,2))}static fromJSON(e){return new Zl(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class is extends Qe{constructor(e=1,t=1,r=1,i=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const f=this;i=Math.floor(i),o=Math.floor(o);const h=[],p=[],d=[],m=[];let x=0;const _=[],w=r/2;let y=0;v(),s===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(h),this.setAttribute("position",new Ve(p,3)),this.setAttribute("normal",new Ve(d,3)),this.setAttribute("uv",new Ve(m,2));function v(){const M=new I,C=new I;let A=0;const T=(t-e)/r;for(let P=0;P<=o;P++){const k=[],F=P/o,D=F*(t-e)+e;for(let U=0;U<=i;U++){const H=U/i,W=H*l+a,$=Math.sin(W),q=Math.cos(W);C.x=D*$,C.y=-F*r+w,C.z=D*q,p.push(C.x,C.y,C.z),M.set($,T,q).normalize(),d.push(M.x,M.y,M.z),m.push(H,1-F),k.push(x++)}_.push(k)}for(let P=0;P<i;P++)for(let k=0;k<o;k++){const F=_[k][P],D=_[k+1][P],U=_[k+1][P+1],H=_[k][P+1];h.push(F,D,H),h.push(D,U,H),A+=6}f.addGroup(y,A,0),y+=A}function S(M){const C=x,A=new se,T=new I;let P=0;const k=M===!0?e:t,F=M===!0?1:-1;for(let U=1;U<=i;U++)p.push(0,w*F,0),d.push(0,F,0),m.push(.5,.5),x++;const D=x;for(let U=0;U<=i;U++){const W=U/i*l+a,$=Math.cos(W),q=Math.sin(W);T.x=k*q,T.y=w*F,T.z=k*$,p.push(T.x,T.y,T.z),d.push(0,F,0),A.x=$*.5+.5,A.y=q*.5*F+.5,m.push(A.x,A.y),x++}for(let U=0;U<i;U++){const H=C+U,W=D+U;M===!0?h.push(W,W+1,H):h.push(W+1,W,H),P+=3}f.addGroup(y,P,M===!0?1:2),y+=P}}static fromJSON(e){return new is(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ql extends is{constructor(e=1,t=1,r=8,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Ql(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bi extends Qe{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],s=[];a(i),f(r),h(),this.setAttribute("position",new Ve(o,3)),this.setAttribute("normal",new Ve(o.slice(),3)),this.setAttribute("uv",new Ve(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(v){const S=new I,M=new I,C=new I;for(let A=0;A<t.length;A+=3)m(t[A+0],S),m(t[A+1],M),m(t[A+2],C),l(S,M,C,v)}function l(v,S,M,C){const A=C+1,T=[];for(let P=0;P<=A;P++){T[P]=[];const k=v.clone().lerp(M,P/A),F=S.clone().lerp(M,P/A),D=A-P;for(let U=0;U<=D;U++)U===0&&P===A?T[P][U]=k:T[P][U]=k.clone().lerp(F,U/D)}for(let P=0;P<A;P++)for(let k=0;k<2*(A-P)-1;k++){const F=Math.floor(k/2);k%2==0?(d(T[P][F+1]),d(T[P+1][F]),d(T[P][F])):(d(T[P][F+1]),d(T[P+1][F+1]),d(T[P+1][F]))}}function f(v){const S=new I;for(let M=0;M<o.length;M+=3)S.x=o[M+0],S.y=o[M+1],S.z=o[M+2],S.normalize().multiplyScalar(v),o[M+0]=S.x,o[M+1]=S.y,o[M+2]=S.z}function h(){const v=new I;for(let S=0;S<o.length;S+=3){v.x=o[S+0],v.y=o[S+1],v.z=o[S+2];const M=w(v)/2/Math.PI+.5,C=y(v)/Math.PI+.5;s.push(M,1-C)}x(),p()}function p(){for(let v=0;v<s.length;v+=6){const S=s[v+0],M=s[v+2],C=s[v+4],A=Math.max(S,M,C),T=Math.min(S,M,C);A>.9&&T<.1&&(S<.2&&(s[v+0]+=1),M<.2&&(s[v+2]+=1),C<.2&&(s[v+4]+=1))}}function d(v){o.push(v.x,v.y,v.z)}function m(v,S){const M=v*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function x(){const v=new I,S=new I,M=new I,C=new I,A=new se,T=new se,P=new se;for(let k=0,F=0;k<o.length;k+=9,F+=6){v.set(o[k+0],o[k+1],o[k+2]),S.set(o[k+3],o[k+4],o[k+5]),M.set(o[k+6],o[k+7],o[k+8]),A.set(s[F+0],s[F+1]),T.set(s[F+2],s[F+3]),P.set(s[F+4],s[F+5]),C.copy(v).add(S).add(M).divideScalar(3);const D=w(C);_(A,F+0,v,D),_(T,F+2,S,D),_(P,F+4,M,D)}}function _(v,S,M,C){C<0&&v.x===1&&(s[S]=v.x-1),M.x===0&&M.z===0&&(s[S]=C/2/Math.PI+.5)}function w(v){return Math.atan2(v.z,-v.x)}function y(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new bi(e.vertices,e.indices,e.radius,e.details)}}class Jl extends bi{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jl(e.radius,e.detail)}}const em=new I,tm=new I,gx=new I,nm=new ln;class vx extends Qe{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),o=Math.cos(js*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,f=[0,0,0],h=["a","b","c"],p=new Array(3),d={},m=[];for(let x=0;x<l;x+=3){s?(f[0]=s.getX(x),f[1]=s.getX(x+1),f[2]=s.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:_,b:w,c:y}=nm;if(_.fromBufferAttribute(a,f[0]),w.fromBufferAttribute(a,f[1]),y.fromBufferAttribute(a,f[2]),nm.getNormal(gx),p[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,p[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,p[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let v=0;v<3;v++){const S=(v+1)%3,M=p[v],C=p[S],A=nm[h[v]],T=nm[h[S]],P=`${M}_${C}`,k=`${C}_${M}`;k in d&&d[k]?(gx.dot(d[k].normal)<=o&&(m.push(A.x,A.y,A.z),m.push(T.x,T.y,T.z)),d[k]=null):P in d||(d[P]={index0:f[v],index1:f[S],normal:gx.clone()})}}for(const x in d)if(d[x]){const{index0:_,index1:w}=d[x];em.fromBufferAttribute(a,_),tm.fromBufferAttribute(a,w),m.push(em.x,em.y,em.z),m.push(tm.x,tm.y,tm.z)}this.setAttribute("position",new Ve(m,3))}}}class Rr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let s;t?s=t:s=e*r[o-1];let a=0,l=o-1,f;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),f=r[i]-s,f<0)a=i+1;else if(f>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const h=r[i],d=r[i+1]-h,m=(s-h)/d;return(i+m)/(o-1)}getTangent(e,t){const r=1e-4;let i=e-r,o=e+r;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new se:new I);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new I,i=[],o=[],s=[],a=new I,l=new qe;for(let m=0;m<=e;m++){const x=m/e;i[m]=this.getTangentAt(x,new I)}o[0]=new I,s[0]=new I;let f=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),d=Math.abs(i[0].z);h<=f&&(f=h,r.set(1,0,0)),p<=f&&(f=p,r.set(0,1,0)),d<=f&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),s[m]=s[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(Un(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(a,x))}s[m].crossVectors(i[m],o[m])}if(t===!0){let m=Math.acos(Un(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(m=-m);for(let x=1;x<=e;x++)o[x].applyMatrix4(l.makeRotationAxis(i[x],m*x)),s[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class mf extends Rr{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new se,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),d=l-this.aX,m=f-this.aY;l=d*h-m*p+this.aX,f=d*p+m*h+this.aY}return r.set(l,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}mf.prototype.isEllipseCurve=!0;class yx extends mf{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s);this.type="ArcCurve"}}yx.prototype.isArcCurve=!0;function xx(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,f){i(s,a,f*(a-o),f*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,f,h,p){let d=(s-o)/f-(a-o)/(f+h)+(a-s)/h,m=(a-s)/h-(l-s)/(h+p)+(l-a)/p;d*=h,m*=h,i(s,a,d,m)},calc:function(o){const s=o*o,a=s*o;return n+e*o+t*s+r*a}}}const rm=new I,_x=new xx,wx=new xx,Sx=new xx;class Mx extends Rr{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new I){const r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let f,h;this.closed||a>0?f=i[(a-1)%o]:(rm.subVectors(i[0],i[1]).add(i[0]),f=rm);const p=i[a%o],d=i[(a+1)%o];if(this.closed||a+2<o?h=i[(a+2)%o]:(rm.subVectors(i[o-1],i[o-2]).add(i[o-1]),h=rm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let x=Math.pow(f.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(d),m),w=Math.pow(d.distanceToSquared(h),m);_<1e-4&&(_=1),x<1e-4&&(x=_),w<1e-4&&(w=_),_x.initNonuniformCatmullRom(f.x,p.x,d.x,h.x,x,_,w),wx.initNonuniformCatmullRom(f.y,p.y,d.y,h.y,x,_,w),Sx.initNonuniformCatmullRom(f.z,p.z,d.z,h.z,x,_,w)}else this.curveType==="catmullrom"&&(_x.initCatmullRom(f.x,p.x,d.x,h.x,this.tension),wx.initCatmullRom(f.y,p.y,d.y,h.y,this.tension),Sx.initCatmullRom(f.z,p.z,d.z,h.z,this.tension));return r.set(_x.calc(l),wx.calc(l),Sx.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new I().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}Mx.prototype.isCatmullRomCurve3=!0;function zC(n,e,t,r,i){const o=(r-e)*.5,s=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+o+s)*l+(-3*t+3*r-2*o-s)*a+o*n+t}function IF(n,e){const t=1-n;return t*t*e}function DF(n,e){return 2*(1-n)*n*e}function kF(n,e){return n*n*e}function gf(n,e,t,r){return IF(n,e)+DF(n,t)+kF(n,r)}function OF(n,e){const t=1-n;return t*t*t*e}function NF(n,e){const t=1-n;return 3*t*t*n*e}function zF(n,e){return 3*(1-n)*n*n*e}function FF(n,e){return n*n*n*e}function vf(n,e,t,r,i){return OF(n,e)+NF(n,t)+zF(n,r)+FF(n,i)}class im extends Rr{constructor(e=new se,t=new se,r=new se,i=new se){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new se){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(vf(e,i.x,o.x,s.x,a.x),vf(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}im.prototype.isCubicBezierCurve=!0;class bx extends Rr{constructor(e=new I,t=new I,r=new I,i=new I){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new I){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(vf(e,i.x,o.x,s.x,a.x),vf(e,i.y,o.y,s.y,a.y),vf(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}bx.prototype.isCubicBezierCurve3=!0;class yf extends Rr{constructor(e=new se,t=new se){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new se){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new se;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}yf.prototype.isLineCurve=!0;class FC extends Rr{constructor(e=new I,t=new I){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new I){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class om extends Rr{constructor(e=new se,t=new se,r=new se){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new se){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(gf(e,i.x,o.x,s.x),gf(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}om.prototype.isQuadraticBezierCurve=!0;class sm extends Rr{constructor(e=new I,t=new I,r=new I){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new I){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(gf(e,i.x,o.x,s.x),gf(e,i.y,o.y,s.y),gf(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}sm.prototype.isQuadraticBezierCurve3=!0;class am extends Rr{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new se){const r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],f=i[s],h=i[s>i.length-2?i.length-1:s+1],p=i[s>i.length-3?i.length-1:s+2];return r.set(zC(a,l.x,f.x,h.x,p.x),zC(a,l.y,f.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new se().fromArray(i))}return this}}am.prototype.isSplineCurve=!0;var Ex=Object.freeze({__proto__:null,ArcCurve:yx,CatmullRomCurve3:Mx,CubicBezierCurve:im,CubicBezierCurve3:bx,EllipseCurve:mf,LineCurve:yf,LineCurve3:FC,QuadraticBezierCurve:om,QuadraticBezierCurve3:sm,SplineCurve:am});class BC extends Rr{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new yf(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),f=l===0?0:1-s/l;return a.getPointAt(f,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let f=0;f<l.length;f++){const h=l[f];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Ex[i.type]().fromJSON(i))}return this}}class xf extends BC{constructor(e){super();this.type="Path",this.currentPoint=new se,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new yf(this.currentPoint.clone(),new se(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new om(this.currentPoint.clone(),new se(e,t),new se(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){const a=new im(this.currentPoint.clone(),new se(e,t),new se(r,i),new se(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new am(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){const f=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+f,t+h,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){const f=new mf(e,t,r,i,o,s,a,l);if(this.curves.length>0){const p=f.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(f);const h=f.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ei extends xf{constructor(e){super(e);this.uuid=Tr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new xf().fromJSON(i))}return this}}const BF={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=UC(n,0,i,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,f,h,p,d,m;if(r&&(o=WF(n,e,o,t)),n.length>80*t){a=f=n[0],l=h=n[1];for(let x=t;x<i;x+=t)p=n[x],d=n[x+1],p<a&&(a=p),d<l&&(l=d),p>f&&(f=p),d>h&&(h=d);m=Math.max(f-a,h-l),m=m!==0?1/m:0}return _f(o,s,t,a,l,m),s}};function UC(n,e,t,r,i){let o,s;if(i===tB(n,e,t,r)>0)for(o=e;o<t;o+=r)s=GC(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=GC(o,n[o],n[o+1],s);return s&&lm(s,s.next)&&(Sf(s),s=s.next),s}function os(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(lm(t,t.next)||Qt(t.prev,t,t.next)===0)){if(Sf(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function _f(n,e,t,r,i,o,s){if(!n)return;!s&&o&&YF(n,r,i,o);let a=n,l,f;for(;n.prev!==n.next;){if(l=n.prev,f=n.next,o?HF(n,r,i,o):UF(n)){e.push(l.i/t),e.push(n.i/t),e.push(f.i/t),Sf(n),n=f.next,a=f.next;continue}if(n=f,n===a){s?s===1?(n=VF(os(n),e,t),_f(n,e,t,r,i,o,2)):s===2&&GF(n,e,t,r,i,o):_f(os(n),e,t,r,i,o,1);break}}}function UF(n){const e=n.prev,t=n,r=n.next;if(Qt(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Kl(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Qt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function HF(n,e,t,r){const i=n.prev,o=n,s=n.next;if(Qt(i,o,s)>=0)return!1;const a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,f=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,h=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,p=Tx(a,l,e,t,r),d=Tx(f,h,e,t,r);let m=n.prevZ,x=n.nextZ;for(;m&&m.z>=p&&x&&x.z<=d;){if(m!==n.prev&&m!==n.next&&Kl(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Qt(m.prev,m,m.next)>=0||(m=m.prevZ,x!==n.prev&&x!==n.next&&Kl(i.x,i.y,o.x,o.y,s.x,s.y,x.x,x.y)&&Qt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;m&&m.z>=p;){if(m!==n.prev&&m!==n.next&&Kl(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Qt(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;x&&x.z<=d;){if(x!==n.prev&&x!==n.next&&Kl(i.x,i.y,o.x,o.y,s.x,s.y,x.x,x.y)&&Qt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function VF(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!lm(i,o)&&HC(i,r,r.next,o)&&wf(i,o)&&wf(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),Sf(r),Sf(r.next),r=n=o),r=r.next}while(r!==n);return os(r)}function GF(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&JF(s,a)){let l=VC(s,a);s=os(s,s.next),l=os(l,l.next),_f(s,e,t,r,i,o),_f(l,e,t,r,i,o);return}a=a.next}s=s.next}while(s!==n)}function WF(n,e,t,r){const i=[];let o,s,a,l,f;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,f=UC(n,a,l,r,!1),f===f.next&&(f.steiner=!0),i.push(QF(f));for(i.sort($F),o=0;o<i.length;o++)jF(i[o],t),t=os(t,t.next);return t}function $F(n,e){return n.x-e.x}function jF(n,e){if(e=qF(n,e),e){const t=VC(e,n);os(e,e.next),os(t,t.next)}}function qF(n,e){let t=e;const r=n.x,i=n.y;let o=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const d=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=r&&d>o){if(o=d,d===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===o)return s;const a=s,l=s.x,f=s.y;let h=1/0,p;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&Kl(i<f?r:o,i,l,f,i<f?o:r,i,t.x,t.y)&&(p=Math.abs(i-t.y)/(r-t.x),wf(t,n)&&(p<h||p===h&&(t.x>s.x||t.x===s.x&&XF(s,t)))&&(s=t,h=p)),t=t.next;while(t!==a);return s}function XF(n,e){return Qt(n.prev,n,e.prev)<0&&Qt(e.next,n,n.next)<0}function YF(n,e,t,r){let i=n;do i.z===null&&(i.z=Tx(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ZF(i)}function ZF(n){let e,t,r,i,o,s,a,l,f=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<f&&(a++,r=r.nextZ,!!r);e++);for(l=f;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,f*=2}while(s>1);return n}function Tx(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function QF(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Kl(n,e,t,r,i,o,s,a){return(i-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(r-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(i-s)*(r-a)>=0}function JF(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!KF(n,e)&&(wf(n,e)&&wf(e,n)&&eB(n,e)&&(Qt(n.prev,n,e.prev)||Qt(n,e.prev,e))||lm(n,e)&&Qt(n.prev,n,n.next)>0&&Qt(e.prev,e,e.next)>0)}function Qt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function lm(n,e){return n.x===e.x&&n.y===e.y}function HC(n,e,t,r){const i=cm(Qt(n,e,t)),o=cm(Qt(n,e,r)),s=cm(Qt(t,r,n)),a=cm(Qt(t,r,e));return!!(i!==o&&s!==a||i===0&&um(n,t,e)||o===0&&um(n,r,e)||s===0&&um(t,n,r)||a===0&&um(t,e,r))}function um(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function cm(n){return n>0?1:n<0?-1:0}function KF(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&HC(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function wf(n,e){return Qt(n.prev,n,n.next)<0?Qt(n,e,n.next)>=0&&Qt(n,n.prev,e)>=0:Qt(n,e,n.prev)<0||Qt(n,n.next,e)<0}function eB(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function VC(n,e){const t=new Cx(n.i,n.x,n.y),r=new Cx(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function GC(n,e,t,r){const i=new Cx(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Sf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Cx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tB(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}class Ti{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ti.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];WC(e),$C(r,e);let s=e.length;t.forEach(WC);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,$C(r,t[l]);const a=BF.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function WC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function $C(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ci extends Qe{constructor(e=new Ei([new se(.5,.5),new se(-.5,.5),new se(-.5,-.5),new se(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const f=e[a];s(f)}this.setAttribute("position",new Ve(i,3)),this.setAttribute("uv",new Ve(o,2)),this.computeVertexNormals();function s(a){const l=[],f=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1;let p=t.depth!==void 0?t.depth:1,d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,x=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,v=t.UVGenerator!==void 0?t.UVGenerator:nB;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),p=t.amount);let S,M=!1,C,A,T,P;y&&(S=y.getSpacedPoints(h),M=!0,d=!1,C=y.computeFrenetFrames(h,!1),A=new I,T=new I,P=new I),d||(w=0,m=0,x=0,_=0);const k=a.extractPoints(f);let F=k.shape;const D=k.holes;if(!Ti.isClockWise(F)){F=F.reverse();for(let le=0,ve=D.length;le<ve;le++){const xe=D[le];Ti.isClockWise(xe)&&(D[le]=xe.reverse())}}const H=Ti.triangulateShape(F,D),W=F;for(let le=0,ve=D.length;le<ve;le++){const xe=D[le];F=F.concat(xe)}function $(le,ve,xe){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),ve.clone().multiplyScalar(xe).add(le)}const q=F.length,Z=H.length;function de(le,ve,xe){let De,_e,pe;const Ae=le.x-ve.x,je=le.y-ve.y,lt=xe.x-le.x,B=xe.y-le.y,O=Ae*Ae+je*je,fe=Ae*B-je*lt;if(Math.abs(fe)>Number.EPSILON){const he=Math.sqrt(O),ze=Math.sqrt(lt*lt+B*B),Ne=ve.x-je/he,X=ve.y+Ae/he,Ee=xe.x-B/ze,ge=xe.y+lt/ze,Ce=((Ee-Ne)*B-(ge-X)*lt)/(Ae*B-je*lt);De=Ne+Ae*Ce-le.x,_e=X+je*Ce-le.y;const be=De*De+_e*_e;if(be<=2)return new se(De,_e);pe=Math.sqrt(be/2)}else{let he=!1;Ae>Number.EPSILON?lt>Number.EPSILON&&(he=!0):Ae<-Number.EPSILON?lt<-Number.EPSILON&&(he=!0):Math.sign(je)===Math.sign(B)&&(he=!0),he?(De=-je,_e=Ae,pe=Math.sqrt(O)):(De=Ae,_e=je,pe=Math.sqrt(O/2))}return new se(De/pe,_e/pe)}const Me=[];for(let le=0,ve=W.length,xe=ve-1,De=le+1;le<ve;le++,xe++,De++)xe===ve&&(xe=0),De===ve&&(De=0),Me[le]=de(W[le],W[xe],W[De]);const ue=[];let V,te=Me.concat();for(let le=0,ve=D.length;le<ve;le++){const xe=D[le];V=[];for(let De=0,_e=xe.length,pe=_e-1,Ae=De+1;De<_e;De++,pe++,Ae++)pe===_e&&(pe=0),Ae===_e&&(Ae=0),V[De]=de(xe[De],xe[pe],xe[Ae]);ue.push(V),te=te.concat(V)}for(let le=0;le<w;le++){const ve=le/w,xe=m*Math.cos(ve*Math.PI/2),De=x*Math.sin(ve*Math.PI/2)+_;for(let _e=0,pe=W.length;_e<pe;_e++){const Ae=$(W[_e],Me[_e],De);We(Ae.x,Ae.y,-xe)}for(let _e=0,pe=D.length;_e<pe;_e++){const Ae=D[_e];V=ue[_e];for(let je=0,lt=Ae.length;je<lt;je++){const B=$(Ae[je],V[je],De);We(B.x,B.y,-xe)}}}const ie=x+_;for(let le=0;le<q;le++){const ve=d?$(F[le],te[le],ie):F[le];M?(T.copy(C.normals[0]).multiplyScalar(ve.x),A.copy(C.binormals[0]).multiplyScalar(ve.y),P.copy(S[0]).add(T).add(A),We(P.x,P.y,P.z)):We(ve.x,ve.y,0)}for(let le=1;le<=h;le++)for(let ve=0;ve<q;ve++){const xe=d?$(F[ve],te[ve],ie):F[ve];M?(T.copy(C.normals[le]).multiplyScalar(xe.x),A.copy(C.binormals[le]).multiplyScalar(xe.y),P.copy(S[le]).add(T).add(A),We(P.x,P.y,P.z)):We(xe.x,xe.y,p/h*le)}for(let le=w-1;le>=0;le--){const ve=le/w,xe=m*Math.cos(ve*Math.PI/2),De=x*Math.sin(ve*Math.PI/2)+_;for(let _e=0,pe=W.length;_e<pe;_e++){const Ae=$(W[_e],Me[_e],De);We(Ae.x,Ae.y,p+xe)}for(let _e=0,pe=D.length;_e<pe;_e++){const Ae=D[_e];V=ue[_e];for(let je=0,lt=Ae.length;je<lt;je++){const B=$(Ae[je],V[je],De);M?We(B.x,B.y+S[h-1].y,S[h-1].x+xe):We(B.x,B.y,p+xe)}}}ye(),Be();function ye(){const le=i.length/3;if(d){let ve=0,xe=q*ve;for(let De=0;De<Z;De++){const _e=H[De];Fe(_e[2]+xe,_e[1]+xe,_e[0]+xe)}ve=h+w*2,xe=q*ve;for(let De=0;De<Z;De++){const _e=H[De];Fe(_e[0]+xe,_e[1]+xe,_e[2]+xe)}}else{for(let ve=0;ve<Z;ve++){const xe=H[ve];Fe(xe[2],xe[1],xe[0])}for(let ve=0;ve<Z;ve++){const xe=H[ve];Fe(xe[0]+q*h,xe[1]+q*h,xe[2]+q*h)}}r.addGroup(le,i.length/3-le,0)}function Be(){const le=i.length/3;let ve=0;ce(W,ve),ve+=W.length;for(let xe=0,De=D.length;xe<De;xe++){const _e=D[xe];ce(_e,ve),ve+=_e.length}r.addGroup(le,i.length/3-le,1)}function ce(le,ve){let xe=le.length;for(;--xe>=0;){const De=xe;let _e=xe-1;_e<0&&(_e=le.length-1);for(let pe=0,Ae=h+w*2;pe<Ae;pe++){const je=q*pe,lt=q*(pe+1),B=ve+De+je,O=ve+_e+je,fe=ve+_e+lt,he=ve+De+lt;Re(B,O,fe,he)}}}function We(le,ve,xe){l.push(le),l.push(ve),l.push(xe)}function Fe(le,ve,xe){$e(le),$e(ve),$e(xe);const De=i.length/3,_e=v.generateTopUV(r,i,De-3,De-2,De-1);pt(_e[0]),pt(_e[1]),pt(_e[2])}function Re(le,ve,xe,De){$e(le),$e(ve),$e(De),$e(ve),$e(xe),$e(De);const _e=i.length/3,pe=v.generateSideWallUV(r,i,_e-6,_e-3,_e-2,_e-1);pt(pe[0]),pt(pe[1]),pt(pe[3]),pt(pe[1]),pt(pe[2]),pt(pe[3])}function $e(le){i.push(l[le*3+0]),i.push(l[le*3+1]),i.push(l[le*3+2])}function pt(le){o.push(le.x),o.push(le.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return rB(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ex[i.type]().fromJSON(i)),new Ci(r,e.options)}}const nB={generateTopUV:function(n,e,t,r,i){const o=e[t*3],s=e[t*3+1],a=e[r*3],l=e[r*3+1],f=e[i*3],h=e[i*3+1];return[new se(o,s),new se(a,l),new se(f,h)]},generateSideWallUV:function(n,e,t,r,i,o){const s=e[t*3],a=e[t*3+1],l=e[t*3+2],f=e[r*3],h=e[r*3+1],p=e[r*3+2],d=e[i*3],m=e[i*3+1],x=e[i*3+2],_=e[o*3],w=e[o*3+1],y=e[o*3+2];return Math.abs(a-h)<Math.abs(s-f)?[new se(s,1-l),new se(f,1-p),new se(d,1-x),new se(_,1-y)]:[new se(a,1-l),new se(h,1-p),new se(m,1-x),new se(w,1-y)]}};function rB(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class eu extends bi{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eu(e.radius,e.detail)}}class tu extends Qe{constructor(e=[new se(0,.5),new se(.5,0),new se(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Un(i,0,Math.PI*2);const o=[],s=[],a=[],l=1/t,f=new I,h=new se;for(let p=0;p<=t;p++){const d=r+p*l*i,m=Math.sin(d),x=Math.cos(d);for(let _=0;_<=e.length-1;_++)f.x=e[_].x*m,f.y=e[_].y,f.z=e[_].x*x,s.push(f.x,f.y,f.z),h.x=p/t,h.y=_/(e.length-1),a.push(h.x,h.y)}for(let p=0;p<t;p++)for(let d=0;d<e.length-1;d++){const m=d+p*e.length,x=m,_=m+e.length,w=m+e.length+1,y=m+1;o.push(x,_,y),o.push(_,w,y)}if(this.setIndex(o),this.setAttribute("position",new Ve(s,3)),this.setAttribute("uv",new Ve(a,2)),this.computeVertexNormals(),i===Math.PI*2){const p=this.attributes.normal.array,d=new I,m=new I,x=new I,_=t*e.length*3;for(let w=0,y=0;w<e.length;w++,y+=3)d.x=p[y+0],d.y=p[y+1],d.z=p[y+2],m.x=p[_+y+0],m.y=p[_+y+1],m.z=p[_+y+2],x.addVectors(d,m).normalize(),p[y+0]=p[_+y+0]=x.x,p[y+1]=p[_+y+1]=x.y,p[y+2]=p[_+y+2]=x.z}}static fromJSON(e){return new tu(e.points,e.segments,e.phiStart,e.phiLength)}}class aa extends bi{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aa(e.radius,e.detail)}}class nu extends Qe{constructor(e=.5,t=1,r=8,i=1,o=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],f=[],h=[];let p=e;const d=(t-e)/i,m=new I,x=new se;for(let _=0;_<=i;_++){for(let w=0;w<=r;w++){const y=o+w/r*s;m.x=p*Math.cos(y),m.y=p*Math.sin(y),l.push(m.x,m.y,m.z),f.push(0,0,1),x.x=(m.x/t+1)/2,x.y=(m.y/t+1)/2,h.push(x.x,x.y)}p+=d}for(let _=0;_<i;_++){const w=_*(r+1);for(let y=0;y<r;y++){const v=y+w,S=v,M=v+r+1,C=v+r+2,A=v+1;a.push(S,M,A),a.push(M,C,A)}}this.setIndex(a),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(f,3)),this.setAttribute("uv",new Ve(h,2))}static fromJSON(e){return new nu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class la extends Qe{constructor(e=new Ei([new se(0,.5),new se(-.5,-.5),new se(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)f(e);else for(let h=0;h<e.length;h++)f(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ve(i,3)),this.setAttribute("normal",new Ve(o,3)),this.setAttribute("uv",new Ve(s,2));function f(h){const p=i.length/3,d=h.extractPoints(t);let m=d.shape;const x=d.holes;Ti.isClockWise(m)===!1&&(m=m.reverse());for(let w=0,y=x.length;w<y;w++){const v=x[w];Ti.isClockWise(v)===!0&&(x[w]=v.reverse())}const _=Ti.triangulateShape(m,x);for(let w=0,y=x.length;w<y;w++){const v=x[w];m=m.concat(v)}for(let w=0,y=m.length;w<y;w++){const v=m[w];i.push(v.x,v.y,0),o.push(0,0,1),s.push(v.x,v.y)}for(let w=0,y=_.length;w<y;w++){const v=_[w],S=v[0]+p,M=v[1]+p,C=v[2]+p;r.push(S,M,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return iB(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=t[e.shapes[i]];r.push(s)}return new la(r,e.curveSegments)}}function iB(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class ua extends Qe{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let f=0;const h=[],p=new I,d=new I,m=[],x=[],_=[],w=[];for(let y=0;y<=r;y++){const v=[],S=y/r;let M=0;y==0&&s==0?M=.5/t:y==r&&l==Math.PI&&(M=-.5/t);for(let C=0;C<=t;C++){const A=C/t;p.x=-e*Math.cos(i+A*o)*Math.sin(s+S*a),p.y=e*Math.cos(s+S*a),p.z=e*Math.sin(i+A*o)*Math.sin(s+S*a),x.push(p.x,p.y,p.z),d.copy(p).normalize(),_.push(d.x,d.y,d.z),w.push(A+M,1-S),v.push(f++)}h.push(v)}for(let y=0;y<r;y++)for(let v=0;v<t;v++){const S=h[y][v+1],M=h[y][v],C=h[y+1][v],A=h[y+1][v+1];(y!==0||s>0)&&m.push(S,M,A),(y!==r-1||l<Math.PI)&&m.push(M,C,A)}this.setIndex(m),this.setAttribute("position",new Ve(x,3)),this.setAttribute("normal",new Ve(_,3)),this.setAttribute("uv",new Ve(w,2))}static fromJSON(e){return new ua(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ru extends bi{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ru(e.radius,e.detail)}}class iu extends Qe{constructor(e=1,t=.4,r=8,i=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],f=[],h=new I,p=new I,d=new I;for(let m=0;m<=r;m++)for(let x=0;x<=i;x++){const _=x/i*o,w=m/r*Math.PI*2;p.x=(e+t*Math.cos(w))*Math.cos(_),p.y=(e+t*Math.cos(w))*Math.sin(_),p.z=t*Math.sin(w),a.push(p.x,p.y,p.z),h.x=e*Math.cos(_),h.y=e*Math.sin(_),d.subVectors(p,h).normalize(),l.push(d.x,d.y,d.z),f.push(x/i),f.push(m/r)}for(let m=1;m<=r;m++)for(let x=1;x<=i;x++){const _=(i+1)*m+x-1,w=(i+1)*(m-1)+x-1,y=(i+1)*(m-1)+x,v=(i+1)*m+x;s.push(_,w,v),s.push(w,y,v)}this.setIndex(s),this.setAttribute("position",new Ve(a,3)),this.setAttribute("normal",new Ve(l,3)),this.setAttribute("uv",new Ve(f,2))}static fromJSON(e){return new iu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ou extends Qe{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],f=[],h=[],p=new I,d=new I,m=new I,x=new I,_=new I,w=new I,y=new I;for(let S=0;S<=r;++S){const M=S/r*o*Math.PI*2;v(M,o,s,e,m),v(M+.01,o,s,e,x),w.subVectors(x,m),y.addVectors(x,m),_.crossVectors(w,y),y.crossVectors(_,w),_.normalize(),y.normalize();for(let C=0;C<=i;++C){const A=C/i*Math.PI*2,T=-t*Math.cos(A),P=t*Math.sin(A);p.x=m.x+(T*y.x+P*_.x),p.y=m.y+(T*y.y+P*_.y),p.z=m.z+(T*y.z+P*_.z),l.push(p.x,p.y,p.z),d.subVectors(p,m).normalize(),f.push(d.x,d.y,d.z),h.push(S/r),h.push(C/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),A=(i+1)*S+(M-1),T=(i+1)*S+M,P=(i+1)*(S-1)+M;a.push(C,A,P),a.push(A,T,P)}this.setIndex(a),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(f,3)),this.setAttribute("uv",new Ve(h,2));function v(S,M,C,A,T){const P=Math.cos(S),k=Math.sin(S),F=C/M*S,D=Math.cos(F);T.x=A*(2+D)*.5*P,T.y=A*(2+D)*k*.5,T.z=A*Math.sin(F)*.5}}static fromJSON(e){return new ou(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class su extends Qe{constructor(e=new sm(new I(-1,-1,0),new I(-1,1,0),new I(1,1,0)),t=64,r=1,i=8,o=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new I,l=new I,f=new se;let h=new I;const p=[],d=[],m=[],x=[];_(),this.setIndex(x),this.setAttribute("position",new Ve(p,3)),this.setAttribute("normal",new Ve(d,3)),this.setAttribute("uv",new Ve(m,2));function _(){for(let S=0;S<t;S++)w(S);w(o===!1?t:0),v(),y()}function w(S){h=e.getPointAt(S/t,h);const M=s.normals[S],C=s.binormals[S];for(let A=0;A<=i;A++){const T=A/i*Math.PI*2,P=Math.sin(T),k=-Math.cos(T);l.x=k*M.x+P*C.x,l.y=k*M.y+P*C.y,l.z=k*M.z+P*C.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,p.push(a.x,a.y,a.z)}}function y(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),A=(i+1)*S+(M-1),T=(i+1)*S+M,P=(i+1)*(S-1)+M;x.push(C,A,P),x.push(A,T,P)}}function v(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)f.x=S/t,f.y=M/i,m.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new su(new Ex[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ax extends Qe{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new I,o=new I;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,h=l.length;f<h;++f){const p=l[f],d=p.start,m=p.count;for(let x=d,_=d+m;x<_;x+=3)for(let w=0;w<3;w++){const y=a.getX(x+w),v=a.getX(x+(w+1)%3);i.fromBufferAttribute(s,y),o.fromBufferAttribute(s,v),jC(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let f=0;f<3;f++){const h=3*a+f,p=3*a+(f+1)%3;i.fromBufferAttribute(s,h),o.fromBufferAttribute(s,p),jC(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Ve(t,3))}}}function jC(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var qC=Object.freeze({__proto__:null,BoxGeometry:io,BoxBufferGeometry:io,CircleGeometry:Zl,CircleBufferGeometry:Zl,ConeGeometry:Ql,ConeBufferGeometry:Ql,CylinderGeometry:is,CylinderBufferGeometry:is,DodecahedronGeometry:Jl,DodecahedronBufferGeometry:Jl,EdgesGeometry:vx,ExtrudeGeometry:Ci,ExtrudeBufferGeometry:Ci,IcosahedronGeometry:eu,IcosahedronBufferGeometry:eu,LatheGeometry:tu,LatheBufferGeometry:tu,OctahedronGeometry:aa,OctahedronBufferGeometry:aa,PlaneGeometry:Js,PlaneBufferGeometry:Js,PolyhedronGeometry:bi,PolyhedronBufferGeometry:bi,RingGeometry:nu,RingBufferGeometry:nu,ShapeGeometry:la,ShapeBufferGeometry:la,SphereGeometry:ua,SphereBufferGeometry:ua,TetrahedronGeometry:ru,TetrahedronBufferGeometry:ru,TorusGeometry:iu,TorusBufferGeometry:iu,TorusKnotGeometry:ou,TorusKnotBufferGeometry:ou,TubeGeometry:su,TubeBufferGeometry:su,WireframeGeometry:Ax});class Rx extends Tn{constructor(e){super();this.type="ShadowMaterial",this.color=new Le(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Rx.prototype.isShadowMaterial=!0;class fm extends Tn{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Le(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$s,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}fm.prototype.isMeshStandardMaterial=!0;class Px extends fm{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new se(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Un(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Le(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Le(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Le(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Px.prototype.isMeshPhysicalMaterial=!0;class Lx extends Tn{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Le(16777215),this.specular=new Le(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$s,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Lx.prototype.isMeshPhongMaterial=!0;class Ix extends Tn{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Le(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$s,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Ix.prototype.isMeshToonMaterial=!0;class Dx extends Tn{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$s,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Dx.prototype.isMeshNormalMaterial=!0;class kx extends Tn{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}kx.prototype.isMeshLambertMaterial=!0;class Ox extends Tn{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Le(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$s,this.normalScale=new se(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}Ox.prototype.isMeshMatcapMaterial=!0;class Nx extends An{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Nx.prototype.isLineDashedMaterial=!0;var oB=Object.freeze({__proto__:null,ShadowMaterial:Rx,SpriteMaterial:Hp,RawShaderMaterial:Hl,ShaderMaterial:ir,PointsMaterial:sa,MeshPhysicalMaterial:Px,MeshStandardMaterial:fm,MeshPhongMaterial:Lx,MeshToonMaterial:Ix,MeshNormalMaterial:Dx,MeshLambertMaterial:kx,MeshDepthMaterial:Fp,MeshDistanceMaterial:Bp,MeshBasicMaterial:wi,MeshMatcapMaterial:Ox,LineDashedMaterial:Nx,LineBasicMaterial:An,Material:Tn});const $t={arraySlice:function(n,e,t){return $t.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,o){return n[i]-n[o]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const f=o.tracks[l],h=f.getValueSize(),p=[],d=[];for(let m=0;m<f.times.length;++m){const x=f.times[m]*i;if(!(x<t||x>=r)){p.push(f.times[m]);for(let _=0;_<h;++_)d.push(f.values[m*h+_])}}p.length!==0&&(f.times=$t.convertArray(p,f.times.constructor),f.values=$t.convertArray(d,f.values.constructor),s.push(f))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const f=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(f===void 0)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let d=0;const m=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const x=a.times.length-1;let _;if(o<=a.times[0]){const y=h,v=p-h;_=$t.arraySlice(a.values,y,v)}else if(o>=a.times[x]){const y=x*p+h,v=y+p-h;_=$t.arraySlice(a.values,y,v)}else{const y=a.createInterpolant(),v=h,S=p-h;y.evaluate(o),_=$t.arraySlice(y.resultBuffer,v,S)}l==="quaternion"&&new wn().fromArray(_).normalize().conjugate().toArray(_);const w=f.times.length;for(let y=0;y<w;++y){const v=y*m+d;if(l==="quaternion")wn.multiplyQuaternionsFlat(f.values,v,_,0,f.values,v);else{const S=m-d*2;for(let M=0;M<S;++M)f.values[v+M]-=_[M]}}}return n.blendMode=Ey,n}};class so{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}so.prototype.beforeStart_=so.prototype.copySampleValue_;so.prototype.afterEnd_=so.prototype.copySampleValue_;class XC extends so{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vs,endingEnd:Vs}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case Gs:o=e,a=2*t-r;break;case Yc:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Gs:s=e,l=2*r-t;break;case Yc:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const f=(r-t)*.5,h=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(l-r),this._offsetPrev=o*h,this._offsetNext=s*h}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,h=this._offsetPrev,p=this._offsetNext,d=this._weightPrev,m=this._weightNext,x=(r-t)/(i-t),_=x*x,w=_*x,y=-d*w+2*d*_-d*x,v=(1+d)*w+(-1.5-2*d)*_+(-.5+d)*x+1,S=(-1-m)*w+(1.5+m)*_+.5*x,M=m*w-m*_;for(let C=0;C!==a;++C)o[C]=y*s[h+C]+v*s[f+C]+S*s[l+C]+M*s[p+C];return o}}class zx extends so{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,h=(r-t)/(i-t),p=1-h;for(let d=0;d!==a;++d)o[d]=s[f+d]*p+s[l+d]*h;return o}}class YC extends so{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ii{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$t.convertArray(t,this.TimeBufferType),this.values=$t.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:$t.convertArray(e.times,Array),values:$t.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new YC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new XC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case qc:t=this.InterpolantFactoryMethodDiscrete;break;case Xc:t=this.InterpolantFactoryMethodLinear;break;case op:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return qc;case this.InterpolantFactoryMethodLinear:return Xc;case this.InterpolantFactoryMethodSmooth:return op}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=$t.arraySlice(r,o,s),this.values=$t.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&$t.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const f=i[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=$t.arraySlice(this.times),t=$t.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===op,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const f=e[a],h=e[a+1];if(f!==h&&(a!==1||f!==e[0]))if(i)l=!0;else{const p=a*r,d=p-r,m=p+r;for(let x=0;x!==r;++x){const _=t[p+x];if(_!==t[d+x]||_!==t[m+x]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const p=a*r,d=s*r;for(let m=0;m!==r;++m)t[d+m]=t[p+m]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,f=0;f!==r;++f)t[l+f]=t[a+f];++s}return s!==e.length?(this.times=$t.arraySlice(e,0,s),this.values=$t.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=$t.arraySlice(this.times,0),t=$t.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ii.prototype.TimeBufferType=Float32Array;ii.prototype.ValueBufferType=Float32Array;ii.prototype.DefaultInterpolation=Xc;class ca extends ii{}ca.prototype.ValueTypeName="bool";ca.prototype.ValueBufferType=Array;ca.prototype.DefaultInterpolation=qc;ca.prototype.InterpolantFactoryMethodLinear=void 0;ca.prototype.InterpolantFactoryMethodSmooth=void 0;class Fx extends ii{}Fx.prototype.ValueTypeName="color";class Mf extends ii{}Mf.prototype.ValueTypeName="number";class ZC extends so{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let f=e*a;for(let h=f+a;f!==h;f+=4)wn.slerpFlat(o,0,s,f-a,s,f,l);return o}}class au extends ii{InterpolantFactoryMethodLinear(e){return new ZC(this.times,this.values,this.getValueSize(),e)}}au.prototype.ValueTypeName="quaternion";au.prototype.DefaultInterpolation=Xc;au.prototype.InterpolantFactoryMethodSmooth=void 0;class fa extends ii{}fa.prototype.ValueTypeName="string";fa.prototype.ValueBufferType=Array;fa.prototype.DefaultInterpolation=qc;fa.prototype.InterpolantFactoryMethodLinear=void 0;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class bf extends ii{}bf.prototype.ValueTypeName="vector";class Ef{constructor(e,t=-1,r,i=sp){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Tr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(aB(r[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(ii.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],f=[];l.push((a+o-1)%o,a,(a+1)%o),f.push(0,1,0);const h=$t.getKeyframeOrder(l);l=$t.sortedArray(l,1,h),f=$t.sortedArray(f,1,h),!i&&l[0]===0&&(l.push(o),f.push(f[0])),s.push(new Mf(".morphTargetInfluences["+t[a].name+"]",l,f).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const f=e[a],h=f.name.match(o);if(h&&h.length>1){const p=h[1];let d=i[p];d||(i[p]=d=[]),d.push(f)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,d,m,x,_){if(m.length!==0){const w=[],y=[];$t.flattenJSON(m,w,y,x),w.length!==0&&_.push(new p(d,w,y))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const f=e.hierarchy||[];for(let p=0;p<f.length;p++){const d=f[p].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let x;for(x=0;x<d.length;x++)if(d[x].morphTargets)for(let _=0;_<d[x].morphTargets.length;_++)m[d[x].morphTargets[_]]=-1;for(const _ in m){const w=[],y=[];for(let v=0;v!==d[x].morphTargets.length;++v){const S=d[x];w.push(S.time),y.push(S.morphTarget===_?1:0)}i.push(new Mf(".morphTargetInfluence["+_+"]",w,y))}l=m.length*(s||1)}else{const m=".bones["+t[p].name+"]";r(bf,m+".position",d,"pos",i),r(au,m+".quaternion",d,"rot",i),r(bf,m+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sB(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mf;case"vector":case"vector2":case"vector3":case"vector4":return bf;case"color":return Fx;case"quaternion":return au;case"bool":case"boolean":return ca;case"string":return fa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function aB(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sB(n.type);if(n.times===void 0){const t=[],r=[];$t.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const da={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Bx{constructor(e,t,r){const i=this;let o=!1,s=0,a=0,l;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(h){a++,o===!1&&i.onStart!==void 0&&i.onStart(h,s,a),o=!0},this.itemEnd=function(h){s++,i.onProgress!==void 0&&i.onProgress(h,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return f.push(h,p),this},this.removeHandler=function(h){const p=f.indexOf(h);return p!==-1&&f.splice(p,2),this},this.getHandler=function(h){for(let p=0,d=f.length;p<d;p+=2){const m=f[p],x=f[p+1];if(m.global&&(m.lastIndex=0),m.test(h))return x}return null}}}const QC=new Bx;class sr{constructor(e){this.manager=e!==void 0?e:QC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ao={};class Ai extends sr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=da.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(ao[e]!==void 0){ao[e].push({onLoad:t,onProgress:r,onError:i});return}ao[e]=[],ao[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(s).then(a=>{if(a.status===200||a.status===0){a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=ao[e],f=a.body.getReader(),h=a.headers.get("Content-Length"),p=h?parseInt(h):0,d=p!==0;let m=0;return new ReadableStream({start(x){_();function _(){f.read().then(({done:w,value:y})=>{if(w)x.close();else{m+=y.byteLength;const v=new ProgressEvent("progress",{lengthComputable:d,loaded:m,total:p});for(let S=0,M=l.length;S<M;S++){const C=l[S];C.onProgress&&C.onProgress(v)}x.enqueue(y),_()}})}}})}else throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(f=>new DOMParser().parseFromString(f,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{da.add(e,a);const l=ao[e];delete ao[e];for(let f=0,h=l.length;f<h;f++){const p=l[f];p.onLoad&&p.onLoad(a)}this.manager.itemEnd(e)}).catch(a=>{const l=ao[e];delete ao[e];for(let f=0,h=l.length;f<h;f++){const p=l[f];p.onError&&p.onError(a)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lB extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new Ai(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Ef.parse(e[r]);t.push(i)}return t}}class uB extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=[],a=new mx,l=new Ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let f=0;function h(p){l.load(e[p],function(d){const m=o.parse(d,!0);s[p]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},f+=1,f===6&&(m.mipmapCount===1&&(a.minFilter=Zt),a.image=s,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let p=0,d=e.length;p<d;++p)h(p);else l.load(e,function(p){const d=o.parse(p,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let x=0;x<m;x++){s[x]={mipmaps:[]};for(let _=0;_<d.mipmapCount;_++)s[x].mipmaps.push(d.mipmaps[x*d.mipmapCount+_]),s[x].format=d.format,s[x].width=d.width,s[x].height=d.height}a.image=s}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Zt),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Tf extends sr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=da.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=fp("img");function l(){h(),da.add(e,this),t&&t(this),o.manager.itemEnd(e)}function f(p){h(),i&&i(p),o.manager.itemError(e),o.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",f,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class JC extends sr{constructor(e){super(e)}load(e,t,r,i){const o=new Bl,s=new Tf(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(f){s.load(e[f],function(h){o.images[f]=h,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let f=0;f<e.length;++f)l(f);return o}}class KC extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new ia,a=new Ai(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){const f=o.parse(l);!f||(f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:Fn,s.wrapT=f.wrapT!==void 0?f.wrapT:Fn,s.magFilter=f.magFilter!==void 0?f.magFilter:Zt,s.minFilter=f.minFilter!==void 0?f.minFilter:Zt,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(s.encoding=f.encoding),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=Fs),f.mipmapCount===1&&(s.minFilter=Zt),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f))},r,i),s}}class e2 extends sr{constructor(e){super(e)}load(e,t,r,i){const o=new mn,s=new Tf(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class oi extends xt{constructor(e,t=1){super();this.type="Light",this.color=new Le(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}oi.prototype.isLight=!0;class Ux extends oi{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.groundColor=new Le(t)}copy(e){return oi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Ux.prototype.isHemisphereLight=!0;const t2=new qe,n2=new I,r2=new I;class Hx{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new se(512,512),this.map=null,this.mapPass=null,this.matrix=new qe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rf,this._frameExtents=new se(1,1),this._viewportCount=1,this._viewports=[new Lt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;n2.setFromMatrixPosition(e.matrixWorld),t.position.copy(n2),r2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r2),t.updateMatrixWorld(),t2.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t2),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class i2 extends Hx{constructor(){super(new Wt(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,r=Zc*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}i2.prototype.isSpotLightShadow=!0;class Vx extends oi{constructor(e,t,r=0,i=Math.PI/3,o=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.target=new xt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new i2}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Vx.prototype.isSpotLight=!0;const o2=new qe,Cf=new I,Gx=new I;class s2 extends Hx{constructor(){super(new Wt(90,1,.5,500));this._frameExtents=new se(4,2),this._viewportCount=6,this._viewports=[new Lt(2,1,1,1),new Lt(0,1,1,1),new Lt(3,1,1,1),new Lt(1,1,1,1),new Lt(3,0,1,1),new Lt(1,0,1,1)],this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)],this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Cf.setFromMatrixPosition(e.matrixWorld),r.position.copy(Cf),Gx.copy(r.position),Gx.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Gx),r.updateMatrixWorld(),i.makeTranslation(-Cf.x,-Cf.y,-Cf.z),o2.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o2)}}s2.prototype.isPointLightShadow=!0;class Wx extends oi{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new s2}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Wx.prototype.isPointLight=!0;class a2 extends Hx{constructor(){super(new ri(-5,5,5,-5,.5,500))}}a2.prototype.isDirectionalLightShadow=!0;class $x extends oi{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.target=new xt,this.shadow=new a2}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}$x.prototype.isDirectionalLight=!0;class jx extends oi{constructor(e,t){super(e,t);this.type="AmbientLight"}}jx.prototype.isAmbientLight=!0;class qx extends oi{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}qx.prototype.isRectAreaLight=!0;class Xx{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new I)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}Xx.prototype.isSphericalHarmonics3=!0;class Af extends oi{constructor(e=new Xx,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Af.prototype.isLightProbe=!0;class l2 extends sr{constructor(e){super(e);this.textures={}}load(e,t,r,i){const o=this,s=new Ai(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=new oB[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Le().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Le().setHex(s.value);break;case"v2":i.uniforms[o].value=new se().fromArray(s.value);break;case"v3":i.uniforms[o].value=new I().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Lt().fromArray(s.value);break;case"m3":i.uniforms[o].value=new _n().fromArray(s.value);break;case"m4":i.uniforms[o].value=new qe().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new se().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new se().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class dm{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Yx extends Qe{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Yx.prototype.isInstancedBufferGeometry=!0;class u2 extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new Ai(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,x){if(t[x]!==void 0)return t[x];const w=m.interleavedBuffers[x],y=o(m,w.buffer),v=bl(w.type,y),S=new ra(v,w.stride);return S.uuid=w.uuid,t[x]=S,S}function o(m,x){if(r[x]!==void 0)return r[x];const w=m.arrayBuffers[x],y=new Uint32Array(w).buffer;return r[x]=y,y}const s=e.isInstancedBufferGeometry?new Yx:new Qe,a=e.data.index;if(a!==void 0){const m=bl(a.type,a.array);s.setIndex(new Mt(m,1))}const l=e.data.attributes;for(const m in l){const x=l[m];let _;if(x.isInterleavedBufferAttribute){const w=i(e.data,x.data);_=new rs(w,x.itemSize,x.offset,x.normalized)}else{const w=bl(x.type,x.array),y=x.isInstancedBufferAttribute?oa:Mt;_=new y(w,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),x.usage!==void 0&&_.setUsage(x.usage),x.updateRange!==void 0&&(_.updateRange.offset=x.updateRange.offset,_.updateRange.count=x.updateRange.count),s.setAttribute(m,_)}const f=e.data.morphAttributes;if(f)for(const m in f){const x=f[m],_=[];for(let w=0,y=x.length;w<y;w++){const v=x[w];let S;if(v.isInterleavedBufferAttribute){const M=i(e.data,v.data);S=new rs(M,v.itemSize,v.offset,v.normalized)}else{const M=bl(v.type,v.array);S=new Mt(M,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),_.push(S)}s.morphAttributes[m]=_}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let m=0,x=p.length;m!==x;++m){const _=p[m];s.addGroup(_.start,_.count,_.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new I;d.center!==void 0&&m.fromArray(d.center),s.boundingSphere=new Ki(m,d.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class cB extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=this.path===""?dm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Ai(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let f=null;try{f=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=f.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(f,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?dm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ai(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,o,l,a,r),h=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,h),t!==void 0){let p=!1;for(const d in s)if(s[d]instanceof HTMLImageElement){p=!0;break}p===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,t),f=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,f),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Ei().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new Yp().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new u2;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in qC?a=qC[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new l2;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l.type==="MultiMaterial"){const f=[];for(let h=0;h<l.materials.length;h++){const p=l.materials[h];r[p.uuid]===void 0&&(r[p.uuid]=o.parse(p)),f.push(r[p.uuid])}i[l.uuid]=f}else r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Ef.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const f=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:r.resourcePath+f;return s(h)}else return l.data?{data:bl(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Bx(t);o=new Tf(l),o.setCrossOrigin(this.crossOrigin);for(let f=0,h=e.length;f<h;f++){const p=e[f],d=p.url;if(Array.isArray(d)){i[p.uuid]=[];for(let m=0,x=d.length;m<x;m++){const _=d[m],w=a(_);w!==null&&(w instanceof HTMLImageElement?i[p.uuid].push(w):i[p.uuid].push(new ia(w.data,w.width,w.height)))}}else{const m=a(p.url);m!==null&&(i[p.uuid]=m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:bl(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Tf(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],f=l.url;if(Array.isArray(f)){r[l.uuid]=[];for(let h=0,p=f.length;h<p;h++){const d=f[h],m=await o(d);m!==null&&(m instanceof HTMLImageElement?r[l.uuid].push(m):r[l.uuid].push(new ia(m.data,m.width,m.height)))}}else{const h=await o(l.url);h!==null&&(r[l.uuid]=h)}}}return r}parseTextures(e,t){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l;const f=t[a.image];Array.isArray(f)?(l=new Bl(f),f.length===6&&(l.needsUpdate=!0)):(f&&f.data?l=new ia(f.data,f.width,f.height):l=new mn(f),f&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=r(a.mapping,fB)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=r(a.wrap[0],c2),l.wrapT=r(a.wrap[1],c2)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=r(a.minFilter,f2)),a.magFilter!==void 0&&(l.magFilter=r(a.magFilter,f2)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,r,i,o){let s;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let x=0,_=d.length;x<_;x++){const w=d[x];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),m.push(r[w])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function f(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let h,p;switch(e.type){case"Scene":s=new uf,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Le(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new lf(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new af(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Wt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ri(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new jx(e.color,e.intensity);break;case"DirectionalLight":s=new $x(e.color,e.intensity);break;case"PointLight":s=new Wx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new qx(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Vx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Ux(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Af().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),p=l(e.material),s=new qp(h,p),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),p=l(e.material),s=new un(h,p);break;case"InstancedMesh":h=a(e.geometry),p=l(e.material);const d=e.count,m=e.instanceMatrix,x=e.instanceColor;s=new fx(h,p,d),s.instanceMatrix=new oa(new Float32Array(m.array),16),x!==void 0&&(s.instanceColor=new oa(new Float32Array(x.array),x.itemSize));break;case"LOD":s=new _C;break;case"Line":s=new oo(a(e.geometry),l(e.material));break;case"LineLoop":s=new hx(a(e.geometry),l(e.material));break;case"LineSegments":s=new _r(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new pf(a(e.geometry),l(e.material));break;case"Sprite":s=new Wp(l(e.material));break;case"Group":s=new na;break;case"Bone":s=new Xp;break;default:s=new xt}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)s.add(this.parseObject(d[m],t,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const x=d[m];s.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const x=d[m],_=s.getObjectByProperty("uuid",x.object);_!==void 0&&s.addLevel(_,x.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const fB={UVMapping:np,CubeReflectionMapping:Ns,CubeRefractionMapping:zs,EquirectangularReflectionMapping:Hc,EquirectangularRefractionMapping:Vc,CubeUVReflectionMapping:xl,CubeUVRefractionMapping:Gc},c2={RepeatWrapping:Wc,ClampToEdgeWrapping:Fn,MirroredRepeatWrapping:$c},f2={NearestFilter:pn,NearestMipmapNearestFilter:rp,NearestMipmapLinearFilter:ip,LinearFilter:Zt,LinearMipmapNearestFilter:py,LinearMipmapLinearFilter:Fs};class d2 extends sr{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=da.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){da.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}d2.prototype.isImageBitmapLoader=!0;let hm;const Zx={getContext:function(){return hm===void 0&&(hm=new(window.AudioContext||window.webkitAudioContext)),hm},setContext:function(n){hm=n}};class h2 extends sr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new Ai(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);Zx.getContext().decodeAudioData(l,function(h){t(h)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class p2 extends Af{constructor(e,t,r=1){super(void 0,r);const i=new Le().set(e),o=new Le().set(t),s=new I(i.r,i.g,i.b),a=new I(o.r,o.g,o.b),l=Math.sqrt(Math.PI),f=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(f)}}p2.prototype.isHemisphereLightProbe=!0;class m2 extends Af{constructor(e,t=1){super(void 0,t);const r=new Le().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}m2.prototype.isAmbientLightProbe=!0;const g2=new qe,v2=new qe,ha=new qe;class dB{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ha.copy(e.projectionMatrix);const i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(js*t.fov*.5)/t.zoom;let a,l;v2.elements[12]=-i,g2.elements[12]=i,a=-s*t.aspect+o,l=s*t.aspect+o,ha.elements[0]=2*t.near/(l-a),ha.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ha),a=-s*t.aspect-o,l=s*t.aspect-o,ha.elements[0]=2*t.near/(l-a),ha.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ha)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(v2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(g2)}}class pm{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=y2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=y2();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function y2(){return(typeof performance=="undefined"?Date:performance).now()}const pa=new I,x2=new wn,hB=new I,ma=new I;class pB extends xt{constructor(){super();this.type="AudioListener",this.context=Zx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pm}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pa,x2,hB),ma.set(0,0,-1).applyQuaternion(x2),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pa.x,i),t.positionY.linearRampToValueAtTime(pa.y,i),t.positionZ.linearRampToValueAtTime(pa.z,i),t.forwardX.linearRampToValueAtTime(ma.x,i),t.forwardY.linearRampToValueAtTime(ma.y,i),t.forwardZ.linearRampToValueAtTime(ma.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(pa.x,pa.y,pa.z),t.setOrientation(ma.x,ma.y,ma.z,r.x,r.y,r.z)}}class Qx extends xt{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ga=new I,_2=new wn,mB=new I,va=new I;class gB extends Qx{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ga,_2,mB),va.set(0,0,1).applyQuaternion(_2);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ga.x,r),t.positionY.linearRampToValueAtTime(ga.y,r),t.positionZ.linearRampToValueAtTime(ga.z,r),t.orientationX.linearRampToValueAtTime(va.x,r),t.orientationY.linearRampToValueAtTime(va.y,r),t.orientationZ.linearRampToValueAtTime(va.z,r)}else t.setPosition(ga.x,ga.y,ga.z),t.setOrientation(va.x,va.y,va.z)}}class w2{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class S2{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,f=t+t;l!==f;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){wn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const s=this._workIndex*o;wn.multiplyQuaternionsFlat(e,s,e,t,e,r),wn.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[r+s]*i}}}const Jx="\\[\\]\\.:\\/",vB=new RegExp("["+Jx+"]","g"),Kx="[^"+Jx+"]",yB="[^"+Jx.replace("\\.","")+"]",xB=/((?:WC+[\/:])*)/.source.replace("WC",Kx),_B=/(WCOD+)?/.source.replace("WCOD",yB),wB=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Kx),SB=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Kx),MB=new RegExp("^"+xB+_B+wB+SB+"$"),bB=["material","materials","bones"];class EB{constructor(e,t,r){const i=r||Tt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Tt{constructor(e,t,r){this.path=t,this.parsedPath=r||Tt.parseTrackName(t),this.node=Tt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Tt.Composite(e,t,r):new Tt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(vB,"")}static parseTrackName(e){const t=MB.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);bB.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=Tt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let f=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===f){f=h;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[i];if(s===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tt.Composite=EB;Tt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tt.prototype.GetterByBindingType=[Tt.prototype._getValue_direct,Tt.prototype._getValue_array,Tt.prototype._getValue_arrayElement,Tt.prototype._getValue_toArray];Tt.prototype.SetterByBindingTypeAndVersioning=[[Tt.prototype._setValue_direct,Tt.prototype._setValue_direct_setNeedsUpdate,Tt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_array,Tt.prototype._setValue_array_setNeedsUpdate,Tt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_arrayElement,Tt.prototype._setValue_arrayElement_setNeedsUpdate,Tt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_fromArray,Tt.prototype._setValue_fromArray_setNeedsUpdate,Tt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class M2{constructor(){this.uuid=Tr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,f=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const d=arguments[h],m=d.uuid;let x=t[m];if(x===void 0){x=l++,t[m]=x,e.push(d);for(let _=0,w=s;_!==w;++_)o[_].push(new Tt(d,r[_],i[_]))}else if(x<f){a=e[x];const _=--f,w=e[_];t[w.uuid]=x,e[x]=w,t[m]=_,e[_]=d;for(let y=0,v=s;y!==v;++y){const S=o[y],M=S[_];let C=S[x];S[x]=M,C===void 0&&(C=new Tt(d,r[y],i[y])),S[_]=C}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],f=l.uuid,h=t[f];if(h!==void 0&&h>=o){const p=o++,d=e[p];t[d.uuid]=h,e[h]=d,t[f]=p,e[p]=l;for(let m=0,x=i;m!==x;++m){const _=r[m],w=_[p],y=_[h];_[h]=w,_[p]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],h=f.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<o){const d=--o,m=e[d],x=--s,_=e[x];t[m.uuid]=p,e[p]=m,t[_.uuid]=d,e[d]=_,e.pop();for(let w=0,y=i;w!==y;++w){const v=r[w],S=v[d],M=v[x];v[p]=S,v[d]=M,v.pop()}}else{const d=--s,m=e[d];d>0&&(t[m.uuid]=p),e[p]=m,e.pop();for(let x=0,_=i;x!==_;++x){const w=r[x];w[p]=w[d],w.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,f=l.length,h=this.nCachedObjects_,p=new Array(f);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(p);for(let d=h,m=l.length;d!==m;++d){const x=l[d];p[d]=new Tt(x,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],f=e[a];t[f]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}M2.prototype.isAnimationObjectGroup=!0;class TB{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:Vs,endingEnd:Vs};for(let f=0;f!==s;++f){const h=o[f].createInterpolant(null);a[f]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=o,l[1]=o+r,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case Ey:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),f[h].accumulateAdditive(a);break;case sp:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(s),f[h].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===rT;if(e===0)return o===-1?i:s&&(o&1)==1?t-i:i;if(r===tT){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)==1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Gs,i.endingEnd=Gs):(e?i.endingStart=this.zeroSlopeAtStart?Gs:Vs:i.endingStart=Yc,t?i.endingEnd=this.zeroSlopeAtEnd?Gs:Vs:i.endingEnd=Yc)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}}class b2 extends Qi{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,f=this._bindingsByRootAndName;let h=f[l];h===void 0&&(h={},f[l]=h);for(let p=0;p!==o;++p){const d=i[p],m=d.name;let x=h[m];if(x!==void 0)s[p]=x;else{if(x=s[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,m));continue}const _=t&&t._propertyBindings[p].binding.parsedPath;x=new S2(Tt.create(r,m,_),d.ValueTypeName,d.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,m),s[p]=x}a[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++==0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,f=l[l.length-1],h=e._byClipCacheIndex;f._byClipCacheIndex=h,l[h]=f,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete p[d],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount==0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],f=e._cacheIndex;l._cacheIndex=f,t[f]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new zx(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let s=typeof e=="string"?Ef.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let f=null;if(r===void 0&&(s!==null?r=s.blendMode:r=sp),l!==void 0){const p=l.actionByRoot[o];if(p!==void 0&&p.blendMode===r)return p;f=l.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const h=new TB(this,s,t,r);return this._bindAction(h,f),this._addInactiveAction(h,a,o),h}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?Ef.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==r;++f)t[f]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let f=0;f!==l;++f)a[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const f=s[a];this._deactivateAction(f);const h=f._cacheIndex,p=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(f)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}b2.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class mm{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new mm(this.value.clone===void 0?this.value:this.value.clone())}}class E2 extends ra{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}E2.prototype.isInstancedInterleavedBuffer=!0;class T2{constructor(e,t,r,i,o){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}T2.prototype.isGLBufferAttribute=!0;class C2{constructor(e,t,r=0,i=1/0){this.ray=new Zo(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Pl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return e_(e,this,r,t),r.sort(A2),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)e_(e[i],this,r,t);return r.sort(A2),r}}function A2(n,e){return n.distance-e.distance}function e_(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let o=0,s=i.length;o<s;o++)e_(i[o],e,t,!0)}}class t_{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Un(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class CB{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const R2=new se;class lu{constructor(e=new se(1/0,1/0),t=new se(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=R2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return R2.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}lu.prototype.isBox2=!0;const P2=new I,gm=new I;class L2{constructor(e=new I,t=new I){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){P2.subVectors(e,this.start),gm.subVectors(this.end,this.start);const r=gm.dot(gm);let o=gm.dot(P2)/r;return t&&(o=Un(o,0,1)),o}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const I2=new I;class AB extends xt{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Qe,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const f=s/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(f),Math.sin(f),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Ve(i,3));const o=new An({fog:!1,toneMapped:!1});this.cone=new _r(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),I2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(I2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ss=new I,vm=new qe,n_=new qe;class D2 extends _r{constructor(e){const t=k2(e),r=new Qe,i=[],o=[],s=new Le(0,0,1),a=new Le(0,1,0);for(let f=0;f<t.length;f++){const h=t[f];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Ve(i,3)),r.setAttribute("color",new Ve(o,3));const l=new An({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");n_.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(vm.multiplyMatrices(n_,a.matrixWorld),ss.setFromMatrixPosition(vm),i.setXYZ(s,ss.x,ss.y,ss.z),vm.multiplyMatrices(n_,a.parent.matrixWorld),ss.setFromMatrixPosition(vm),i.setXYZ(s+1,ss.x,ss.y,ss.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function k2(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,k2(n.children[t]));return e}class RB extends un{constructor(e,t,r){const i=new ua(t,4,2),o=new wi({wireframe:!0,fog:!1,toneMapped:!1});super(i,o);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const PB=new I,O2=new Le,N2=new Le;class LB extends xt{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new aa(t);i.rotateY(Math.PI*.5),this.material=new wi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Mt(s,3)),this.add(new un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");O2.copy(this.light.color),N2.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const o=r<i/2?O2:N2;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(PB.setFromMatrixPosition(this.light.matrixWorld).negate())}}class z2 extends _r{constructor(e=10,t=10,r=4473924,i=8947848){r=new Le(r),i=new Le(i);const o=t/2,s=e/t,a=e/2,l=[],f=[];for(let d=0,m=0,x=-a;d<=t;d++,x+=s){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const _=d===o?r:i;_.toArray(f,m),m+=3,_.toArray(f,m),m+=3,_.toArray(f,m),m+=3,_.toArray(f,m),m+=3}const h=new Qe;h.setAttribute("position",new Ve(l,3)),h.setAttribute("color",new Ve(f,3));const p=new An({vertexColors:!0,toneMapped:!1});super(h,p);this.type="GridHelper"}}class IB extends _r{constructor(e=10,t=16,r=8,i=64,o=4473924,s=8947848){o=new Le(o),s=new Le(s);const a=[],l=[];for(let p=0;p<=t;p++){const d=p/t*(Math.PI*2),m=Math.sin(d)*e,x=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,x);const _=p&1?o:s;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let p=0;p<=r;p++){const d=p&1?o:s,m=e-e/r*p;for(let x=0;x<i;x++){let _=x/i*(Math.PI*2),w=Math.sin(_)*m,y=Math.cos(_)*m;a.push(w,0,y),l.push(d.r,d.g,d.b),_=(x+1)/i*(Math.PI*2),w=Math.sin(_)*m,y=Math.cos(_)*m,a.push(w,0,y),l.push(d.r,d.g,d.b)}}const f=new Qe;f.setAttribute("position",new Ve(a,3)),f.setAttribute("color",new Ve(l,3));const h=new An({vertexColors:!0,toneMapped:!1});super(f,h);this.type="PolarGridHelper"}}const F2=new I,ym=new I,B2=new I;class DB extends xt{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Qe;i.setAttribute("position",new Ve([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new An({fog:!1,toneMapped:!1});this.lightPlane=new oo(i,o),this.add(this.lightPlane),i=new Qe,i.setAttribute("position",new Ve([0,0,0,0,0,1],3)),this.targetLine=new oo(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){F2.setFromMatrixPosition(this.light.matrixWorld),ym.setFromMatrixPosition(this.light.target.matrixWorld),B2.subVectors(ym,F2),this.lightPlane.lookAt(ym),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ym),this.targetLine.scale.z=B2.length()}}const xm=new I,rn=new Qs;class kB extends _r{constructor(e){const t=new Qe,r=new An({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={},a=new Le(16755200),l=new Le(16711680),f=new Le(43775),h=new Le(16777215),p=new Le(3355443);d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",l),d("p","n2",l),d("p","n3",l),d("p","n4",l),d("u1","u2",f),d("u2","u3",f),d("u3","u1",f),d("c","t",h),d("p","c",p),d("cn1","cn2",p),d("cn3","cn4",p),d("cf1","cf2",p),d("cf3","cf4",p);function d(x,_,w){m(x,w),m(_,w)}function m(x,_){i.push(0,0,0),o.push(_.r,_.g,_.b),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}t.setAttribute("position",new Ve(i,3)),t.setAttribute("color",new Ve(o,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;rn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),fn("c",t,e,rn,0,0,-1),fn("t",t,e,rn,0,0,1),fn("n1",t,e,rn,-r,-i,-1),fn("n2",t,e,rn,r,-i,-1),fn("n3",t,e,rn,-r,i,-1),fn("n4",t,e,rn,r,i,-1),fn("f1",t,e,rn,-r,-i,1),fn("f2",t,e,rn,r,-i,1),fn("f3",t,e,rn,-r,i,1),fn("f4",t,e,rn,r,i,1),fn("u1",t,e,rn,r*.7,i*1.1,-1),fn("u2",t,e,rn,-r*.7,i*1.1,-1),fn("u3",t,e,rn,0,i*2,-1),fn("cf1",t,e,rn,-r,0,1),fn("cf2",t,e,rn,r,0,1),fn("cf3",t,e,rn,0,-i,1),fn("cf4",t,e,rn,0,i,1),fn("cn1",t,e,rn,-r,0,-1),fn("cn2",t,e,rn,r,0,-1),fn("cn3",t,e,rn,0,-i,-1),fn("cn4",t,e,rn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function fn(n,e,t,r,i,o,s){xm.set(i,o,s).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let f=0,h=a.length;f<h;f++)l.setXYZ(a[f],xm.x,xm.y,xm.z)}}const _m=new rr;class U2 extends _r{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Qe;o.setIndex(new Mt(r,1)),o.setAttribute("position",new Mt(i,3));super(o,new An({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_m.setFromObject(this.object),_m.isEmpty())return;const t=_m.min,r=_m.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=t.x,o[4]=r.y,o[5]=r.z,o[6]=t.x,o[7]=t.y,o[8]=r.z,o[9]=r.x,o[10]=t.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=t.z,o[15]=t.x,o[16]=r.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=r.x,o[22]=t.y,o[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return _r.prototype.copy.call(this,e),this.object=e.object,this}}class OB extends _r{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Qe;o.setIndex(new Mt(r,1)),o.setAttribute("position",new Ve(i,3));super(o,new An({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class NB extends oo{constructor(e,t=1,r=16776960){const i=r,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Qe;s.setAttribute("position",new Ve(o,3)),s.computeBoundingSphere();super(s,new An({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Qe;l.setAttribute("position",new Ve(a,3)),l.computeBoundingSphere(),this.add(new un(l,new wi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?an:Ds,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const H2=new I;let wm,r_;class zB extends xt{constructor(e=new I(0,0,1),t=new I(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super();this.type="ArrowHelper",wm===void 0&&(wm=new Qe,wm.setAttribute("position",new Ve([0,0,0,0,1,0],3)),r_=new is(0,.5,1,5,1),r_.translate(0,-.5,0)),this.position.copy(t),this.line=new oo(wm,new An({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new un(r_,new wi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{H2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(H2,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class V2 extends _r{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Qe;i.setAttribute("position",new Ve(t,3)),i.setAttribute("color",new Ve(r,3));const o=new An({vertexColors:!0,toneMapped:!1});super(i,o);this.type="AxesHelper"}setColors(e,t,r){const i=new Le,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FB{constructor(){this.type="ShapePath",this.color=new Le,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new xf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,s){return this.currentPath.bezierCurveTo(e,t,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(v){const S=[];for(let M=0,C=v.length;M<C;M++){const A=v[M],T=new Ei;T.curves=A.curves,S.push(T)}return S}function i(v,S){const M=S.length;let C=!1;for(let A=M-1,T=0;T<M;A=T++){let P=S[A],k=S[T],F=k.x-P.x,D=k.y-P.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(P=S[T],F=-F,k=S[A],D=-D),v.y<P.y||v.y>k.y)continue;if(v.y===P.y){if(v.x===P.x)return!0}else{const U=D*(v.x-P.x)-F*(v.y-P.y);if(U===0)return!0;if(U<0)continue;C=!C}}else{if(v.y!==P.y)continue;if(k.x<=v.x&&v.x<=P.x||P.x<=v.x&&v.x<=k.x)return!0}}return C}const o=Ti.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return r(s);let a,l,f;const h=[];if(s.length===1)return l=s[0],f=new Ei,f.curves=l.curves,h.push(f),h;let p=!o(s[0].getPoints());p=e?!p:p;const d=[],m=[];let x=[],_=0,w;m[_]=void 0,x[_]=[];for(let v=0,S=s.length;v<S;v++)l=s[v],w=l.getPoints(),a=o(w),a=e?!a:a,a?(!p&&m[_]&&_++,m[_]={s:new Ei,p:w},m[_].s.curves=l.curves,p&&_++,x[_]=[]):x[_].push({h:l,p:w[0]});if(!m[0])return r(s);if(m.length>1){let v=!1;const S=[];for(let M=0,C=m.length;M<C;M++)d[M]=[];for(let M=0,C=m.length;M<C;M++){const A=x[M];for(let T=0;T<A.length;T++){const P=A[T];let k=!0;for(let F=0;F<m.length;F++)i(P.p,m[F].p)&&(M!==F&&S.push({froms:M,tos:F,hole:T}),k?(k=!1,d[F].push(P)):v=!0);k&&d[M].push(P)}}S.length>0&&(v||(x=d))}let y;for(let v=0,S=m.length;v<S;v++){f=m[v].s,h.push(f),y=x[v];for(let M=0,C=y.length;M<C;M++)f.holes.push(y[M].h)}return h}}const G2=new Float32Array(1),BB=new Int32Array(G2.buffer);class UB{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),G2[0]=e;const t=BB[0];let r=t>>16&32768,i=t>>12&2047;const o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(o==255?0:1)&&t&8388607,r):o<113?(i|=2048,r|=(i>>114-o)+(i>>113-o&1),r):(r|=o-112<<10|i>>1,r+=i&1,r)}}const HB=0,VB=1,GB=0,WB=1,$B=2;function jB(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function qB(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function XB(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new pf(n,e)}function YB(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Wp(n)}function ZB(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new pf(n,e)}function QB(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new sa(n)}function JB(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new sa(n)}function KB(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new sa(n)}function e4(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new I(n,e,t)}function t4(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Mt(n,e).setUsage(Sl)}function n4(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ET(n,e)}function r4(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new TT(n,e)}function i4(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new CT(n,e)}function o4(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new AT(n,e)}function s4(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new wp(n,e)}function a4(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new RT(n,e)}function l4(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Sp(n,e)}function u4(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ve(n,e)}function c4(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new LT(n,e)}Rr.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Rr.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};xf.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function f4(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new V2(n)}function d4(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new U2(n,e)}function h4(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new _r(new vx(n.geometry),new An({color:e!==void 0?e:16777215}))}z2.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};D2.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function p4(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new _r(new Ax(n.geometry),new An({color:e!==void 0?e:16777215}))}sr.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),dm.extractUrlBase(n)};sr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function m4(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ai(n)}function g4(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new KC(n)}lu.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};lu.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};lu.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};lu.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};rr.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};rr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};rr.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};rr.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};rr.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Ki.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};rf.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};L2.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};_n.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};_n.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};_n.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};_n.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};_n.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};_n.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};qe.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};qe.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};qe.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new I().setFromMatrixColumn(this,3)};qe.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};qe.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};qe.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};qe.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};qe.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};qe.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};qe.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};qe.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};qe.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};qe.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};qe.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};qe.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};qe.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};qe.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};qe.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)};qe.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Si.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};wn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};wn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Zo.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Zo.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Zo.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};ln.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};ln.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};ln.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};ln.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};ln.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};ln.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ln.getBarycoord(n,e,t,r,i)};ln.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ln.getNormal(n,e,t,r)};Ei.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Ei.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ci(this,n)};Ei.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new la(this,n)};se.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};se.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};se.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};I.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};I.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};I.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};I.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};I.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};I.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};I.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};I.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};I.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Lt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Lt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};xt.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};xt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};xt.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};xt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};xt.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(xt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});un.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(un.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),iT},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});qp.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Wt.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(oi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Mt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Sl},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Sl)}}});Mt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Sl:wl),this};Mt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Mt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Qe.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Qe.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Mt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Qe.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Qe.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Qe.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Qe.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Qe.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Qe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});ra.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Sl:wl),this};ra.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ci.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ci.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ci.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};uf.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};mm.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Tn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Le}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===sy}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ir.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Pt.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Pt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Pt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Pt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Pt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Pt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Pt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Pt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Pt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Pt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Pt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Pt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Pt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Pt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Pt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Pt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Pt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Pt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Pt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Pt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Pt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Pt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Pt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Pt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Pt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Pt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ws:Yn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(hC.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function v4(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Ip(n,t)}Object.defineProperties(Hn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});Qx.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new h2().load(n,function(r){e.setBuffer(r)}),this};w2.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Lp.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Lp.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};qs.crossOrigin=void 0;qs.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new e2;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};qs.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new JC;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};qs.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};qs.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function y4(){console.error("THREE.CanvasRenderer has been removed")}function x4(){console.error("THREE.JSONLoader has been removed.")}const _4={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function w4(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function S4(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Qe}function M4(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Qe}function b4(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function E4(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function T4(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Kh}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Kh);var C4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:hy,AddEquation:Os,AddOperation:iE,AdditiveAnimationBlendMode:Ey,AdditiveBlending:ep,AlphaFormat:mE,AlwaysDepth:Qb,AlwaysStencilFunc:lT,AmbientLight:jx,AmbientLightProbe:m2,AnimationClip:Ef,AnimationLoader:lB,AnimationMixer:b2,AnimationObjectGroup:M2,AnimationUtils:$t,ArcCurve:yx,ArrayCamera:lx,ArrowHelper:zB,Audio:Qx,AudioAnalyser:w2,AudioContext:Zx,AudioListener:pB,AudioLoader:h2,AxesHelper:V2,AxisHelper:f4,BackSide:an,BasicDepthPacking:oT,BasicShadowMap:fD,BinaryTextureLoader:g4,Bone:Xp,BooleanKeyframeTrack:ca,BoundingBoxHelper:d4,Box2:lu,Box3:rr,Box3Helper:OB,BoxBufferGeometry:io,BoxGeometry:io,BoxHelper:U2,BufferAttribute:Mt,BufferGeometry:Qe,BufferGeometryLoader:u2,ByteType:uE,Cache:da,Camera:Qs,CameraHelper:kB,CanvasRenderer:y4,CanvasTexture:NC,CatmullRomCurve3:Mx,CineonToneMapping:aE,CircleBufferGeometry:Zl,CircleGeometry:Zl,ClampToEdgeWrapping:Fn,Clock:pm,Color:Le,ColorKeyframeTrack:Fx,CompressedTexture:mx,CompressedTextureLoader:uB,ConeBufferGeometry:Ql,ConeGeometry:Ql,CubeCamera:Lp,CubeReflectionMapping:Ns,CubeRefractionMapping:zs,CubeTexture:Bl,CubeTextureLoader:JC,CubeUVReflectionMapping:xl,CubeUVRefractionMapping:Gc,CubicBezierCurve:im,CubicBezierCurve3:bx,CubicInterpolant:XC,CullFaceBack:ry,CullFaceFront:zb,CullFaceFrontBack:cD,CullFaceNone:Nb,Curve:Rr,CurvePath:BC,CustomBlending:Fb,CustomToneMapping:lE,CylinderBufferGeometry:is,CylinderGeometry:is,Cylindrical:CB,DataTexture:ia,DataTexture2DArray:Np,DataTexture3D:ox,DataTextureLoader:KC,DataUtils:UB,DecrementStencilOp:SD,DecrementWrapStencilOp:bD,DefaultLoadingManager:QC,DepthFormat:jo,DepthStencilFormat:Hs,DepthTexture:Up,DirectionalLight:$x,DirectionalLightHelper:DB,DiscreteInterpolant:YC,DodecahedronBufferGeometry:Jl,DodecahedronGeometry:Jl,DoubleSide:ks,DstAlphaFactor:$b,DstColorFactor:qb,DynamicBufferAttribute:t4,DynamicCopyUsage:FD,DynamicDrawUsage:Sl,DynamicReadUsage:OD,EdgesGeometry:vx,EdgesHelper:h4,EllipseCurve:mf,EqualDepth:Kb,EqualStencilFunc:AD,EquirectangularReflectionMapping:Hc,EquirectangularRefractionMapping:Vc,Euler:Zs,EventDispatcher:Qi,ExtrudeBufferGeometry:Ci,ExtrudeGeometry:Ci,FaceColors:WB,FileLoader:Ai,FlatShading:sy,Float16BufferAttribute:PT,Float32Attribute:u4,Float32BufferAttribute:Ve,Float64Attribute:c4,Float64BufferAttribute:LT,FloatType:_i,Fog:lf,FogExp2:af,Font:E4,FontLoader:b4,FrontSide:Ds,Frustum:rf,GLBufferAttribute:T2,GLSL1:UD,GLSL3:Ry,GammaEncoding:ap,GreaterDepth:tE,GreaterEqualDepth:eE,GreaterEqualStencilFunc:ID,GreaterStencilFunc:PD,GridHelper:z2,Group:na,HalfFloatType:Bs,HemisphereLight:Ux,HemisphereLightHelper:LB,HemisphereLightProbe:p2,IcosahedronBufferGeometry:eu,IcosahedronGeometry:eu,ImageBitmapLoader:d2,ImageLoader:Tf,ImageUtils:qs,ImmediateRenderObject:T4,IncrementStencilOp:wD,IncrementWrapStencilOp:MD,InstancedBufferAttribute:oa,InstancedBufferGeometry:Yx,InstancedInterleavedBuffer:E2,InstancedMesh:fx,Int16Attribute:o4,Int16BufferAttribute:AT,Int32Attribute:a4,Int32BufferAttribute:RT,Int8Attribute:n4,Int8BufferAttribute:ET,IntType:fE,InterleavedBuffer:ra,InterleavedBufferAttribute:rs,Interpolant:so,InterpolateDiscrete:qc,InterpolateLinear:Xc,InterpolateSmooth:op,InvertStencilOp:ED,JSONLoader:x4,KeepStencilOp:up,KeyframeTrack:ii,LOD:_C,LatheBufferGeometry:tu,LatheGeometry:tu,Layers:Pl,LensFlare:w4,LessDepth:Jb,LessEqualDepth:tp,LessEqualStencilFunc:RD,LessStencilFunc:CD,Light:oi,LightProbe:Af,Line:oo,Line3:L2,LineBasicMaterial:An,LineCurve:yf,LineCurve3:FC,LineDashedMaterial:Nx,LineLoop:hx,LinePieces:VB,LineSegments:_r,LineStrip:HB,LinearEncoding:Yn,LinearFilter:Zt,LinearInterpolant:zx,LinearMipMapLinearFilter:gD,LinearMipMapNearestFilter:mD,LinearMipmapLinearFilter:Fs,LinearMipmapNearestFilter:py,LinearToneMapping:oE,Loader:sr,LoaderUtils:dm,LoadingManager:Bx,LoopOnce:tT,LoopPingPong:rT,LoopRepeat:nT,LuminanceAlphaFormat:vE,LuminanceFormat:gE,MOUSE:Ls,Material:Tn,MaterialLoader:l2,Math:Ml,MathUtils:Ml,Matrix3:_n,Matrix4:qe,MaxEquation:cy,Mesh:un,MeshBasicMaterial:wi,MeshDepthMaterial:Fp,MeshDistanceMaterial:Bp,MeshFaceMaterial:jB,MeshLambertMaterial:kx,MeshMatcapMaterial:Ox,MeshNormalMaterial:Dx,MeshPhongMaterial:Lx,MeshPhysicalMaterial:Px,MeshStandardMaterial:fm,MeshToonMaterial:Ix,MinEquation:uy,MirroredRepeatWrapping:$c,MixOperation:rE,MultiMaterial:qB,MultiplyBlending:ly,MultiplyOperation:Uc,NearestFilter:pn,NearestMipMapLinearFilter:pD,NearestMipMapNearestFilter:hD,NearestMipmapLinearFilter:ip,NearestMipmapNearestFilter:rp,NeverDepth:Zb,NeverStencilFunc:TD,NoBlending:Xi,NoColors:GB,NoToneMapping:Yi,NormalAnimationBlendMode:sp,NormalBlending:yl,NotEqualDepth:nE,NotEqualStencilFunc:LD,NumberKeyframeTrack:Mf,Object3D:xt,ObjectLoader:cB,ObjectSpaceNormalMap:aT,OctahedronBufferGeometry:aa,OctahedronGeometry:aa,OneFactor:Vb,OneMinusDstAlphaFactor:jb,OneMinusDstColorFactor:Xb,OneMinusSrcAlphaFactor:dy,OneMinusSrcColorFactor:Wb,OrthographicCamera:ri,PCFShadowMap:iy,PCFSoftShadowMap:oy,PMREMGenerator:BT,ParametricGeometry:S4,Particle:YB,ParticleBasicMaterial:JB,ParticleSystem:ZB,ParticleSystemMaterial:KB,Path:xf,PerspectiveCamera:Wt,Plane:Si,PlaneBufferGeometry:Js,PlaneGeometry:Js,PlaneHelper:NB,PointCloud:XB,PointCloudMaterial:QB,PointLight:Wx,PointLightHelper:RB,Points:pf,PointsMaterial:sa,PolarGridHelper:IB,PolyhedronBufferGeometry:bi,PolyhedronGeometry:bi,PositionalAudio:gB,PropertyBinding:Tt,PropertyMixer:S2,QuadraticBezierCurve:om,QuadraticBezierCurve3:sm,Quaternion:wn,QuaternionKeyframeTrack:au,QuaternionLinearInterpolant:ZC,REVISION:Kh,RGBADepthPacking:sT,RGBAFormat:xn,RGBAIntegerFormat:bE,RGBA_ASTC_10x10_Format:zE,RGBA_ASTC_10x5_Format:kE,RGBA_ASTC_10x6_Format:OE,RGBA_ASTC_10x8_Format:NE,RGBA_ASTC_12x10_Format:FE,RGBA_ASTC_12x12_Format:BE,RGBA_ASTC_4x4_Format:TE,RGBA_ASTC_5x4_Format:CE,RGBA_ASTC_5x5_Format:AE,RGBA_ASTC_6x5_Format:RE,RGBA_ASTC_6x6_Format:PE,RGBA_ASTC_8x5_Format:LE,RGBA_ASTC_8x6_Format:IE,RGBA_ASTC_8x8_Format:DE,RGBA_BPTC_Format:UE,RGBA_ETC2_EAC_Format:by,RGBA_PVRTC_2BPPV1_Format:Sy,RGBA_PVRTC_4BPPV1_Format:wy,RGBA_S3TC_DXT1_Format:gy,RGBA_S3TC_DXT3_Format:vy,RGBA_S3TC_DXT5_Format:yy,RGBDEncoding:Ay,RGBEEncoding:lp,RGBEFormat:yE,RGBFormat:$o,RGBIntegerFormat:ME,RGBM16Encoding:Cy,RGBM7Encoding:Ty,RGB_ETC1_Format:EE,RGB_ETC2_Format:My,RGB_PVRTC_2BPPV1_Format:_y,RGB_PVRTC_4BPPV1_Format:xy,RGB_S3TC_DXT1_Format:my,RGFormat:wE,RGIntegerFormat:SE,RawShaderMaterial:Hl,Ray:Zo,Raycaster:C2,RectAreaLight:qx,RedFormat:xE,RedIntegerFormat:_E,ReinhardToneMapping:sE,RepeatWrapping:Wc,ReplaceStencilOp:_D,ReverseSubtractEquation:Ub,RingBufferGeometry:nu,RingGeometry:nu,SRGB8_ALPHA8_ASTC_10x10_Format:JE,SRGB8_ALPHA8_ASTC_10x5_Format:YE,SRGB8_ALPHA8_ASTC_10x6_Format:ZE,SRGB8_ALPHA8_ASTC_10x8_Format:QE,SRGB8_ALPHA8_ASTC_12x10_Format:KE,SRGB8_ALPHA8_ASTC_12x12_Format:eT,SRGB8_ALPHA8_ASTC_4x4_Format:HE,SRGB8_ALPHA8_ASTC_5x4_Format:VE,SRGB8_ALPHA8_ASTC_5x5_Format:GE,SRGB8_ALPHA8_ASTC_6x5_Format:WE,SRGB8_ALPHA8_ASTC_6x6_Format:$E,SRGB8_ALPHA8_ASTC_8x5_Format:jE,SRGB8_ALPHA8_ASTC_8x6_Format:qE,SRGB8_ALPHA8_ASTC_8x8_Format:XE,Scene:uf,SceneUtils:_4,ShaderChunk:yt,ShaderLib:ni,ShaderMaterial:ir,ShadowMaterial:Rx,Shape:Ei,ShapeBufferGeometry:la,ShapeGeometry:la,ShapePath:FB,ShapeUtils:Ti,ShortType:cE,Skeleton:Yp,SkeletonHelper:D2,SkinnedMesh:qp,SmoothShading:dD,Sphere:Ki,SphereBufferGeometry:ua,SphereGeometry:ua,Spherical:t_,SphericalHarmonics3:Xx,SplineCurve:am,SpotLight:Vx,SpotLightHelper:AB,Sprite:Wp,SpriteMaterial:Hp,SrcAlphaFactor:fy,SrcAlphaSaturateFactor:Yb,SrcColorFactor:Gb,StaticCopyUsage:zD,StaticDrawUsage:wl,StaticReadUsage:kD,StereoCamera:dB,StreamCopyUsage:BD,StreamDrawUsage:DD,StreamReadUsage:ND,StringKeyframeTrack:fa,SubtractEquation:Bb,SubtractiveBlending:ay,TOUCH:Is,TangentSpaceNormalMap:$s,TetrahedronBufferGeometry:ru,TetrahedronGeometry:ru,TextGeometry:M4,Texture:mn,TextureLoader:e2,TorusBufferGeometry:iu,TorusGeometry:iu,TorusKnotBufferGeometry:ou,TorusKnotGeometry:ou,Triangle:ln,TriangleFanDrawMode:yD,TriangleStripDrawMode:vD,TrianglesDrawMode:iT,TubeBufferGeometry:su,TubeGeometry:su,UVMapping:np,Uint16Attribute:s4,Uint16BufferAttribute:wp,Uint32Attribute:l4,Uint32BufferAttribute:Sp,Uint8Attribute:r4,Uint8BufferAttribute:TT,Uint8ClampedAttribute:i4,Uint8ClampedBufferAttribute:CT,Uniform:mm,UniformsLib:Ie,UniformsUtils:nf,UnsignedByteType:Zi,UnsignedInt248Type:Us,UnsignedIntType:jc,UnsignedShort4444Type:dE,UnsignedShort5551Type:hE,UnsignedShort565Type:pE,UnsignedShortType:_l,VSMShadowMap:vl,Vector2:se,Vector3:I,Vector4:Lt,VectorKeyframeTrack:bf,Vertex:e4,VertexColors:$B,VideoTexture:OC,WebGL1Renderer:mC,WebGLCubeRenderTarget:Ip,WebGLMultipleRenderTargets:hT,WebGLMultisampleRenderTarget:dp,WebGLRenderTarget:Hn,WebGLRenderTargetCube:v4,WebGLRenderer:Pt,WebGLUtils:pC,WireframeGeometry:Ax,WireframeHelper:p4,WrapAroundEnding:Yc,XHRLoader:m4,ZeroCurvatureEnding:Vs,ZeroFactor:Hb,ZeroSlopeEnding:Gs,ZeroStencilOp:xD,sRGBEncoding:Ws});function A4(n){let e;const t=new Set,r=(f,h)=>{const p=typeof f=="function"?f(e):f;if(p!==e){const d=e;e=h?p:Object.assign({},e,p),t.forEach(m=>m(e,d))}},i=()=>e,o=(f,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=h(e);function m(){const x=h(e);if(!p(d,x)){const _=d;f(d=x,_)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(f,h,p)=>h||p?o(f,h,p):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(r,i,l),l}const R4=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),W2=R4?L.exports.useEffect:L.exports.useLayoutEffect;function $2(n){const e=typeof n=="function"?A4(n):n,t=(r=e.getState,i=Object.is)=>{const[,o]=L.exports.useReducer(w=>w+1,0),s=e.getState(),a=L.exports.useRef(s),l=L.exports.useRef(r),f=L.exports.useRef(i),h=L.exports.useRef(!1),p=L.exports.useRef();p.current===void 0&&(p.current=r(s));let d,m=!1;(a.current!==s||l.current!==r||f.current!==i||h.current)&&(d=r(s),m=!i(p.current,d)),W2(()=>{m&&(p.current=d),a.current=s,l.current=r,f.current=i,h.current=!1});const x=L.exports.useRef(s);W2(()=>{const w=()=>{try{const v=e.getState(),S=l.current(v);f.current(p.current,S)||(a.current=v,p.current=S,o())}catch{h.current=!0,o()}},y=e.subscribe(w);return e.getState()!==x.current&&w(),y},[]);const _=m?d:p.current;return L.exports.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var j2={exports:{}},q2={exports:{}};/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(t){var r={},i=Zg,o=L.exports,s=Va.exports;function a(u){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=60103,h=60106,p=60107,d=60108,m=60114,x=60109,_=60110,w=60112,y=60113,v=60120,S=60115,M=60116,C=60121,A=60129,T=60130,P=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;f=k("react.element"),h=k("react.portal"),p=k("react.fragment"),d=k("react.strict_mode"),m=k("react.profiler"),x=k("react.provider"),_=k("react.context"),w=k("react.forward_ref"),y=k("react.suspense"),v=k("react.suspense_list"),S=k("react.memo"),M=k("react.lazy"),C=k("react.block"),k("react.scope"),A=k("react.debug_trace_mode"),T=k("react.offscreen"),P=k("react.legacy_hidden")}var F=typeof Symbol=="function"&&Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=F&&u[F]||u["@@iterator"],typeof u=="function"?u:null)}function U(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case p:return"Fragment";case h:return"Portal";case m:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case _:return(u.displayName||"Context")+".Consumer";case x:return(u._context.displayName||"Context")+".Provider";case w:var c=u.render;return c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case S:return U(u.type);case C:return U(u._render);case M:c=u._payload,u=u._init;try{return U(u(c))}catch{}}return null}function H(u){var c=u,g=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,(c.flags&1026)!=0&&(g=c.return),u=c.return;while(u)}return c.tag===3?g:null}function W(u){if(H(u)!==u)throw Error(a(188))}function $(u){var c=u.alternate;if(!c){if(c=H(u),c===null)throw Error(a(188));return c!==u?null:u}for(var g=u,b=c;;){var E=g.return;if(E===null)break;var R=E.alternate;if(R===null){if(b=E.return,b!==null){g=b;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===g)return W(E),u;if(R===b)return W(E),c;R=R.sibling}throw Error(a(188))}if(g.return!==b.return)g=E,b=R;else{for(var z=!1,j=E.child;j;){if(j===g){z=!0,g=E,b=R;break}if(j===b){z=!0,b=E,g=R;break}j=j.sibling}if(!z){for(j=R.child;j;){if(j===g){z=!0,g=R,b=E;break}if(j===b){z=!0,b=R,g=E;break}j=j.sibling}if(!z)throw Error(a(189))}}if(g.alternate!==b)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?u:c}function q(u){if(u=$(u),!u)return null;for(var c=u;;){if(c.tag===5||c.tag===6)return c;if(c.child)c.child.return=c,c=c.child;else{if(c===u)break;for(;!c.sibling;){if(!c.return||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}}return null}function Z(u){if(u=$(u),!u)return null;for(var c=u;;){if(c.tag===5||c.tag===6)return c;if(c.child&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===u)break;for(;!c.sibling;){if(!c.return||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}}return null}function de(u,c){for(var g=u.alternate;c!==null;){if(c===u||c===g)return!0;c=c.return}return!1}var Me=t.getPublicInstance,ue=t.getRootHostContext,V=t.getChildHostContext,te=t.prepareForCommit,ie=t.resetAfterCommit,ye=t.createInstance,Be=t.appendInitialChild,ce=t.finalizeInitialChildren,We=t.prepareUpdate,Fe=t.shouldSetTextContent,Re=t.createTextInstance,$e=t.scheduleTimeout,pt=t.cancelTimeout,le=t.noTimeout,ve=t.isPrimaryRenderer,xe=t.supportsMutation,De=t.supportsPersistence,_e=t.supportsHydration,pe=t.getInstanceFromNode,Ae=t.makeOpaqueHydratingObject,je=t.makeClientId,lt=t.beforeActiveInstanceBlur,B=t.afterActiveInstanceBlur,O=t.preparePortalMount,fe=t.supportsTestSelectors,he=t.findFiberRoot,ze=t.getBoundingRect,Ne=t.getTextContent,X=t.isHiddenSubtree,Ee=t.matchAccessibilityRole,ge=t.setFocusIfFocusable,Ce=t.setupIntersectionObserver,be=t.appendChild,G=t.appendChildToContainer,K=t.commitTextUpdate,we=t.commitMount,Xe=t.commitUpdate,Je=t.insertBefore,jt=t.insertInContainerBefore,Mn=t.removeChild,ba=t.removeChildFromContainer,Kn=t.resetTextContent,fr=t.hideInstance,Li=t.hideTextInstance,Yf=t.unhideInstance,Zf=t.unhideTextInstance,wu=t.clearContainer,Ea=t.cloneInstance,Qf=t.createContainerChildSet,Ta=t.appendChildToContainerChildSet,Jf=t.finalizeContainerChildren,Kf=t.replaceContainerChildren,ed=t.cloneHiddenInstance,td=t.cloneHiddenTextInstance,N=t.canHydrateInstance,J=t.canHydrateTextInstance,oe=t.isSuspenseInstancePending,ee=t.isSuspenseInstanceFallback,me=t.getNextHydratableSibling,rt=t.getFirstHydratableChild,Ke=t.hydrateInstance,dt=t.hydrateTextInstance,it=t.getNextHydratableInstanceAfterSuspenseInstance,_t=t.commitHydratedContainer,ht=t.commitHydratedSuspenseInstance,vt;function It(u){if(vt===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);vt=c&&c[1]||""}return`
`+vt+u}var qr=!1;function wt(u,c){if(!u||qr)return"";qr=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var b=re}Reflect.construct(u,[],c)}else{try{c.call()}catch(re){b=re}u.call(c.prototype)}else{try{throw Error()}catch(re){b=re}u()}}catch(re){if(re&&b&&typeof re.stack=="string"){for(var E=re.stack.split(`
`),R=b.stack.split(`
`),z=E.length-1,j=R.length-1;1<=z&&0<=j&&E[z]!==R[j];)j--;for(;1<=z&&0<=j;z--,j--)if(E[z]!==R[j]){if(z!==1||j!==1)do if(z--,j--,0>j||E[z]!==R[j])return`
`+E[z].replace(" at new "," at ");while(1<=z&&0<=j);break}}}finally{qr=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?It(u):""}var Ii=[],Ct=-1;function Vn(u){return{current:u}}function bt(u){0>Ct||(u.current=Ii[Ct],Ii[Ct]=null,Ct--)}function At(u,c){Ct++,Ii[Ct]=u.current,u.current=c}var Ln={},mt=Vn(Ln),dn=Vn(!1),gn=Ln;function Ca(u,c){var g=u.type.contextTypes;if(!g)return Ln;var b=u.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===c)return b.__reactInternalMemoizedMaskedChildContext;var E={},R;for(R in g)E[R]=c[R];return b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=c,u.__reactInternalMemoizedMaskedChildContext=E),E}function dr(u){return u=u.childContextTypes,u!=null}function nd(){bt(dn),bt(mt)}function n1(u,c,g){if(mt.current!==Ln)throw Error(a(168));At(mt,c),At(dn,g)}function r1(u,c,g){var b=u.stateNode;if(u=c.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var E in b)if(!(E in u))throw Error(a(108,U(c)||"Unknown",E));return i({},g,b)}function rd(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ln,gn=mt.current,At(mt,u),At(dn,dn.current),!0}function i1(u,c,g){var b=u.stateNode;if(!b)throw Error(a(169));g?(u=r1(u,c,gn),b.__reactInternalMemoizedMergedChildContext=u,bt(dn),bt(mt),At(mt,u)):bt(dn),At(dn,g)}var Zm=null,cs=null,hP=s.unstable_now;hP();var id=0,Ft=8;function fs(u){if((1&u)!=0)return Ft=15,1;if((2&u)!=0)return Ft=14,2;if((4&u)!=0)return Ft=13,4;var c=24&u;return c!==0?(Ft=12,c):(u&32)!=0?(Ft=11,32):(c=192&u,c!==0?(Ft=10,c):(u&256)!=0?(Ft=9,256):(c=3584&u,c!==0?(Ft=8,c):(u&4096)!=0?(Ft=7,4096):(c=4186112&u,c!==0?(Ft=6,c):(c=62914560&u,c!==0?(Ft=5,c):u&67108864?(Ft=4,67108864):(u&134217728)!=0?(Ft=3,134217728):(c=805306368&u,c!==0?(Ft=2,c):(1073741824&u)!=0?(Ft=1,1073741824):(Ft=8,u))))))}function pP(u){switch(u){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function mP(u){switch(u){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,u))}}function Su(u,c){var g=u.pendingLanes;if(g===0)return Ft=0;var b=0,E=0,R=u.expiredLanes,z=u.suspendedLanes,j=u.pingedLanes;if(R!==0)b=R,E=Ft=15;else if(R=g&134217727,R!==0){var re=R&~z;re!==0?(b=fs(re),E=Ft):(j&=R,j!==0&&(b=fs(j),E=Ft))}else R=g&~z,R!==0?(b=fs(R),E=Ft):j!==0&&(b=fs(j),E=Ft);if(b===0)return 0;if(b=31-mo(b),b=g&((0>b?0:1<<b)<<1)-1,c!==0&&c!==b&&(c&z)==0){if(fs(c),E<=Ft)return c;Ft=E}if(c=u.entangledLanes,c!==0)for(u=u.entanglements,c&=b;0<c;)g=31-mo(c),E=1<<g,b|=u[g],c&=~E;return b}function o1(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function od(u,c){switch(u){case 15:return 1;case 14:return 2;case 12:return u=Aa(24&~c),u===0?od(10,c):u;case 10:return u=Aa(192&~c),u===0?od(8,c):u;case 8:return u=Aa(3584&~c),u===0&&(u=Aa(4186112&~c),u===0&&(u=512)),u;case 2:return c=Aa(805306368&~c),c===0&&(c=268435456),c}throw Error(a(358,u))}function Aa(u){return u&-u}function Qm(u){for(var c=[],g=0;31>g;g++)c.push(u);return c}function sd(u,c,g){u.pendingLanes|=c;var b=c-1;u.suspendedLanes&=b,u.pingedLanes&=b,u=u.eventTimes,c=31-mo(c),u[c]=g}var mo=Math.clz32?Math.clz32:yP,gP=Math.log,vP=Math.LN2;function yP(u){return u===0?32:31-(gP(u)/vP|0)|0}var xP=s.unstable_runWithPriority,Jm=s.unstable_scheduleCallback,Km=s.unstable_cancelCallback,_P=s.unstable_shouldYield,s1=s.unstable_requestPaint,eg=s.unstable_now,wP=s.unstable_getCurrentPriorityLevel,ad=s.unstable_ImmediatePriority,a1=s.unstable_UserBlockingPriority,l1=s.unstable_NormalPriority,u1=s.unstable_LowPriority,c1=s.unstable_IdlePriority,tg={},SP=s1!==void 0?s1:function(){},Di=null,ld=null,ng=!1,f1=eg(),In=1e4>f1?eg:function(){return eg()-f1};function Ra(){switch(wP()){case ad:return 99;case a1:return 98;case l1:return 97;case u1:return 96;case c1:return 95;default:throw Error(a(332))}}function d1(u){switch(u){case 99:return ad;case 98:return a1;case 97:return l1;case 96:return u1;case 95:return c1;default:throw Error(a(332))}}function ki(u,c){return u=d1(u),xP(u,c)}function Mu(u,c,g){return u=d1(u),Jm(u,c,g)}function Pr(){if(ld!==null){var u=ld;ld=null,Km(u)}h1()}function h1(){if(!ng&&Di!==null){ng=!0;var u=0;try{var c=Di;ki(99,function(){for(;u<c.length;u++){var g=c[u];do g=g(!0);while(g!==null)}}),Di=null}catch(g){throw Di!==null&&(Di=Di.slice(u+1)),Jm(ad,Pr),g}finally{ng=!1}}}var MP=l.ReactCurrentBatchConfig;function bP(u,c){return u===c&&(u!==0||1/u==1/c)||u!==u&&c!==c}var Lr=typeof Object.is=="function"?Object.is:bP,EP=Object.prototype.hasOwnProperty;function ud(u,c){if(Lr(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var g=Object.keys(u),b=Object.keys(c);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++)if(!EP.call(c,g[b])||!Lr(u[g[b]],c[g[b]]))return!1;return!0}function TP(u){switch(u.tag){case 5:return It(u.type);case 16:return It("Lazy");case 13:return It("Suspense");case 19:return It("SuspenseList");case 0:case 2:case 15:return u=wt(u.type,!1),u;case 11:return u=wt(u.type.render,!1),u;case 22:return u=wt(u.type._render,!1),u;case 1:return u=wt(u.type,!0),u;default:return""}}function Xr(u,c){if(u&&u.defaultProps){c=i({},c),u=u.defaultProps;for(var g in u)c[g]===void 0&&(c[g]=u[g]);return c}return c}var cd=Vn(null),fd=null,Pa=null,dd=null;function rg(){dd=Pa=fd=null}function p1(u,c){u=u.type._context,ve?(At(cd,u._currentValue),u._currentValue=c):(At(cd,u._currentValue2),u._currentValue2=c)}function ig(u){var c=cd.current;bt(cd),u=u.type._context,ve?u._currentValue=c:u._currentValue2=c}function m1(u,c){for(;u!==null;){var g=u.alternate;if((u.childLanes&c)===c){if(g===null||(g.childLanes&c)===c)break;g.childLanes|=c}else u.childLanes|=c,g!==null&&(g.childLanes|=c);u=u.return}}function La(u,c){fd=u,dd=Pa=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&c)!=0&&(Yr=!0),u.firstContext=null)}function Ir(u,c){if(dd!==u&&c!==!1&&c!==0)if((typeof c!="number"||c===1073741823)&&(dd=u,c=1073741823),c={context:u,observedBits:c,next:null},Pa===null){if(fd===null)throw Error(a(308));Pa=c,fd.dependencies={lanes:0,firstContext:c,responders:null}}else Pa=Pa.next=c;return ve?u._currentValue:u._currentValue2}var go=!1;function og(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function g1(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function vo(u,c){return{eventTime:u,lane:c,tag:0,payload:null,callback:null,next:null}}function yo(u,c){if(u=u.updateQueue,u!==null){u=u.shared;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}}function v1(u,c){var g=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var E=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var z={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};R===null?E=R=z:R=R.next=z,g=g.next}while(g!==null);R===null?E=R=c:R=R.next=c}else E=R=c;g={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:b.shared,effects:b.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=c:u.next=c,g.lastBaseUpdate=c}function bu(u,c,g,b){var E=u.updateQueue;go=!1;var R=E.firstBaseUpdate,z=E.lastBaseUpdate,j=E.shared.pending;if(j!==null){E.shared.pending=null;var re=j,Pe=re.next;re.next=null,z===null?R=Pe:z.next=Pe,z=re;var Ye=u.alternate;if(Ye!==null){Ye=Ye.updateQueue;var ot=Ye.lastBaseUpdate;ot!==z&&(ot===null?Ye.firstBaseUpdate=Pe:ot.next=Pe,Ye.lastBaseUpdate=re)}}if(R!==null){ot=E.baseState,z=0,Ye=Pe=re=null;do{j=R.lane;var Oe=R.eventTime;if((b&j)===j){Ye!==null&&(Ye=Ye.next={eventTime:Oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ot=u,qt=R;switch(j=c,Oe=g,qt.tag){case 1:if(Ot=qt.payload,typeof Ot=="function"){ot=Ot.call(Oe,ot,j);break e}ot=Ot;break e;case 3:Ot.flags=Ot.flags&-4097|64;case 0:if(Ot=qt.payload,j=typeof Ot=="function"?Ot.call(Oe,ot,j):Ot,j==null)break e;ot=i({},ot,j);break e;case 2:go=!0}}R.callback!==null&&(u.flags|=32,j=E.effects,j===null?E.effects=[R]:j.push(R))}else Oe={eventTime:Oe,lane:j,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Ye===null?(Pe=Ye=Oe,re=ot):Ye=Ye.next=Oe,z|=j;if(R=R.next,R===null){if(j=E.shared.pending,j===null)break;R=j.next,j.next=null,E.lastBaseUpdate=j,E.shared.pending=null}}while(1);Ye===null&&(re=ot),E.baseState=re,E.firstBaseUpdate=Pe,E.lastBaseUpdate=Ye,Fu|=z,u.lanes=z,u.memoizedState=ot}}function y1(u,c,g){if(u=c.effects,c.effects=null,u!==null)for(c=0;c<u.length;c++){var b=u[c],E=b.callback;if(E!==null){if(b.callback=null,b=g,typeof E!="function")throw Error(a(191,E));E.call(b)}}}var x1=new o.Component().refs;function hd(u,c,g,b){c=u.memoizedState,g=g(b,c),g=g==null?c:i({},c,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var pd={isMounted:function(u){return(u=u._reactInternals)?H(u)===u:!1},enqueueSetState:function(u,c,g){u=u._reactInternals;var b=mr(),E=wo(u),R=vo(b,E);R.payload=c,g!=null&&(R.callback=g),yo(u,R),Bi(u,E,b)},enqueueReplaceState:function(u,c,g){u=u._reactInternals;var b=mr(),E=wo(u),R=vo(b,E);R.tag=1,R.payload=c,g!=null&&(R.callback=g),yo(u,R),Bi(u,E,b)},enqueueForceUpdate:function(u,c){u=u._reactInternals;var g=mr(),b=wo(u),E=vo(g,b);E.tag=2,c!=null&&(E.callback=c),yo(u,E),Bi(u,b,g)}};function _1(u,c,g,b,E,R,z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,R,z):c.prototype&&c.prototype.isPureReactComponent?!ud(g,b)||!ud(E,R):!0}function w1(u,c,g){var b=!1,E=Ln,R=c.contextType;return typeof R=="object"&&R!==null?R=Ir(R):(E=dr(c)?gn:mt.current,b=c.contextTypes,R=(b=b!=null)?Ca(u,E):Ln),c=new c(g,R),u.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=pd,u.stateNode=c,c._reactInternals=u,b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=R),c}function S1(u,c,g,b){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,b),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,b),c.state!==u&&pd.enqueueReplaceState(c,c.state,null)}function sg(u,c,g,b){var E=u.stateNode;E.props=g,E.state=u.memoizedState,E.refs=x1,og(u);var R=c.contextType;typeof R=="object"&&R!==null?E.context=Ir(R):(R=dr(c)?gn:mt.current,E.context=Ca(u,R)),bu(u,g,E,b),E.state=u.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(hd(u,c,R,g),E.state=u.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&pd.enqueueReplaceState(E,E.state,null),bu(u,g,E,b),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4)}var md=Array.isArray;function Eu(u,c,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(a(309));var b=g.stateNode}if(!b)throw Error(a(147,u));var E=""+u;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(R){var z=b.refs;z===x1&&(z=b.refs={}),R===null?delete z[E]:z[E]=R},c._stringRef=E,c)}if(typeof u!="string")throw Error(a(284));if(!g._owner)throw Error(a(290,u))}return u}function gd(u,c){if(u.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(c)==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":c))}function M1(u){function c(Q,Y){if(u){var ae=Q.lastEffect;ae!==null?(ae.nextEffect=Y,Q.lastEffect=Y):Q.firstEffect=Q.lastEffect=Y,Y.nextEffect=null,Y.flags=8}}function g(Q,Y){if(!u)return null;for(;Y!==null;)c(Q,Y),Y=Y.sibling;return null}function b(Q,Y){for(Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function E(Q,Y){return Q=Mo(Q,Y),Q.index=0,Q.sibling=null,Q}function R(Q,Y,ae){return Q.index=ae,u?(ae=Q.alternate,ae!==null?(ae=ae.index,ae<Y?(Q.flags=2,Y):ae):(Q.flags=2,Y)):Y}function z(Q){return u&&Q.alternate===null&&(Q.flags=2),Q}function j(Q,Y,ae,ke){return Y===null||Y.tag!==6?(Y=Xg(ae,Q.mode,ke),Y.return=Q,Y):(Y=E(Y,ae),Y.return=Q,Y)}function re(Q,Y,ae,ke){return Y!==null&&Y.elementType===ae.type?(ke=E(Y,ae.props),ke.ref=Eu(Q,Y,ae),ke.return=Q,ke):(ke=Wd(ae.type,ae.key,ae.props,null,Q.mode,ke),ke.ref=Eu(Q,Y,ae),ke.return=Q,ke)}function Pe(Q,Y,ae,ke){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=Yg(ae,Q.mode,ke),Y.return=Q,Y):(Y=E(Y,ae.children||[]),Y.return=Q,Y)}function Ye(Q,Y,ae,ke,Ze){return Y===null||Y.tag!==7?(Y=Ba(ae,Q.mode,ke,Ze),Y.return=Q,Y):(Y=E(Y,ae),Y.return=Q,Y)}function ot(Q,Y,ae){if(typeof Y=="string"||typeof Y=="number")return Y=Xg(""+Y,Q.mode,ae),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case f:return ae=Wd(Y.type,Y.key,Y.props,null,Q.mode,ae),ae.ref=Eu(Q,null,Y),ae.return=Q,ae;case h:return Y=Yg(Y,Q.mode,ae),Y.return=Q,Y}if(md(Y)||D(Y))return Y=Ba(Y,Q.mode,ae,null),Y.return=Q,Y;gd(Q,Y)}return null}function Oe(Q,Y,ae,ke){var Ze=Y!==null?Y.key:null;if(typeof ae=="string"||typeof ae=="number")return Ze!==null?null:j(Q,Y,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case f:return ae.key===Ze?ae.type===p?Ye(Q,Y,ae.props.children,ke,Ze):re(Q,Y,ae,ke):null;case h:return ae.key===Ze?Pe(Q,Y,ae,ke):null}if(md(ae)||D(ae))return Ze!==null?null:Ye(Q,Y,ae,ke,null);gd(Q,ae)}return null}function Ot(Q,Y,ae,ke,Ze){if(typeof ke=="string"||typeof ke=="number")return Q=Q.get(ae)||null,j(Y,Q,""+ke,Ze);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case f:return Q=Q.get(ke.key===null?ae:ke.key)||null,ke.type===p?Ye(Y,Q,ke.props.children,Ze,ke.key):re(Y,Q,ke,Ze);case h:return Q=Q.get(ke.key===null?ae:ke.key)||null,Pe(Y,Q,ke,Ze)}if(md(ke)||D(ke))return Q=Q.get(ae)||null,Ye(Y,Q,ke,Ze,null);gd(Y,ke)}return null}function qt(Q,Y,ae,ke){for(var Ze=null,Bt=null,at=Y,Rt=Y=0,hn=null;at!==null&&Rt<ae.length;Rt++){at.index>Rt?(hn=at,at=null):hn=at.sibling;var St=Oe(Q,at,ae[Rt],ke);if(St===null){at===null&&(at=hn);break}u&&at&&St.alternate===null&&c(Q,at),Y=R(St,Y,Rt),Bt===null?Ze=St:Bt.sibling=St,Bt=St,at=hn}if(Rt===ae.length)return g(Q,at),Ze;if(at===null){for(;Rt<ae.length;Rt++)at=ot(Q,ae[Rt],ke),at!==null&&(Y=R(at,Y,Rt),Bt===null?Ze=at:Bt.sibling=at,Bt=at);return Ze}for(at=b(Q,at);Rt<ae.length;Rt++)hn=Ot(at,Q,Rt,ae[Rt],ke),hn!==null&&(u&&hn.alternate!==null&&at.delete(hn.key===null?Rt:hn.key),Y=R(hn,Y,Rt),Bt===null?Ze=hn:Bt.sibling=hn,Bt=hn);return u&&at.forEach(function(bo){return c(Q,bo)}),Ze}function Nr(Q,Y,ae,ke){var Ze=D(ae);if(typeof Ze!="function")throw Error(a(150));if(ae=Ze.call(ae),ae==null)throw Error(a(151));for(var Bt=Ze=null,at=Y,Rt=Y=0,hn=null,St=ae.next();at!==null&&!St.done;Rt++,St=ae.next()){at.index>Rt?(hn=at,at=null):hn=at.sibling;var bo=Oe(Q,at,St.value,ke);if(bo===null){at===null&&(at=hn);break}u&&at&&bo.alternate===null&&c(Q,at),Y=R(bo,Y,Rt),Bt===null?Ze=bo:Bt.sibling=bo,Bt=bo,at=hn}if(St.done)return g(Q,at),Ze;if(at===null){for(;!St.done;Rt++,St=ae.next())St=ot(Q,St.value,ke),St!==null&&(Y=R(St,Y,Rt),Bt===null?Ze=St:Bt.sibling=St,Bt=St);return Ze}for(at=b(Q,at);!St.done;Rt++,St=ae.next())St=Ot(at,Q,Rt,St.value,ke),St!==null&&(u&&St.alternate!==null&&at.delete(St.key===null?Rt:St.key),Y=R(St,Y,Rt),Bt===null?Ze=St:Bt.sibling=St,Bt=St);return u&&at.forEach(function(tL){return c(Q,tL)}),Ze}return function(Q,Y,ae,ke){var Ze=typeof ae=="object"&&ae!==null&&ae.type===p&&ae.key===null;Ze&&(ae=ae.props.children);var Bt=typeof ae=="object"&&ae!==null;if(Bt)switch(ae.$$typeof){case f:e:{for(Bt=ae.key,Ze=Y;Ze!==null;){if(Ze.key===Bt){switch(Ze.tag){case 7:if(ae.type===p){g(Q,Ze.sibling),Y=E(Ze,ae.props.children),Y.return=Q,Q=Y;break e}break;default:if(Ze.elementType===ae.type){g(Q,Ze.sibling),Y=E(Ze,ae.props),Y.ref=Eu(Q,Ze,ae),Y.return=Q,Q=Y;break e}}g(Q,Ze);break}else c(Q,Ze);Ze=Ze.sibling}ae.type===p?(Y=Ba(ae.props.children,Q.mode,ke,ae.key),Y.return=Q,Q=Y):(ke=Wd(ae.type,ae.key,ae.props,null,Q.mode,ke),ke.ref=Eu(Q,Y,ae),ke.return=Q,Q=ke)}return z(Q);case h:e:{for(Ze=ae.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){g(Q,Y.sibling),Y=E(Y,ae.children||[]),Y.return=Q,Q=Y;break e}else{g(Q,Y);break}else c(Q,Y);Y=Y.sibling}Y=Yg(ae,Q.mode,ke),Y.return=Q,Q=Y}return z(Q)}if(typeof ae=="string"||typeof ae=="number")return ae=""+ae,Y!==null&&Y.tag===6?(g(Q,Y.sibling),Y=E(Y,ae),Y.return=Q,Q=Y):(g(Q,Y),Y=Xg(ae,Q.mode,ke),Y.return=Q,Q=Y),z(Q);if(md(ae))return qt(Q,Y,ae,ke);if(D(ae))return Nr(Q,Y,ae,ke);if(Bt&&gd(Q,ae),typeof ae=="undefined"&&!Ze)switch(Q.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,U(Q.type)||"Component"))}return g(Q,Y)}}var vd=M1(!0),b1=M1(!1),Tu={},Dr=Vn(Tu),Cu=Vn(Tu),Ia=Vn(Tu);function ui(u){if(u===Tu)throw Error(a(174));return u}function ag(u,c){At(Ia,c),At(Cu,u),At(Dr,Tu),u=ue(c),bt(Dr),At(Dr,u)}function Da(){bt(Dr),bt(Cu),bt(Ia)}function E1(u){var c=ui(Ia.current),g=ui(Dr.current);c=V(g,u.type,c),g!==c&&(At(Cu,u),At(Dr,c))}function lg(u){Cu.current===u&&(bt(Dr),bt(Cu))}var en=Vn(0);function yd(u){for(var c=u;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||oe(g)||ee(g)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&64)!=0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Oi=null,ds=null,ci=!1;function T1(u,c){var g=Or(5,null,null,0);g.elementType="DELETED",g.type="DELETED",g.stateNode=c,g.return=u,g.flags=8,u.lastEffect!==null?(u.lastEffect.nextEffect=g,u.lastEffect=g):u.firstEffect=u.lastEffect=g}function C1(u,c){switch(u.tag){case 5:return c=N(c,u.type,u.pendingProps),c!==null?(u.stateNode=c,!0):!1;case 6:return c=J(c,u.pendingProps),c!==null?(u.stateNode=c,!0):!1;case 13:return!1;default:return!1}}function ug(u){if(ci){var c=ds;if(c){var g=c;if(!C1(u,c)){if(c=me(g),!c||!C1(u,c)){u.flags=u.flags&-1025|2,ci=!1,Oi=u;return}T1(Oi,g)}Oi=u,ds=rt(c)}else u.flags=u.flags&-1025|2,ci=!1,Oi=u}}function A1(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Oi=u}function xd(u){if(!_e||u!==Oi)return!1;if(!ci)return A1(u),ci=!0,!1;var c=u.type;if(u.tag!==5||c!=="head"&&c!=="body"&&!Fe(c,u.memoizedProps))for(c=ds;c;)T1(u,c),c=me(c);if(A1(u),u.tag===13){if(!_e)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));ds=it(u)}else ds=Oi?me(u.stateNode):null;return!0}function cg(){_e&&(ds=Oi=null,ci=!1)}var ka=[];function fg(){for(var u=0;u<ka.length;u++){var c=ka[u];ve?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}ka.length=0}var Au=l.ReactCurrentDispatcher,kr=l.ReactCurrentBatchConfig,Ru=0,on=null,Gn=null,Dn=null,_d=!1,Pu=!1;function hr(){throw Error(a(321))}function dg(u,c){if(c===null)return!1;for(var g=0;g<c.length&&g<u.length;g++)if(!Lr(u[g],c[g]))return!1;return!0}function hg(u,c,g,b,E,R){if(Ru=R,on=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Au.current=u===null||u.memoizedState===null?AP:RP,u=g(b,E),Pu){R=0;do{if(Pu=!1,!(25>R))throw Error(a(301));R+=1,Dn=Gn=null,c.updateQueue=null,Au.current=PP,u=g(b,E)}while(Pu)}if(Au.current=bd,c=Gn!==null&&Gn.next!==null,Ru=0,Dn=Gn=on=null,_d=!1,c)throw Error(a(300));return u}function hs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?on.memoizedState=Dn=u:Dn=Dn.next=u,Dn}function ps(){if(Gn===null){var u=on.alternate;u=u!==null?u.memoizedState:null}else u=Gn.next;var c=Dn===null?on.memoizedState:Dn.next;if(c!==null)Dn=c,Gn=u;else{if(u===null)throw Error(a(310));Gn=u,u={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Dn===null?on.memoizedState=Dn=u:Dn=Dn.next=u}return Dn}function fi(u,c){return typeof c=="function"?c(u):c}function Lu(u){var c=ps(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=u;var b=Gn,E=b.baseQueue,R=g.pending;if(R!==null){if(E!==null){var z=E.next;E.next=R.next,R.next=z}b.baseQueue=E=R,g.pending=null}if(E!==null){E=E.next,b=b.baseState;var j=z=R=null,re=E;do{var Pe=re.lane;if((Ru&Pe)===Pe)j!==null&&(j=j.next={lane:0,action:re.action,eagerReducer:re.eagerReducer,eagerState:re.eagerState,next:null}),b=re.eagerReducer===u?re.eagerState:u(b,re.action);else{var Ye={lane:Pe,action:re.action,eagerReducer:re.eagerReducer,eagerState:re.eagerState,next:null};j===null?(z=j=Ye,R=b):j=j.next=Ye,on.lanes|=Pe,Fu|=Pe}re=re.next}while(re!==null&&re!==E);j===null?R=b:j.next=z,Lr(b,c.memoizedState)||(Yr=!0),c.memoizedState=b,c.baseState=R,c.baseQueue=j,g.lastRenderedState=b}return[c.memoizedState,g.dispatch]}function Iu(u){var c=ps(),g=c.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=u;var b=g.dispatch,E=g.pending,R=c.memoizedState;if(E!==null){g.pending=null;var z=E=E.next;do R=u(R,z.action),z=z.next;while(z!==E);Lr(R,c.memoizedState)||(Yr=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),g.lastRenderedState=R}return[R,b]}function R1(u,c,g){var b=c._getVersion;b=b(c._source);var E=ve?c._workInProgressVersionPrimary:c._workInProgressVersionSecondary;if(E!==null?u=E===b:(u=u.mutableReadLanes,(u=(Ru&u)===u)&&(ve?c._workInProgressVersionPrimary=b:c._workInProgressVersionSecondary=b,ka.push(c))),u)return g(c._source);throw ka.push(c),Error(a(350))}function P1(u,c,g,b){var E=er;if(E===null)throw Error(a(349));var R=c._getVersion,z=R(c._source),j=Au.current,re=j.useState(function(){return R1(E,c,g)}),Pe=re[1],Ye=re[0];re=Dn;var ot=u.memoizedState,Oe=ot.refs,Ot=Oe.getSnapshot,qt=ot.source;ot=ot.subscribe;var Nr=on;return u.memoizedState={refs:Oe,source:c,subscribe:b},j.useEffect(function(){Oe.getSnapshot=g,Oe.setSnapshot=Pe;var Q=R(c._source);if(!Lr(z,Q)){Q=g(c._source),Lr(Ye,Q)||(Pe(Q),Q=wo(Nr),E.mutableReadLanes|=Q&E.pendingLanes),Q=E.mutableReadLanes,E.entangledLanes|=Q;for(var Y=E.entanglements,ae=Q;0<ae;){var ke=31-mo(ae),Ze=1<<ke;Y[ke]|=Q,ae&=~Ze}}},[g,c,b]),j.useEffect(function(){return b(c._source,function(){var Q=Oe.getSnapshot,Y=Oe.setSnapshot;try{Y(Q(c._source));var ae=wo(Nr);E.mutableReadLanes|=ae&E.pendingLanes}catch(ke){Y(function(){throw ke})}})},[c,b]),Lr(Ot,g)&&Lr(qt,c)&&Lr(ot,b)||(u={pending:null,dispatch:null,lastRenderedReducer:fi,lastRenderedState:Ye},u.dispatch=Pe=vg.bind(null,on,u),re.queue=u,re.baseQueue=null,Ye=R1(E,c,g),re.memoizedState=re.baseState=Ye),Ye}function L1(u,c,g){var b=ps();return P1(b,u,c,g)}function Du(u){var c=hs();return typeof u=="function"&&(u=u()),c.memoizedState=c.baseState=u,u=c.queue={pending:null,dispatch:null,lastRenderedReducer:fi,lastRenderedState:u},u=u.dispatch=vg.bind(null,on,u),[c.memoizedState,u]}function wd(u,c,g,b){return u={tag:u,create:c,destroy:g,deps:b,next:null},c=on.updateQueue,c===null?(c={lastEffect:null},on.updateQueue=c,c.lastEffect=u.next=u):(g=c.lastEffect,g===null?c.lastEffect=u.next=u:(b=g.next,g.next=u,u.next=b,c.lastEffect=u)),u}function I1(u){var c=hs();return u={current:u},c.memoizedState=u}function Sd(){return ps().memoizedState}function pg(u,c,g,b){var E=hs();on.flags|=u,E.memoizedState=wd(1|c,g,void 0,b===void 0?null:b)}function mg(u,c,g,b){var E=ps();b=b===void 0?null:b;var R=void 0;if(Gn!==null){var z=Gn.memoizedState;if(R=z.destroy,b!==null&&dg(b,z.deps)){wd(c,g,R,b);return}}on.flags|=u,E.memoizedState=wd(1|c,g,R,b)}function D1(u,c){return pg(516,4,u,c)}function Md(u,c){return mg(516,4,u,c)}function k1(u,c){return mg(4,2,u,c)}function O1(u,c){if(typeof c=="function")return u=u(),c(u),function(){c(null)};if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function N1(u,c,g){return g=g!=null?g.concat([u]):null,mg(4,2,O1.bind(null,c,u),g)}function gg(){}function z1(u,c){var g=ps();c=c===void 0?null:c;var b=g.memoizedState;return b!==null&&c!==null&&dg(c,b[1])?b[0]:(g.memoizedState=[u,c],u)}function F1(u,c){var g=ps();c=c===void 0?null:c;var b=g.memoizedState;return b!==null&&c!==null&&dg(c,b[1])?b[0]:(u=u(),g.memoizedState=[u,c],u)}function CP(u,c){var g=Ra();ki(98>g?98:g,function(){u(!0)}),ki(97<g?97:g,function(){var b=kr.transition;kr.transition=1;try{u(!1),c()}finally{kr.transition=b}})}function vg(u,c,g){var b=mr(),E=wo(u),R={lane:E,action:g,eagerReducer:null,eagerState:null,next:null},z=c.pending;if(z===null?R.next=R:(R.next=z.next,z.next=R),c.pending=R,z=u.alternate,u===on||z!==null&&z===on)Pu=_d=!0;else{if(u.lanes===0&&(z===null||z.lanes===0)&&(z=c.lastRenderedReducer,z!==null))try{var j=c.lastRenderedState,re=z(j,g);if(R.eagerReducer=z,R.eagerState=re,Lr(re,j))return}catch{}finally{}Bi(u,E,b)}}var bd={readContext:Ir,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useOpaqueIdentifier:hr,unstable_isNewReconciler:!1},AP={readContext:Ir,useCallback:function(u,c){return hs().memoizedState=[u,c===void 0?null:c],u},useContext:Ir,useEffect:D1,useImperativeHandle:function(u,c,g){return g=g!=null?g.concat([u]):null,pg(4,2,O1.bind(null,c,u),g)},useLayoutEffect:function(u,c){return pg(4,2,u,c)},useMemo:function(u,c){var g=hs();return c=c===void 0?null:c,u=u(),g.memoizedState=[u,c],u},useReducer:function(u,c,g){var b=hs();return c=g!==void 0?g(c):c,b.memoizedState=b.baseState=c,u=b.queue={pending:null,dispatch:null,lastRenderedReducer:u,lastRenderedState:c},u=u.dispatch=vg.bind(null,on,u),[b.memoizedState,u]},useRef:I1,useState:Du,useDebugValue:gg,useDeferredValue:function(u){var c=Du(u),g=c[0],b=c[1];return D1(function(){var E=kr.transition;kr.transition=1;try{b(u)}finally{kr.transition=E}},[u]),g},useTransition:function(){var u=Du(!1),c=u[0];return u=CP.bind(null,u[1]),I1(u),[u,c]},useMutableSource:function(u,c,g){var b=hs();return b.memoizedState={refs:{getSnapshot:c,setSnapshot:null},source:u,subscribe:g},P1(b,u,c,g)},useOpaqueIdentifier:function(){if(ci){var u=!1,c=Ae(function(){throw u||(u=!0,g(je())),Error(a(355))}),g=Du(c)[1];return(on.mode&2)==0&&(on.flags|=516,wd(5,function(){g(je())},void 0,null)),c}return c=je(),Du(c),c},unstable_isNewReconciler:!1},RP={readContext:Ir,useCallback:z1,useContext:Ir,useEffect:Md,useImperativeHandle:N1,useLayoutEffect:k1,useMemo:F1,useReducer:Lu,useRef:Sd,useState:function(){return Lu(fi)},useDebugValue:gg,useDeferredValue:function(u){var c=Lu(fi),g=c[0],b=c[1];return Md(function(){var E=kr.transition;kr.transition=1;try{b(u)}finally{kr.transition=E}},[u]),g},useTransition:function(){var u=Lu(fi)[0];return[Sd().current,u]},useMutableSource:L1,useOpaqueIdentifier:function(){return Lu(fi)[0]},unstable_isNewReconciler:!1},PP={readContext:Ir,useCallback:z1,useContext:Ir,useEffect:Md,useImperativeHandle:N1,useLayoutEffect:k1,useMemo:F1,useReducer:Iu,useRef:Sd,useState:function(){return Iu(fi)},useDebugValue:gg,useDeferredValue:function(u){var c=Iu(fi),g=c[0],b=c[1];return Md(function(){var E=kr.transition;kr.transition=1;try{b(u)}finally{kr.transition=E}},[u]),g},useTransition:function(){var u=Iu(fi)[0];return[Sd().current,u]},useMutableSource:L1,useOpaqueIdentifier:function(){return Iu(fi)[0]},unstable_isNewReconciler:!1},LP=l.ReactCurrentOwner,Yr=!1;function pr(u,c,g,b){c.child=u===null?b1(c,null,g,b):vd(c,u.child,g,b)}function B1(u,c,g,b,E){g=g.render;var R=c.ref;return La(c,E),b=hg(u,c,g,b,R,E),u!==null&&!Yr?(c.updateQueue=u.updateQueue,c.flags&=-517,u.lanes&=~E,Ni(u,c,E)):(c.flags|=1,pr(u,c,b,E),c.child)}function U1(u,c,g,b,E,R){if(u===null){var z=g.type;return typeof z=="function"&&!jg(z)&&z.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(c.tag=15,c.type=z,H1(u,c,z,b,E,R)):(u=Wd(g.type,null,b,c,c.mode,R),u.ref=c.ref,u.return=c,c.child=u)}return z=u.child,(E&R)==0&&(E=z.memoizedProps,g=g.compare,g=g!==null?g:ud,g(E,b)&&u.ref===c.ref)?Ni(u,c,R):(c.flags|=1,u=Mo(z,b),u.ref=c.ref,u.return=c,c.child=u)}function H1(u,c,g,b,E,R){if(u!==null&&ud(u.memoizedProps,b)&&u.ref===c.ref)if(Yr=!1,(R&E)!=0)(u.flags&16384)!=0&&(Yr=!0);else return c.lanes=u.lanes,Ni(u,c,R);return xg(u,c,g,b,R)}function yg(u,c,g){var b=c.pendingProps,E=b.children,R=u!==null?u.memoizedState:null;if(b.mode==="hidden"||b.mode==="unstable-defer-without-hiding")if((c.mode&4)==0)c.memoizedState={baseLanes:0},Hd(c,g);else if((g&1073741824)!=0)c.memoizedState={baseLanes:0},Hd(c,R!==null?R.baseLanes:g);else return u=R!==null?R.baseLanes|g:g,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:u},Hd(c,u),null;else R!==null?(b=R.baseLanes|g,c.memoizedState=null):b=g,Hd(c,b);return pr(u,c,E,g),c.child}function V1(u,c){var g=c.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(c.flags|=128)}function xg(u,c,g,b,E){var R=dr(g)?gn:mt.current;return R=Ca(c,R),La(c,E),g=hg(u,c,g,b,R,E),u!==null&&!Yr?(c.updateQueue=u.updateQueue,c.flags&=-517,u.lanes&=~E,Ni(u,c,E)):(c.flags|=1,pr(u,c,g,E),c.child)}function G1(u,c,g,b,E){if(dr(g)){var R=!0;rd(c)}else R=!1;if(La(c,E),c.stateNode===null)u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),w1(c,g,b),sg(c,g,b,E),b=!0;else if(u===null){var z=c.stateNode,j=c.memoizedProps;z.props=j;var re=z.context,Pe=g.contextType;typeof Pe=="object"&&Pe!==null?Pe=Ir(Pe):(Pe=dr(g)?gn:mt.current,Pe=Ca(c,Pe));var Ye=g.getDerivedStateFromProps,ot=typeof Ye=="function"||typeof z.getSnapshotBeforeUpdate=="function";ot||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(j!==b||re!==Pe)&&S1(c,z,b,Pe),go=!1;var Oe=c.memoizedState;z.state=Oe,bu(c,b,z,E),re=c.memoizedState,j!==b||Oe!==re||dn.current||go?(typeof Ye=="function"&&(hd(c,g,Ye,b),re=c.memoizedState),(j=go||_1(c,g,j,b,Oe,re,Pe))?(ot||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(c.flags|=4)):(typeof z.componentDidMount=="function"&&(c.flags|=4),c.memoizedProps=b,c.memoizedState=re),z.props=b,z.state=re,z.context=Pe,b=j):(typeof z.componentDidMount=="function"&&(c.flags|=4),b=!1)}else{z=c.stateNode,g1(u,c),j=c.memoizedProps,Pe=c.type===c.elementType?j:Xr(c.type,j),z.props=Pe,ot=c.pendingProps,Oe=z.context,re=g.contextType,typeof re=="object"&&re!==null?re=Ir(re):(re=dr(g)?gn:mt.current,re=Ca(c,re));var Ot=g.getDerivedStateFromProps;(Ye=typeof Ot=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(j!==ot||Oe!==re)&&S1(c,z,b,re),go=!1,Oe=c.memoizedState,z.state=Oe,bu(c,b,z,E);var qt=c.memoizedState;j!==ot||Oe!==qt||dn.current||go?(typeof Ot=="function"&&(hd(c,g,Ot,b),qt=c.memoizedState),(Pe=go||_1(c,g,Pe,b,Oe,qt,re))?(Ye||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(b,qt,re),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(b,qt,re)),typeof z.componentDidUpdate=="function"&&(c.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(c.flags|=256)):(typeof z.componentDidUpdate!="function"||j===u.memoizedProps&&Oe===u.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||j===u.memoizedProps&&Oe===u.memoizedState||(c.flags|=256),c.memoizedProps=b,c.memoizedState=qt),z.props=b,z.state=qt,z.context=re,b=Pe):(typeof z.componentDidUpdate!="function"||j===u.memoizedProps&&Oe===u.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||j===u.memoizedProps&&Oe===u.memoizedState||(c.flags|=256),b=!1)}return _g(u,c,g,b,R,E)}function _g(u,c,g,b,E,R){V1(u,c);var z=(c.flags&64)!=0;if(!b&&!z)return E&&i1(c,g,!1),Ni(u,c,R);b=c.stateNode,LP.current=c;var j=z&&typeof g.getDerivedStateFromError!="function"?null:b.render();return c.flags|=1,u!==null&&z?(c.child=vd(c,u.child,null,R),c.child=vd(c,null,j,R)):pr(u,c,j,R),c.memoizedState=b.state,E&&i1(c,g,!0),c.child}function W1(u){var c=u.stateNode;c.pendingContext?n1(u,c.pendingContext,c.pendingContext!==c.context):c.context&&n1(u,c.context,!1),ag(u,c.containerInfo)}var Ed={dehydrated:null,retryLane:0};function $1(u,c,g){var b=c.pendingProps,E=en.current,R=!1,z;return(z=(c.flags&64)!=0)||(z=u!==null&&u.memoizedState===null?!1:(E&2)!=0),z?(R=!0,c.flags&=-65):u!==null&&u.memoizedState===null||b.fallback===void 0||b.unstable_avoidThisFallback===!0||(E|=1),At(en,E&1),u===null?(b.fallback!==void 0&&ug(c),u=b.children,E=b.fallback,R?(u=j1(c,u,E,g),c.child.memoizedState={baseLanes:g},c.memoizedState=Ed,u):typeof b.unstable_expectedLoadTime=="number"?(u=j1(c,u,E,g),c.child.memoizedState={baseLanes:g},c.memoizedState=Ed,c.lanes=33554432,u):(g=qg({mode:"visible",children:u},c.mode,g,null),g.return=c,c.child=g)):u.memoizedState!==null?R?(b=X1(u,c,b.children,b.fallback,g),R=c.child,E=u.child.memoizedState,R.memoizedState=E===null?{baseLanes:g}:{baseLanes:E.baseLanes|g},R.childLanes=u.childLanes&~g,c.memoizedState=Ed,b):(g=q1(u,c,b.children,g),c.memoizedState=null,g):R?(b=X1(u,c,b.children,b.fallback,g),R=c.child,E=u.child.memoizedState,R.memoizedState=E===null?{baseLanes:g}:{baseLanes:E.baseLanes|g},R.childLanes=u.childLanes&~g,c.memoizedState=Ed,b):(g=q1(u,c,b.children,g),c.memoizedState=null,g)}function j1(u,c,g,b){var E=u.mode,R=u.child;return c={mode:"hidden",children:c},(E&2)==0&&R!==null?(R.childLanes=0,R.pendingProps=c):R=qg(c,E,0,null),g=Ba(g,E,b,null),R.return=u,g.return=u,R.sibling=g,u.child=R,g}function q1(u,c,g,b){var E=u.child;return u=E.sibling,g=Mo(E,{mode:"visible",children:g}),(c.mode&2)==0&&(g.lanes=b),g.return=c,g.sibling=null,u!==null&&(u.nextEffect=null,u.flags=8,c.firstEffect=c.lastEffect=u),c.child=g}function X1(u,c,g,b,E){var R=c.mode,z=u.child;u=z.sibling;var j={mode:"hidden",children:g};return(R&2)==0&&c.child!==z?(g=c.child,g.childLanes=0,g.pendingProps=j,z=g.lastEffect,z!==null?(c.firstEffect=g.firstEffect,c.lastEffect=z,z.nextEffect=null):c.firstEffect=c.lastEffect=null):g=Mo(z,j),u!==null?b=Mo(u,b):(b=Ba(b,R,E,null),b.flags|=2),b.return=c,g.return=c,g.sibling=b,c.child=g,b}function Y1(u,c){u.lanes|=c;var g=u.alternate;g!==null&&(g.lanes|=c),m1(u.return,c)}function wg(u,c,g,b,E,R){var z=u.memoizedState;z===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:E,lastEffect:R}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=b,z.tail=g,z.tailMode=E,z.lastEffect=R)}function Z1(u,c,g){var b=c.pendingProps,E=b.revealOrder,R=b.tail;if(pr(u,c,b.children,g),b=en.current,(b&2)!=0)b=b&1|2,c.flags|=64;else{if(u!==null&&(u.flags&64)!=0)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Y1(u,g);else if(u.tag===19)Y1(u,g);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}if(At(en,b),(c.mode&2)==0)c.memoizedState=null;else switch(E){case"forwards":for(g=c.child,E=null;g!==null;)u=g.alternate,u!==null&&yd(u)===null&&(E=g),g=g.sibling;g=E,g===null?(E=c.child,c.child=null):(E=g.sibling,g.sibling=null),wg(c,!1,E,g,R,c.lastEffect);break;case"backwards":for(g=null,E=c.child,c.child=null;E!==null;){if(u=E.alternate,u!==null&&yd(u)===null){c.child=E;break}u=E.sibling,E.sibling=g,g=E,E=u}wg(c,!0,g,null,R,c.lastEffect);break;case"together":wg(c,!1,null,null,void 0,c.lastEffect);break;default:c.memoizedState=null}return c.child}function Ni(u,c,g){if(u!==null&&(c.dependencies=u.dependencies),Fu|=c.lanes,(g&c.childLanes)!=0){if(u!==null&&c.child!==u.child)throw Error(a(153));if(c.child!==null){for(u=c.child,g=Mo(u,u.pendingProps),c.child=g,g.return=c;u.sibling!==null;)u=u.sibling,g=g.sibling=Mo(u,u.pendingProps),g.return=c;g.sibling=null}return c.child}return null}function di(u){u.flags|=4}var ku,Ou,Td,Cd;if(xe)ku=function(u,c){for(var g=c.child;g!==null;){if(g.tag===5||g.tag===6)Be(u,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ou=function(){},Td=function(u,c,g,b,E){if(u=u.memoizedProps,u!==b){var R=c.stateNode,z=ui(Dr.current);g=We(R,g,u,b,E,z),(c.updateQueue=g)&&di(c)}},Cd=function(u,c,g,b){g!==b&&di(c)};else if(De){ku=function(u,c,g,b){for(var E=c.child;E!==null;){if(E.tag===5){var R=E.stateNode;g&&b&&(R=ed(R,E.type,E.memoizedProps,E)),Be(u,R)}else if(E.tag===6)R=E.stateNode,g&&b&&(R=td(R,E.memoizedProps,E)),Be(u,R);else if(E.tag!==4){if(E.tag===13&&(E.flags&4)!=0&&(R=E.memoizedState!==null)){var z=E.child;if(z!==null&&(z.child!==null&&(z.child.return=z,ku(u,z,!0,R)),R=z.sibling,R!==null)){R.return=E,E=R;continue}}if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var Q1=function(u,c,g,b){for(var E=c.child;E!==null;){if(E.tag===5){var R=E.stateNode;g&&b&&(R=ed(R,E.type,E.memoizedProps,E)),Ta(u,R)}else if(E.tag===6)R=E.stateNode,g&&b&&(R=td(R,E.memoizedProps,E)),Ta(u,R);else if(E.tag!==4){if(E.tag===13&&(E.flags&4)!=0&&(R=E.memoizedState!==null)){var z=E.child;if(z!==null&&(z.child!==null&&(z.child.return=z,Q1(u,z,!0,R)),R=z.sibling,R!==null)){R.return=E,E=R;continue}}if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Ou=function(u){var c=u.stateNode;if(u.firstEffect!==null){var g=c.containerInfo,b=Qf(g);Q1(b,u,!1,!1),c.pendingChildren=b,di(u),Jf(g,b)}},Td=function(u,c,g,b,E){var R=u.stateNode,z=u.memoizedProps;if((u=c.firstEffect===null)&&z===b)c.stateNode=R;else{var j=c.stateNode,re=ui(Dr.current),Pe=null;z!==b&&(Pe=We(j,g,z,b,E,re)),u&&Pe===null?c.stateNode=R:(R=Ea(R,Pe,g,z,b,c,u,j),ce(R,g,b,E,re)&&di(c),c.stateNode=R,u?di(c):ku(R,c,!1,!1))}},Cd=function(u,c,g,b){g!==b?(u=ui(Ia.current),g=ui(Dr.current),c.stateNode=Re(b,u,g,c),di(c)):c.stateNode=u.stateNode}}else Ou=function(){},Td=function(){},Cd=function(){};function Nu(u,c){if(!ci)switch(u.tailMode){case"hidden":c=u.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function IP(u,c,g){var b=c.pendingProps;switch(c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return dr(c.type)&&nd(),null;case 3:return Da(),bt(dn),bt(mt),fg(),b=c.stateNode,b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(xd(c)?di(c):b.hydrate||(c.flags|=256)),Ou(c),null;case 5:lg(c);var E=ui(Ia.current);if(g=c.type,u!==null&&c.stateNode!=null)Td(u,c,g,b,E),u.ref!==c.ref&&(c.flags|=128);else{if(!b){if(c.stateNode===null)throw Error(a(166));return null}if(u=ui(Dr.current),xd(c)){if(!_e)throw Error(a(175));u=Ke(c.stateNode,c.type,c.memoizedProps,E,u,c),c.updateQueue=u,u!==null&&di(c)}else{var R=ye(g,b,E,u,c);ku(R,c,!1,!1),c.stateNode=R,ce(R,g,b,E,u)&&di(c)}c.ref!==null&&(c.flags|=128)}return null;case 6:if(u&&c.stateNode!=null)Cd(u,c,u.memoizedProps,b);else{if(typeof b!="string"&&c.stateNode===null)throw Error(a(166));if(u=ui(Ia.current),E=ui(Dr.current),xd(c)){if(!_e)throw Error(a(176));dt(c.stateNode,c.memoizedProps,c)&&di(c)}else c.stateNode=Re(b,u,E,c)}return null;case 13:return bt(en),b=c.memoizedState,(c.flags&64)!=0?(c.lanes=g,c):(b=b!==null,E=!1,u===null?c.memoizedProps.fallback!==void 0&&xd(c):E=u.memoizedState!==null,b&&!E&&(c.mode&2)!=0&&(u===null&&c.memoizedProps.unstable_avoidThisFallback!==!0||(en.current&1)!=0?kn===0&&(kn=3):((kn===0||kn===3)&&(kn=4),er===null||(Fu&134217727)==0&&(Na&134217727)==0||za(er,Wn))),De&&b&&(c.flags|=4),xe&&(b||E)&&(c.flags|=4),null);case 4:return Da(),Ou(c),u===null&&O(c.stateNode.containerInfo),null;case 10:return ig(c),null;case 17:return dr(c.type)&&nd(),null;case 19:if(bt(en),b=c.memoizedState,b===null)return null;if(E=(c.flags&64)!=0,R=b.rendering,R===null)if(E)Nu(b,!1);else{if(kn!==0||u!==null&&(u.flags&64)!=0)for(u=c.child;u!==null;){if(R=yd(u),R!==null){for(c.flags|=64,Nu(b,!1),u=R.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),b.lastEffect===null&&(c.firstEffect=null),c.lastEffect=b.lastEffect,u=g,b=c.child;b!==null;)E=b,g=u,E.flags&=2,E.nextEffect=null,E.firstEffect=null,E.lastEffect=null,R=E.alternate,R===null?(E.childLanes=0,E.lanes=g,E.child=null,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,g=R.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),b=b.sibling;return At(en,en.current&1|2),c.child}u=u.sibling}b.tail!==null&&In()>zg&&(c.flags|=64,E=!0,Nu(b,!1),c.lanes=33554432)}else{if(!E)if(u=yd(R),u!==null){if(c.flags|=64,E=!0,u=u.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),Nu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!R.alternate&&!ci)return c=c.lastEffect=b.lastEffect,c!==null&&(c.nextEffect=null),null}else 2*In()-b.renderingStartTime>zg&&g!==1073741824&&(c.flags|=64,E=!0,Nu(b,!1),c.lanes=33554432);b.isBackwards?(R.sibling=c.child,c.child=R):(u=b.last,u!==null?u.sibling=R:c.child=R,b.last=R)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.lastEffect=c.lastEffect,b.renderingStartTime=In(),u.sibling=null,c=en.current,At(en,E?c&1|2:c&1),u):null;case 23:case 24:return Gg(),u!==null&&u.memoizedState!==null!=(c.memoizedState!==null)&&b.mode!=="unstable-defer-without-hiding"&&(c.flags|=4),null}throw Error(a(156,c.tag))}function DP(u){switch(u.tag){case 1:dr(u.type)&&nd();var c=u.flags;return c&4096?(u.flags=c&-4097|64,u):null;case 3:if(Da(),bt(dn),bt(mt),fg(),c=u.flags,(c&64)!=0)throw Error(a(285));return u.flags=c&-4097|64,u;case 5:return lg(u),null;case 13:return bt(en),c=u.flags,c&4096?(u.flags=c&-4097|64,u):null;case 19:return bt(en),null;case 4:return Da(),null;case 10:return ig(u),null;case 23:case 24:return Gg(),null;default:return null}}function Sg(u,c){try{var g="",b=c;do g+=TP(b),b=b.return;while(b);var E=g}catch(R){E=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:c,stack:E}}function Mg(u,c){try{console.error(c.value)}catch(g){setTimeout(function(){throw g})}}var kP=typeof WeakMap=="function"?WeakMap:Map;function J1(u,c,g){g=vo(-1,g),g.tag=3,g.payload={element:null};var b=c.value;return g.callback=function(){zd||(zd=!0,Fg=b),Mg(u,c)},g}function K1(u,c,g){g=vo(-1,g),g.tag=3;var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var E=c.value;g.payload=function(){return Mg(u,c),b(E)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(g.callback=function(){typeof b!="function"&&(hi===null?hi=new Set([this]):hi.add(this),Mg(u,c));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})}),g}var OP=typeof WeakSet=="function"?WeakSet:Set;function ew(u){var c=u.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){So(u,g)}else c.current=null}function NP(u,c){switch(c.tag){case 0:case 11:case 15:case 22:return;case 1:if(c.flags&256&&u!==null){var g=u.memoizedProps,b=u.memoizedState;u=c.stateNode,c=u.getSnapshotBeforeUpdate(c.elementType===c.type?g:Xr(c.type,g),b),u.__reactInternalSnapshotBeforeUpdate=c}return;case 3:xe&&c.flags&256&&wu(c.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function tw(u,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var g=c=c.next;do{if((g.tag&u)===u){var b=g.destroy;g.destroy=void 0,b!==void 0&&b()}g=g.next}while(g!==c)}}function zP(u,c,g){switch(g.tag){case 0:case 11:case 15:case 22:if(c=g.updateQueue,c=c!==null?c.lastEffect:null,c!==null){u=c=c.next;do{if((u.tag&3)==3){var b=u.create;u.destroy=b()}u=u.next}while(u!==c)}if(c=g.updateQueue,c=c!==null?c.lastEffect:null,c!==null){u=c=c.next;do{var E=u;b=E.next,E=E.tag,(E&4)!=0&&(E&1)!=0&&(yw(g,u),jP(g,u)),u=b}while(u!==c)}return;case 1:u=g.stateNode,g.flags&4&&(c===null?u.componentDidMount():(b=g.elementType===g.type?c.memoizedProps:Xr(g.type,c.memoizedProps),u.componentDidUpdate(b,c.memoizedState,u.__reactInternalSnapshotBeforeUpdate))),c=g.updateQueue,c!==null&&y1(g,c,u);return;case 3:if(c=g.updateQueue,c!==null){if(u=null,g.child!==null)switch(g.child.tag){case 5:u=Me(g.child.stateNode);break;case 1:u=g.child.stateNode}y1(g,c,u)}return;case 5:u=g.stateNode,c===null&&g.flags&4&&we(u,g.type,g.memoizedProps,g);return;case 6:return;case 4:return;case 12:return;case 13:_e&&g.memoizedState===null&&(g=g.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null&&ht(g))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function nw(u,c){if(xe)for(var g=u;;){if(g.tag===5){var b=g.stateNode;c?fr(b):Yf(g.stateNode,g.memoizedProps)}else if(g.tag===6)b=g.stateNode,c?Li(b):Zf(b,g.memoizedProps);else if((g.tag!==23&&g.tag!==24||g.memoizedState===null||g===u)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}}function rw(u,c){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(Zm,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:case 22:if(u=c.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var g=u=u.next;do{var b=g,E=b.destroy;if(b=b.tag,E!==void 0)if((b&4)!=0)yw(c,g);else{b=c;try{E()}catch(R){So(b,R)}}g=g.next}while(g!==u)}break;case 1:if(ew(c),u=c.stateNode,typeof u.componentWillUnmount=="function")try{u.props=c.memoizedProps,u.state=c.memoizedState,u.componentWillUnmount()}catch(R){So(c,R)}break;case 5:ew(c);break;case 4:xe?lw(u,c):De&&De&&(c=c.stateNode.containerInfo,u=Qf(c),Kf(c,u))}}function iw(u,c){for(var g=c;;)if(rw(u,g),g.child===null||xe&&g.tag===4){if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else g.child.return=g,g=g.child}function ow(u){u.alternate=null,u.child=null,u.dependencies=null,u.firstEffect=null,u.lastEffect=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.return=null,u.updateQueue=null}function sw(u){return u.tag===5||u.tag===3||u.tag===4}function aw(u){if(xe){e:{for(var c=u.return;c!==null;){if(sw(c))break e;c=c.return}throw Error(a(160))}var g=c;switch(c=g.stateNode,g.tag){case 5:var b=!1;break;case 3:c=c.containerInfo,b=!0;break;case 4:c=c.containerInfo,b=!0;break;default:throw Error(a(161))}g.flags&16&&(Kn(c),g.flags&=-17);e:t:for(g=u;;){for(;g.sibling===null;){if(g.return===null||sw(g.return)){g=null;break e}g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue t;g.child.return=g,g=g.child}if(!(g.flags&2)){g=g.stateNode;break e}}b?bg(u,g,c):Eg(u,g,c)}}function bg(u,c,g){var b=u.tag,E=b===5||b===6;if(E)u=E?u.stateNode:u.stateNode.instance,c?jt(g,u,c):G(g,u);else if(b!==4&&(u=u.child,u!==null))for(bg(u,c,g),u=u.sibling;u!==null;)bg(u,c,g),u=u.sibling}function Eg(u,c,g){var b=u.tag,E=b===5||b===6;if(E)u=E?u.stateNode:u.stateNode.instance,c?Je(g,u,c):be(g,u);else if(b!==4&&(u=u.child,u!==null))for(Eg(u,c,g),u=u.sibling;u!==null;)Eg(u,c,g),u=u.sibling}function lw(u,c){for(var g=c,b=!1,E,R;;){if(!b){b=g.return;e:for(;;){if(b===null)throw Error(a(160));switch(E=b.stateNode,b.tag){case 5:R=!1;break e;case 3:E=E.containerInfo,R=!0;break e;case 4:E=E.containerInfo,R=!0;break e}b=b.return}b=!0}if(g.tag===5||g.tag===6)iw(u,g),R?ba(E,g.stateNode):Mn(E,g.stateNode);else if(g.tag===4){if(g.child!==null){E=g.stateNode.containerInfo,R=!0,g.child.return=g,g=g.child;continue}}else if(rw(u,g),g.child!==null){g.child.return=g,g=g.child;continue}if(g===c)break;for(;g.sibling===null;){if(g.return===null||g.return===c)return;g=g.return,g.tag===4&&(b=!1)}g.sibling.return=g.return,g=g.sibling}}function Tg(u,c){if(xe){switch(c.tag){case 0:case 11:case 14:case 15:case 22:tw(3,c);return;case 1:return;case 5:var g=c.stateNode;if(g!=null){var b=c.memoizedProps;u=u!==null?u.memoizedProps:b;var E=c.type,R=c.updateQueue;c.updateQueue=null,R!==null&&Xe(g,R,E,u,b,c)}return;case 6:if(c.stateNode===null)throw Error(a(162));g=c.memoizedProps,K(c.stateNode,u!==null?u.memoizedProps:g,g);return;case 3:_e&&(c=c.stateNode,c.hydrate&&(c.hydrate=!1,_t(c.containerInfo)));return;case 12:return;case 13:uw(c),Ad(c);return;case 19:Ad(c);return;case 17:return;case 23:case 24:nw(c,c.memoizedState!==null);return}throw Error(a(163))}switch(c.tag){case 0:case 11:case 14:case 15:case 22:tw(3,c);return;case 12:return;case 13:uw(c),Ad(c);return;case 19:Ad(c);return;case 3:_e&&(g=c.stateNode,g.hydrate&&(g.hydrate=!1,_t(g.containerInfo)));break;case 23:case 24:return}e:if(De){switch(c.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:c=c.stateNode,Kf(c.containerInfo,c.pendingChildren);break e}throw Error(a(163))}}function uw(u){u.memoizedState!==null&&(Ng=In(),xe&&nw(u.child,!0))}function Ad(u){var c=u.updateQueue;if(c!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new OP),c.forEach(function(b){var E=YP.bind(null,u,b);g.has(b)||(g.add(b),b.then(E,E))})}}function FP(u,c){return u!==null&&(u=u.memoizedState,u===null||u.dehydrated!==null)?(c=c.memoizedState,c!==null&&c.dehydrated===null):!1}var Rd=0,Pd=1,Ld=2,Id=3,Dd=4;if(typeof Symbol=="function"&&Symbol.for){var zu=Symbol.for;Rd=zu("selector.component"),Pd=zu("selector.has_pseudo_class"),Ld=zu("selector.role"),Id=zu("selector.test_id"),Dd=zu("selector.text")}function Cg(u){var c=pe(u);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(a(364));return c}if(u=he(u),u===null)throw Error(a(362));return u.stateNode.current}function Ag(u,c){switch(c.$$typeof){case Rd:if(u.type===c.value)return!0;break;case Pd:e:{c=c.value,u=[u,0];for(var g=0;g<u.length;){var b=u[g++],E=u[g++],R=c[E];if(b.tag!==5||!X(b)){for(;R!=null&&Ag(b,R);)E++,R=c[E];if(E===c.length){c=!0;break e}else for(b=b.child;b!==null;)u.push(b,E),b=b.sibling}}c=!1}return c;case Ld:if(u.tag===5&&Ee(u.stateNode,c.value))return!0;break;case Dd:if((u.tag===5||u.tag===6)&&(u=Ne(u),u!==null&&0<=u.indexOf(c.value)))return!0;break;case Id:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(a(365,c))}return!1}function Rg(u){switch(u.$$typeof){case Rd:return"<"+(U(u.value)||"Unknown")+">";case Pd:return":has("+(Rg(u)||"")+")";case Ld:return'[role="'+u.value+'"]';case Dd:return'"'+u.value+'"';case Id:return'[data-testname="'+u.value+'"]';default:throw Error(a(365,u))}}function cw(u,c){var g=[];u=[u,0];for(var b=0;b<u.length;){var E=u[b++],R=u[b++],z=c[R];if(E.tag!==5||!X(E)){for(;z!=null&&Ag(E,z);)R++,z=c[R];if(R===c.length)g.push(E);else for(E=E.child;E!==null;)u.push(E,R),E=E.sibling}}return g}function Pg(u,c){if(!fe)throw Error(a(363));u=Cg(u),u=cw(u,c),c=[],u=Array.from(u);for(var g=0;g<u.length;){var b=u[g++];if(b.tag===5)X(b)||c.push(b.stateNode);else for(b=b.child;b!==null;)u.push(b),b=b.sibling}return c}var kd=null;function BP(u){if(kd===null)try{var c=("require"+Math.random()).slice(0,7);kd=(n&&n[c]).call(n,"timers").setImmediate}catch{kd=function(b){var E=new MessageChannel;E.port1.onmessage=b,E.port2.postMessage(void 0)}}return kd(u)}var UP=Math.ceil,Od=l.ReactCurrentDispatcher,Lg=l.ReactCurrentOwner,Ig=l.IsSomeRendererActing,et=0,er=null,vn=null,Wn=0,ms=0,Dg=Vn(0),kn=0,Nd=null,Oa=0,Fu=0,Na=0,kg=0,Og=null,Ng=0,zg=1/0;function xo(){zg=In()+500}var Ue=null,zd=!1,Fg=null,hi=null,_o=!1,Bu=null,Uu=90,Bg=[],Ug=[],zi=null,Hu=0,Hg=null,Fd=-1,Fi=0,Bd=0,Vu=null,Gu=!1;function mr(){return(et&48)!=0?In():Fd!==-1?Fd:Fd=In()}function wo(u){if(u=u.mode,(u&2)==0)return 1;if((u&4)==0)return Ra()===99?1:2;if(Fi===0&&(Fi=Oa),MP.transition!==0){Bd!==0&&(Bd=Og!==null?Og.pendingLanes:0),u=Fi;var c=4186112&~Bd;return c&=-c,c===0&&(u=4186112&~u,c=u&-u,c===0&&(c=8192)),c}return u=Ra(),(et&4)!=0&&u===98?u=od(12,Fi):(u=pP(u),u=od(u,Fi)),u}function Bi(u,c,g){if(50<Hu)throw Hu=0,Hg=null,Error(a(185));if(u=Ud(u,c),u===null)return null;sd(u,c,g),u===er&&(Na|=c,kn===4&&za(u,Wn));var b=Ra();c===1?(et&8)!=0&&(et&48)==0?Vg(u):(Mr(u,g),et===0&&(xo(),Pr())):((et&4)==0||b!==98&&b!==99||(zi===null?zi=new Set([u]):zi.add(u)),Mr(u,g)),Og=u}function Ud(u,c){u.lanes|=c;var g=u.alternate;for(g!==null&&(g.lanes|=c),g=u,u=u.return;u!==null;)u.childLanes|=c,g=u.alternate,g!==null&&(g.childLanes|=c),g=u,u=u.return;return g.tag===3?g.stateNode:null}function Mr(u,c){for(var g=u.callbackNode,b=u.suspendedLanes,E=u.pingedLanes,R=u.expirationTimes,z=u.pendingLanes;0<z;){var j=31-mo(z),re=1<<j,Pe=R[j];if(Pe===-1){if((re&b)==0||(re&E)!=0){Pe=c,fs(re);var Ye=Ft;R[j]=10<=Ye?Pe+250:6<=Ye?Pe+5e3:-1}}else Pe<=c&&(u.expiredLanes|=re);z&=~re}if(b=Su(u,u===er?Wn:0),c=Ft,b===0)g!==null&&(g!==tg&&Km(g),u.callbackNode=null,u.callbackPriority=0);else{if(g!==null){if(u.callbackPriority===c)return;g!==tg&&Km(g)}c===15?(g=Vg.bind(null,u),Di===null?(Di=[g],ld=Jm(ad,h1)):Di.push(g),g=tg):c===14?g=Mu(99,Vg.bind(null,u)):(g=mP(c),g=Mu(g,fw.bind(null,u))),u.callbackPriority=c,u.callbackNode=g}}function fw(u){if(Fd=-1,Bd=Fi=0,(et&48)!=0)throw Error(a(327));var c=u.callbackNode;if(Ui()&&u.callbackNode!==c)return null;var g=Su(u,u===er?Wn:0);if(g===0)return null;var b=g,E=et;et|=16;var R=mw();(er!==u||Wn!==b)&&(xo(),Fa(u,b));do try{GP();break}catch(j){pw(u,j)}while(1);if(rg(),Od.current=R,et=E,vn!==null?b=0:(er=null,Wn=0,b=kn),(Oa&Na)!=0)Fa(u,0);else if(b!==0){if(b===2&&(et|=64,u.hydrate&&(u.hydrate=!1,wu(u.containerInfo)),g=o1(u),g!==0&&(b=Wu(u,g))),b===1)throw c=Nd,Fa(u,0),za(u,g),Mr(u,In()),c;switch(u.finishedWork=u.current.alternate,u.finishedLanes=g,b){case 0:case 1:throw Error(a(345));case 2:gs(u);break;case 3:if(za(u,g),(g&62914560)===g&&(b=Ng+500-In(),10<b)){if(Su(u,0)!==0)break;if(E=u.suspendedLanes,(E&g)!==g){mr(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=$e(gs.bind(null,u),b);break}gs(u);break;case 4:if(za(u,g),(g&4186112)===g)break;for(b=u.eventTimes,E=-1;0<g;){var z=31-mo(g);R=1<<z,z=b[z],z>E&&(E=z),g&=~R}if(g=E,g=In()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*UP(g/1960))-g,10<g){u.timeoutHandle=$e(gs.bind(null,u),g);break}gs(u);break;case 5:gs(u);break;default:throw Error(a(329))}}return Mr(u,In()),u.callbackNode===c?fw.bind(null,u):null}function za(u,c){for(c&=~kg,c&=~Na,u.suspendedLanes|=c,u.pingedLanes&=~c,u=u.expirationTimes;0<c;){var g=31-mo(c),b=1<<g;u[g]=-1,c&=~b}}function Vg(u){if((et&48)!=0)throw Error(a(327));if(Ui(),u===er&&(u.expiredLanes&Wn)!=0){var c=Wn,g=Wu(u,c);(Oa&Na)!=0&&(c=Su(u,c),g=Wu(u,c))}else c=Su(u,0),g=Wu(u,c);if(u.tag!==0&&g===2&&(et|=64,u.hydrate&&(u.hydrate=!1,wu(u.containerInfo)),c=o1(u),c!==0&&(g=Wu(u,c))),g===1)throw g=Nd,Fa(u,0),za(u,c),Mr(u,In()),g;return u.finishedWork=u.current.alternate,u.finishedLanes=c,gs(u),Mr(u,In()),null}function HP(){if(zi!==null){var u=zi;zi=null,u.forEach(function(c){c.expiredLanes|=24&c.pendingLanes,Mr(c,In())})}Pr()}function dw(u,c){var g=et;et|=1;try{return u(c)}finally{et=g,et===0&&(xo(),Pr())}}function hw(u,c){var g=et;if((g&48)!=0)return u(c);et|=1;try{if(u)return ki(99,u.bind(null,c))}finally{et=g,Pr()}}function Hd(u,c){At(Dg,ms),ms|=c,Oa|=c}function Gg(){ms=Dg.current,bt(Dg)}function Fa(u,c){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==le&&(u.timeoutHandle=le,pt(g)),vn!==null)for(g=vn.return;g!==null;){var b=g;switch(b.tag){case 1:b=b.type.childContextTypes,b!=null&&nd();break;case 3:Da(),bt(dn),bt(mt),fg();break;case 5:lg(b);break;case 4:Da();break;case 13:bt(en);break;case 19:bt(en);break;case 10:ig(b);break;case 23:case 24:Gg()}g=g.return}er=u,vn=Mo(u.current,null),Wn=ms=Oa=c,kn=0,Nd=null,kg=Na=Fu=0}function pw(u,c){do{var g=vn;try{if(rg(),Au.current=bd,_d){for(var b=on.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}_d=!1}if(Ru=0,Dn=Gn=on=null,Pu=!1,Lg.current=null,g===null||g.return===null){kn=1,Nd=c,vn=null;break}e:{var R=u,z=g.return,j=g,re=c;if(c=Wn,j.flags|=2048,j.firstEffect=j.lastEffect=null,re!==null&&typeof re=="object"&&typeof re.then=="function"){var Pe=re;if((j.mode&2)==0){var Ye=j.alternate;Ye?(j.updateQueue=Ye.updateQueue,j.memoizedState=Ye.memoizedState,j.lanes=Ye.lanes):(j.updateQueue=null,j.memoizedState=null)}var ot=(en.current&1)!=0,Oe=z;do{var Ot;if(Ot=Oe.tag===13){var qt=Oe.memoizedState;if(qt!==null)Ot=qt.dehydrated!==null;else{var Nr=Oe.memoizedProps;Ot=Nr.fallback===void 0?!1:Nr.unstable_avoidThisFallback!==!0?!0:!ot}}if(Ot){var Q=Oe.updateQueue;if(Q===null){var Y=new Set;Y.add(Pe),Oe.updateQueue=Y}else Q.add(Pe);if((Oe.mode&2)==0){if(Oe.flags|=64,j.flags|=16384,j.flags&=-2981,j.tag===1)if(j.alternate===null)j.tag=17;else{var ae=vo(-1,1);ae.tag=2,yo(j,ae)}j.lanes|=1;break e}re=void 0,j=c;var ke=R.pingCache;if(ke===null?(ke=R.pingCache=new kP,re=new Set,ke.set(Pe,re)):(re=ke.get(Pe),re===void 0&&(re=new Set,ke.set(Pe,re))),!re.has(j)){re.add(j);var Ze=XP.bind(null,R,Pe,j);Pe.then(Ze,Ze)}Oe.flags|=4096,Oe.lanes=c;break e}Oe=Oe.return}while(Oe!==null);re=Error((U(j.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}kn!==5&&(kn=2),re=Sg(re,j),Oe=z;do{switch(Oe.tag){case 3:R=re,Oe.flags|=4096,c&=-c,Oe.lanes|=c;var Bt=J1(Oe,R,c);v1(Oe,Bt);break e;case 1:R=re;var at=Oe.type,Rt=Oe.stateNode;if((Oe.flags&64)==0&&(typeof at.getDerivedStateFromError=="function"||Rt!==null&&typeof Rt.componentDidCatch=="function"&&(hi===null||!hi.has(Rt)))){Oe.flags|=4096,c&=-c,Oe.lanes|=c;var hn=K1(Oe,R,c);v1(Oe,hn);break e}}Oe=Oe.return}while(Oe!==null)}vw(g)}catch(St){c=St,vn===g&&g!==null&&(vn=g=g.return);continue}break}while(1)}function mw(){var u=Od.current;return Od.current=bd,u===null?bd:u}function Wu(u,c){var g=et;et|=16;var b=mw();er===u&&Wn===c||Fa(u,c);do try{VP();break}catch(E){pw(u,E)}while(1);if(rg(),et=g,Od.current=b,vn!==null)throw Error(a(261));return er=null,Wn=0,kn}function VP(){for(;vn!==null;)gw(vn)}function GP(){for(;vn!==null&&!_P();)gw(vn)}function gw(u){var c=_w(u.alternate,u,ms);u.memoizedProps=u.pendingProps,c===null?vw(u):vn=c,Lg.current=null}function vw(u){var c=u;do{var g=c.alternate;if(u=c.return,(c.flags&2048)==0){if(g=IP(g,c,ms),g!==null){vn=g;return}if(g=c,g.tag!==24&&g.tag!==23||g.memoizedState===null||(ms&1073741824)!=0||(g.mode&4)==0){for(var b=0,E=g.child;E!==null;)b|=E.lanes|E.childLanes,E=E.sibling;g.childLanes=b}u!==null&&(u.flags&2048)==0&&(u.firstEffect===null&&(u.firstEffect=c.firstEffect),c.lastEffect!==null&&(u.lastEffect!==null&&(u.lastEffect.nextEffect=c.firstEffect),u.lastEffect=c.lastEffect),1<c.flags&&(u.lastEffect!==null?u.lastEffect.nextEffect=c:u.firstEffect=c,u.lastEffect=c))}else{if(g=DP(c),g!==null){g.flags&=2047,vn=g;return}u!==null&&(u.firstEffect=u.lastEffect=null,u.flags|=2048)}if(c=c.sibling,c!==null){vn=c;return}vn=c=u}while(c!==null);kn===0&&(kn=5)}function gs(u){var c=Ra();return ki(99,WP.bind(null,u,c)),null}function WP(u,c){do Ui();while(Bu!==null);if((et&48)!=0)throw Error(a(327));var g=u.finishedWork;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(a(177));u.callbackNode=null;var b=g.lanes|g.childLanes,E=b,R=u.pendingLanes&~E;u.pendingLanes=E,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=E,u.mutableReadLanes&=E,u.entangledLanes&=E,E=u.entanglements;for(var z=u.eventTimes,j=u.expirationTimes;0<R;){var re=31-mo(R),Pe=1<<re;E[re]=0,z[re]=-1,j[re]=-1,R&=~Pe}if(zi!==null&&(b&24)==0&&zi.has(u)&&zi.delete(u),u===er&&(vn=er=null,Wn=0),1<g.flags?g.lastEffect!==null?(g.lastEffect.nextEffect=g,b=g.firstEffect):b=g:b=g.firstEffect,b!==null){E=et,et|=32,Lg.current=null,Vu=te(u.containerInfo),Gu=!1,Ue=b;do try{$P()}catch(Y){if(Ue===null)throw Error(a(330));So(Ue,Y),Ue=Ue.nextEffect}while(Ue!==null);Vu=null,Ue=b;do try{for(z=u;Ue!==null;){var Ye=Ue.flags;if(Ye&16&&xe&&Kn(Ue.stateNode),Ye&128){var ot=Ue.alternate;if(ot!==null){var Oe=ot.ref;Oe!==null&&(typeof Oe=="function"?Oe(null):Oe.current=null)}}switch(Ye&1038){case 2:aw(Ue),Ue.flags&=-3;break;case 6:aw(Ue),Ue.flags&=-3,Tg(Ue.alternate,Ue);break;case 1024:Ue.flags&=-1025;break;case 1028:Ue.flags&=-1025,Tg(Ue.alternate,Ue);break;case 4:Tg(Ue.alternate,Ue);break;case 8:j=z,R=Ue,xe?lw(j,R):iw(j,R);var Ot=R.alternate;ow(R),Ot!==null&&ow(Ot)}Ue=Ue.nextEffect}}catch(Y){if(Ue===null)throw Error(a(330));So(Ue,Y),Ue=Ue.nextEffect}while(Ue!==null);Gu&&B(),ie(u.containerInfo),u.current=g,Ue=b;do try{for(Ye=u;Ue!==null;){var qt=Ue.flags;if(qt&36&&zP(Ye,Ue.alternate,Ue),qt&128){ot=void 0;var Nr=Ue.ref;if(Nr!==null){var Q=Ue.stateNode;switch(Ue.tag){case 5:ot=Me(Q);break;default:ot=Q}typeof Nr=="function"?Nr(ot):Nr.current=ot}}Ue=Ue.nextEffect}}catch(Y){if(Ue===null)throw Error(a(330));So(Ue,Y),Ue=Ue.nextEffect}while(Ue!==null);Ue=null,SP(),et=E}else u.current=g;if(_o)_o=!1,Bu=u,Uu=c;else for(Ue=b;Ue!==null;)c=Ue.nextEffect,Ue.nextEffect=null,Ue.flags&8&&(qt=Ue,qt.sibling=null,qt.stateNode=null),Ue=c;if(b=u.pendingLanes,b===0&&(hi=null),b===1?u===Hg?Hu++:(Hu=0,Hg=u):Hu=0,g=g.stateNode,cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(Zm,g,void 0,(g.current.flags&64)==64)}catch{}if(Mr(u,In()),zd)throw zd=!1,u=Fg,Fg=null,u;return(et&8)!=0||Pr(),null}function $P(){for(;Ue!==null;){var u=Ue.alternate;Gu||Vu===null||((Ue.flags&8)!=0?de(Ue,Vu)&&(Gu=!0,lt()):Ue.tag===13&&FP(u,Ue)&&de(Ue,Vu)&&(Gu=!0,lt()));var c=Ue.flags;(c&256)!=0&&NP(u,Ue),(c&512)==0||_o||(_o=!0,Mu(97,function(){return Ui(),null})),Ue=Ue.nextEffect}}function Ui(){if(Uu!==90){var u=97<Uu?97:Uu;return Uu=90,ki(u,qP)}return!1}function jP(u,c){Bg.push(c,u),_o||(_o=!0,Mu(97,function(){return Ui(),null}))}function yw(u,c){Ug.push(c,u),_o||(_o=!0,Mu(97,function(){return Ui(),null}))}function qP(){if(Bu===null)return!1;var u=Bu;if(Bu=null,(et&48)!=0)throw Error(a(331));var c=et;et|=32;var g=Ug;Ug=[];for(var b=0;b<g.length;b+=2){var E=g[b],R=g[b+1],z=E.destroy;if(E.destroy=void 0,typeof z=="function")try{z()}catch(re){if(R===null)throw Error(a(330));So(R,re)}}for(g=Bg,Bg=[],b=0;b<g.length;b+=2){E=g[b],R=g[b+1];try{var j=E.create;E.destroy=j()}catch(re){if(R===null)throw Error(a(330));So(R,re)}}for(j=u.current.firstEffect;j!==null;)u=j.nextEffect,j.nextEffect=null,j.flags&8&&(j.sibling=null,j.stateNode=null),j=u;return et=c,Pr(),!0}function xw(u,c,g){c=Sg(g,c),c=J1(u,c,1),yo(u,c),c=mr(),u=Ud(u,1),u!==null&&(sd(u,1,c),Mr(u,c))}function So(u,c){if(u.tag===3)xw(u,u,c);else for(var g=u.return;g!==null;){if(g.tag===3){xw(g,u,c);break}else if(g.tag===1){var b=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(hi===null||!hi.has(b))){u=Sg(c,u);var E=K1(g,u,1);if(yo(g,E),E=mr(),g=Ud(g,1),g!==null)sd(g,1,E),Mr(g,E);else if(typeof b.componentDidCatch=="function"&&(hi===null||!hi.has(b)))try{b.componentDidCatch(c,u)}catch{}break}}g=g.return}}function XP(u,c,g){var b=u.pingCache;b!==null&&b.delete(c),c=mr(),u.pingedLanes|=u.suspendedLanes&g,er===u&&(Wn&g)===g&&(kn===4||kn===3&&(Wn&62914560)===Wn&&500>In()-Ng?Fa(u,0):kg|=g),Mr(u,c)}function YP(u,c){var g=u.stateNode;g!==null&&g.delete(c),c=0,c===0&&(c=u.mode,(c&2)==0?c=1:(c&4)==0?c=Ra()===99?1:2:(Fi===0&&(Fi=Oa),c=Aa(62914560&~Fi),c===0&&(c=4194304))),g=mr(),u=Ud(u,c),u!==null&&(sd(u,c,g),Mr(u,g))}var _w;_w=function(u,c,g){var b=c.lanes;if(u!==null)if(u.memoizedProps!==c.pendingProps||dn.current)Yr=!0;else if((g&b)!=0)Yr=(u.flags&16384)!=0;else{switch(Yr=!1,c.tag){case 3:W1(c),cg();break;case 5:E1(c);break;case 1:dr(c.type)&&rd(c);break;case 4:ag(c,c.stateNode.containerInfo);break;case 10:p1(c,c.memoizedProps.value);break;case 13:if(c.memoizedState!==null)return(g&c.child.childLanes)!=0?$1(u,c,g):(At(en,en.current&1),c=Ni(u,c,g),c!==null?c.sibling:null);At(en,en.current&1);break;case 19:if(b=(g&c.childLanes)!=0,(u.flags&64)!=0){if(b)return Z1(u,c,g);c.flags|=64}var E=c.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),At(en,en.current),b)break;return null;case 23:case 24:return c.lanes=0,yg(u,c,g)}return Ni(u,c,g)}else Yr=!1;switch(c.lanes=0,c.tag){case 2:if(b=c.type,u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps,E=Ca(c,mt.current),La(c,g),E=hg(null,c,b,u,E,g),c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0){if(c.tag=1,c.memoizedState=null,c.updateQueue=null,dr(b)){var R=!0;rd(c)}else R=!1;c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,og(c);var z=b.getDerivedStateFromProps;typeof z=="function"&&hd(c,b,z,u),E.updater=pd,c.stateNode=E,E._reactInternals=c,sg(c,b,u,g),c=_g(null,c,b,!0,R,g)}else c.tag=0,pr(null,c,E,g),c=c.child;return c;case 16:E=c.elementType;e:{switch(u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps,R=E._init,E=R(E._payload),c.type=E,R=c.tag=QP(E),u=Xr(E,u),R){case 0:c=xg(null,c,E,u,g);break e;case 1:c=G1(null,c,E,u,g);break e;case 11:c=B1(null,c,E,u,g);break e;case 14:c=U1(null,c,E,Xr(E.type,u),b,g);break e}throw Error(a(306,E,""))}return c;case 0:return b=c.type,E=c.pendingProps,E=c.elementType===b?E:Xr(b,E),xg(u,c,b,E,g);case 1:return b=c.type,E=c.pendingProps,E=c.elementType===b?E:Xr(b,E),G1(u,c,b,E,g);case 3:if(W1(c),b=c.updateQueue,u===null||b===null)throw Error(a(282));if(b=c.pendingProps,E=c.memoizedState,E=E!==null?E.element:null,g1(u,c),bu(c,b,null,g),b=c.memoizedState.element,b===E)cg(),c=Ni(u,c,g);else{if(E=c.stateNode,(R=E.hydrate)&&(_e?(ds=rt(c.stateNode.containerInfo),Oi=c,R=ci=!0):R=!1),R){if(_e&&(u=E.mutableSourceEagerHydrationData,u!=null))for(E=0;E<u.length;E+=2)R=u[E],z=u[E+1],ve?R._workInProgressVersionPrimary=z:R._workInProgressVersionSecondary=z,ka.push(R);for(g=b1(c,null,b,g),c.child=g;g;)g.flags=g.flags&-3|1024,g=g.sibling}else pr(u,c,b,g),cg();c=c.child}return c;case 5:return E1(c),u===null&&ug(c),b=c.type,E=c.pendingProps,R=u!==null?u.memoizedProps:null,z=E.children,Fe(b,E)?z=null:R!==null&&Fe(b,R)&&(c.flags|=16),V1(u,c),pr(u,c,z,g),c.child;case 6:return u===null&&ug(c),null;case 13:return $1(u,c,g);case 4:return ag(c,c.stateNode.containerInfo),b=c.pendingProps,u===null?c.child=vd(c,null,b,g):pr(u,c,b,g),c.child;case 11:return b=c.type,E=c.pendingProps,E=c.elementType===b?E:Xr(b,E),B1(u,c,b,E,g);case 7:return pr(u,c,c.pendingProps,g),c.child;case 8:return pr(u,c,c.pendingProps.children,g),c.child;case 12:return pr(u,c,c.pendingProps.children,g),c.child;case 10:e:{if(b=c.type._context,E=c.pendingProps,z=c.memoizedProps,R=E.value,p1(c,R),z!==null){var j=z.value;if(R=Lr(j,R)?0:(typeof b._calculateChangedBits=="function"?b._calculateChangedBits(j,R):1073741823)|0,R===0){if(z.children===E.children&&!dn.current){c=Ni(u,c,g);break e}}else for(j=c.child,j!==null&&(j.return=c);j!==null;){var re=j.dependencies;if(re!==null){z=j.child;for(var Pe=re.firstContext;Pe!==null;){if(Pe.context===b&&(Pe.observedBits&R)!=0){j.tag===1&&(Pe=vo(-1,g&-g),Pe.tag=2,yo(j,Pe)),j.lanes|=g,Pe=j.alternate,Pe!==null&&(Pe.lanes|=g),m1(j.return,g),re.lanes|=g;break}Pe=Pe.next}}else z=j.tag===10&&j.type===c.type?null:j.child;if(z!==null)z.return=j;else for(z=j;z!==null;){if(z===c){z=null;break}if(j=z.sibling,j!==null){j.return=z.return,z=j;break}z=z.return}j=z}}pr(u,c,E.children,g),c=c.child}return c;case 9:return E=c.type,R=c.pendingProps,b=R.children,La(c,g),E=Ir(E,R.unstable_observedBits),b=b(E),c.flags|=1,pr(u,c,b,g),c.child;case 14:return E=c.type,R=Xr(E,c.pendingProps),R=Xr(E.type,R),U1(u,c,E,R,b,g);case 15:return H1(u,c,c.type,c.pendingProps,b,g);case 17:return b=c.type,E=c.pendingProps,E=c.elementType===b?E:Xr(b,E),u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,dr(b)?(u=!0,rd(c)):u=!1,La(c,g),w1(c,b,E),sg(c,b,E,g),_g(null,c,b,!0,u,g);case 19:return Z1(u,c,g);case 23:return yg(u,c,g);case 24:return yg(u,c,g)}throw Error(a(156,c.tag))};var Vd={current:!1},Wg=s.unstable_flushAllWithoutAsserting,ww=typeof Wg=="function";function $g(){if(Wg!==void 0)return Wg();for(var u=!1;Ui();)u=!0;return u}function Sw(u){try{$g(),BP(function(){$g()?Sw(u):u()})}catch(c){u(c)}}var Gd=0,Mw=!1;function ZP(u,c,g,b){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(u,c,g,b){return new ZP(u,c,g,b)}function jg(u){return u=u.prototype,!(!u||!u.isReactComponent)}function QP(u){if(typeof u=="function")return jg(u)?1:0;if(u!=null){if(u=u.$$typeof,u===w)return 11;if(u===S)return 14}return 2}function Mo(u,c){var g=u.alternate;return g===null?(g=Or(u.tag,c,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=c,g.type=u.type,g.flags=0,g.nextEffect=null,g.firstEffect=null,g.lastEffect=null),g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,c=u.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Wd(u,c,g,b,E,R){var z=2;if(b=u,typeof u=="function")jg(u)&&(z=1);else if(typeof u=="string")z=5;else e:switch(u){case p:return Ba(g.children,E,R,c);case A:z=8,E|=16;break;case d:z=8,E|=1;break;case m:return u=Or(12,g,c,E|8),u.elementType=m,u.type=m,u.lanes=R,u;case y:return u=Or(13,g,c,E),u.type=y,u.elementType=y,u.lanes=R,u;case v:return u=Or(19,g,c,E),u.elementType=v,u.lanes=R,u;case T:return qg(g,E,R,c);case P:return u=Or(24,g,c,E),u.elementType=P,u.lanes=R,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case x:z=10;break e;case _:z=9;break e;case w:z=11;break e;case S:z=14;break e;case M:z=16,b=null;break e;case C:z=22;break e}throw Error(a(130,u==null?u:typeof u,""))}return c=Or(z,g,c,E),c.elementType=u,c.type=b,c.lanes=R,c}function Ba(u,c,g,b){return u=Or(7,u,b,c),u.lanes=g,u}function qg(u,c,g,b){return u=Or(23,u,b,c),u.elementType=T,u.lanes=g,u}function Xg(u,c,g){return u=Or(6,u,null,c),u.lanes=g,u}function Yg(u,c,g){return c=Or(4,u.children!==null?u.children:[],u.key,c),c.lanes=g,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function JP(u,c,g){this.tag=c,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=le,this.pendingContext=this.context=null,this.hydrate=g,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),_e&&(this.mutableSourceEagerHydrationData=null)}function bw(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(a(188)):Error(a(268,Object.keys(u)));return u=q(c),u===null?null:u.stateNode}function Ew(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<c?g:c}}function $d(u,c){Ew(u,c),(u=u.alternate)&&Ew(u,c)}function KP(u){return u=q(u),u===null?null:u.stateNode}function eL(){return null}return r.IsThisRendererActing=Vd,r.act=function(u){function c(){Gd--,Ig.current=g,Vd.current=b}Mw===!1&&(Mw=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Gd++;var g=Ig.current,b=Vd.current;Ig.current=!0,Vd.current=!0;try{var E=dw(u)}catch(R){throw c(),R}if(E!==null&&typeof E=="object"&&typeof E.then=="function")return{then:function(R,z){E.then(function(){1<Gd||ww===!0&&g===!0?(c(),R()):Sw(function(j){c(),j?z(j):R()})},function(j){c(),z(j)})}};try{Gd!==1||ww!==!1&&g!==!1||$g(),c()}catch(R){throw c(),R}return{then:function(R){R()}}},r.attemptContinuousHydration=function(u){if(u.tag===13){var c=mr();Bi(u,67108864,c),$d(u,67108864)}},r.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var c=mr(),g=wo(u);Bi(u,g,c),$d(u,g)}},r.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var c=u.stateNode;if(c.hydrate){var g=fs(c.pendingLanes);c.expiredLanes|=g&c.pendingLanes,Mr(c,In()),(et&48)==0&&(xo(),Pr())}break;case 13:var b=mr();hw(function(){return Bi(u,1,b)}),$d(u,4)}},r.attemptUserBlockingHydration=function(u){if(u.tag===13){var c=mr();Bi(u,4,c),$d(u,4)}},r.batchedEventUpdates=function(u,c){var g=et;et|=2;try{return u(c)}finally{et=g,et===0&&(xo(),Pr())}},r.batchedUpdates=dw,r.createComponentSelector=function(u){return{$$typeof:Rd,value:u}},r.createContainer=function(u,c,g){return u=new JP(u,c,g),c=Or(3,null,null,c===2?7:c===1?3:0),u.current=c,c.stateNode=u,og(c),u},r.createHasPsuedoClassSelector=function(u){return{$$typeof:Pd,value:u}},r.createPortal=function(u,c,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:b==null?null:""+b,children:u,containerInfo:c,implementation:g}},r.createRoleSelector=function(u){return{$$typeof:Ld,value:u}},r.createTestNameSelector=function(u){return{$$typeof:Id,value:u}},r.createTextSelector=function(u){return{$$typeof:Dd,value:u}},r.deferredUpdates=function(u){return ki(97,u)},r.discreteUpdates=function(u,c,g,b,E){var R=et;et|=4;try{return ki(98,u.bind(null,c,g,b,E))}finally{et=R,et===0&&(xo(),Pr())}},r.findAllNodes=Pg,r.findBoundingRects=function(u,c){if(!fe)throw Error(a(363));c=Pg(u,c),u=[];for(var g=0;g<c.length;g++)u.push(ze(c[g]));for(c=u.length-1;0<c;c--){g=u[c];for(var b=g.x,E=b+g.width,R=g.y,z=R+g.height,j=c-1;0<=j;j--)if(c!==j){var re=u[j],Pe=re.x,Ye=Pe+re.width,ot=re.y,Oe=ot+re.height;if(b>=Pe&&R>=ot&&E<=Ye&&z<=Oe){u.splice(c,1);break}else if(b!==Pe||g.width!==re.width||Oe<R||ot>z){if(!(R!==ot||g.height!==re.height||Ye<b||Pe>E)){Pe>b&&(re.width+=Pe-b,re.x=b),Ye<E&&(re.width=E-Pe),u.splice(c,1);break}}else{ot>R&&(re.height+=ot-R,re.y=R),Oe<z&&(re.height=z-ot),u.splice(c,1);break}}}return u},r.findHostInstance=bw,r.findHostInstanceWithNoPortals=function(u){return u=Z(u),u===null?null:u.tag===20?u.stateNode.instance:u.stateNode},r.findHostInstanceWithWarning=function(u){return bw(u)},r.flushControlled=function(u){var c=et;et|=1;try{ki(99,u)}finally{et=c,et===0&&(xo(),Pr())}},r.flushDiscreteUpdates=function(){(et&49)==0&&(HP(),Ui())},r.flushPassiveEffects=Ui,r.flushSync=hw,r.focusWithin=function(u,c){if(!fe)throw Error(a(363));for(u=Cg(u),c=cw(u,c),c=Array.from(c),u=0;u<c.length;){var g=c[u++];if(!X(g)){if(g.tag===5&&ge(g.stateNode))return!0;for(g=g.child;g!==null;)c.push(g),g=g.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return id},r.getFindAllNodesFailureDescription=function(u,c){if(!fe)throw Error(a(363));var g=0,b=[];u=[Cg(u),0];for(var E=0;E<u.length;){var R=u[E++],z=u[E++],j=c[z];if((R.tag!==5||!X(R))&&(Ag(R,j)&&(b.push(Rg(j)),z++,z>g&&(g=z)),z<c.length))for(R=R.child;R!==null;)u.push(R,z),R=R.sibling}if(g<c.length){for(u=[];g<c.length;g++)u.push(Rg(c[g]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},r.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return Me(u.child.stateNode);default:return u.child.stateNode}},r.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:KP,findFiberByHostInstance:u.findFiberByHostInstance||eL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")u=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c.isDisabled&&c.supportsFiber)try{Zm=c.inject(u),cs=c}catch{}u=!0}return u},r.observeVisibleRects=function(u,c,g,b){if(!fe)throw Error(a(363));u=Pg(u,c);var E=Ce(u,g,b).disconnect;return{disconnect:function(){E()}}},r.registerMutableSourceForHydration=function(u,c){var g=c._getVersion;g=g(c._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[c,g]:u.mutableSourceEagerHydrationData.push(c,g)},r.runWithPriority=function(u,c){var g=id;try{return id=u,c()}finally{id=g}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(u,c){var g=et;et&=-2,et|=8;try{return u(c)}finally{et=g,et===0&&(xo(),Pr())}},r.updateContainer=function(u,c,g,b){var E=c.current,R=mr(),z=wo(E);e:if(g){g=g._reactInternals;t:{if(H(g)!==g||g.tag!==1)throw Error(a(170));var j=g;do{switch(j.tag){case 3:j=j.stateNode.context;break t;case 1:if(dr(j.type)){j=j.stateNode.__reactInternalMemoizedMergedChildContext;break t}}j=j.return}while(j!==null);throw Error(a(171))}if(g.tag===1){var re=g.type;if(dr(re)){g=r1(g,re,j);break e}}g=j}else g=Ln;return c.context===null?c.context=g:c.pendingContext=g,c=vo(R,z),c.payload={element:u},b=b===void 0?null:b,b!==null&&(c.callback=b),yo(E,c),Bi(E,z,R),z},r}})(q2);j2.exports=q2.exports;var P4=j2.exports;function L4(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function i_(n,e,t){var r,i,o,s,a;e==null&&(e=100);function l(){var h=Date.now()-s;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,t||(a=n.apply(o,i),o=i=null))}var f=function(){o=this,i=arguments,s=Date.now();var h=t&&!r;return r||(r=setTimeout(l,e)),h&&(a=n.apply(o,i),o=i=null),a};return f.clear=function(){r&&(clearTimeout(r),r=null)},f.flush=function(){r&&(a=n.apply(o,i),o=i=null,clearTimeout(r),r=null)},f}i_.debounce=i_;var X2=i_;function I4(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const o=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=L.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=L.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),f=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,p=L.exports.useRef(!1);L.exports.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[d,m,x]=L.exports.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:S,top:M,width:C,height:A,bottom:T,right:P,x:k,y:F}=l.current.element.getBoundingClientRect(),D={left:S,top:M,width:C,height:A,bottom:T,right:P,x:k,y:F};l.current.element instanceof HTMLElement&&i&&(D.height=l.current.element.offsetHeight,D.width=l.current.element.offsetWidth),Object.freeze(D),p.current&&!N4(l.current.lastBounds,D)&&a(l.current.lastBounds=D)};return[v,h?X2(v,h):v,f?X2(v,f):v]},[a,i,f,h]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function w(){!l.current.element||(l.current.resizeObserver=new o(x),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",x,{capture:!0,passive:!0})))}const y=v=>{!v||v===l.current.element||(_(),l.current.element=v,l.current.scrollContainers=Y2(v),w())};return k4(x,Boolean(t)),D4(m),L.exports.useEffect(()=>{_(),w()},[t,x,m]),L.exports.useEffect(()=>_,[]),[y,s,d]}function D4(n){L.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function k4(n,e){L.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Y2(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...Y2(n.parentElement)]}const O4=["x","y","top","bottom","left","right","width","height"],N4=(n,e)=>O4.every(t=>n[t]===e[t]),zt={obj:n=>n===Object(n)&&!zt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(zt.str(n)||zt.num(n)||zt.obj(n))return n===e;if(zt.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return zt.und(t)?n===e:!0}};function o_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Z2(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function z4(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Z2(t.capturedMap,e,r,i)})}function F4(n){const e=new I;function t(p){var d;const m=n.getState(),{raycaster:x,mouse:_,camera:w,size:y}=m,{offsetX:v,offsetY:S}=(d=x.computeOffsets==null?void 0:x.computeOffsets(p,m))!=null?d:p,{width:M,height:C}=y;_.set(v/M*2-1,-(S/C)*2+1),x.setFromCamera(_,w)}function r(p){const{internal:d}=n.getState(),m=p.offsetX-d.initialClick[0],x=p.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+x*x))}function i(p){return p.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var x;return(x=d.__r3f)==null?void 0:x.handlers["onPointer"+m]}))}function o(p){const d=n.getState(),{raycaster:m,internal:x}=d;if(!m.enabled)return[];const _=new Set,w=[],y=p?p(x.interaction):x.interaction;let v=m.intersectObjects(y,!0).filter(M=>{const C=o_(M);return _.has(C)?!1:(_.add(C),!0)});m.filter&&(v=m.filter(v,d));for(const M of v){let C=M.object;for(;C;){var S;(S=C.__r3f)!=null&&S.eventCount&&w.push(gt(Te({},M),{eventObject:C})),C=C.parent}}return w}function s(p,d){const{internal:m}=n.getState();if("pointerId"in d&&m.capturedMap.has(d.pointerId))for(let x of m.capturedMap.get(d.pointerId).values())p.push(x.intersection);return p}function a(p,d,m,x){const{raycaster:_,mouse:w,camera:y,internal:v}=n.getState();if(p.length){const S=e.set(w.x,w.y,0).unproject(y),M={stopped:!1};for(const C of p){const A=D=>{var U,H;return(U=(H=v.capturedMap.get(D))==null?void 0:H.has(C.eventObject))!=null?U:!1},T=D=>{const U={intersection:C,target:d.target};v.capturedMap.has(D)?v.capturedMap.get(D).set(C.eventObject,U):v.capturedMap.set(D,new Map([[C.eventObject,U]])),d.target.setPointerCapture(D)},P=D=>{const U=v.capturedMap.get(D);U&&Z2(v.capturedMap,C.eventObject,U,D)};let k={};for(let D in d){let U=d[D];typeof U!="function"&&(k[D]=U)}let F=gt(Te(Te({},C),k),{spaceX:w.x,spaceY:w.y,intersections:p,stopped:M.stopped,delta:m,unprojectedPoint:S,ray:_.ray,camera:y,stopPropagation:()=>{const D="pointerId"in d&&v.capturedMap.get(d.pointerId);if((!D||D.has(C.eventObject))&&(F.stopped=M.stopped=!0,v.hovered.size&&Array.from(v.hovered.values()).find(U=>U.eventObject===C.eventObject))){const U=p.slice(0,p.indexOf(C));l([...U,C])}},target:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:P},currentTarget:{hasPointerCapture:A,setPointerCapture:T,releasePointerCapture:P},sourceEvent:d,nativeEvent:d});if(x(F),M.stopped===!0)break}}return p}function l(p){const{internal:d}=n.getState();Array.from(d.hovered.values()).forEach(m=>{if(!p.length||!p.find(x=>x.object===m.object&&x.index===m.index&&x.instanceId===m.instanceId)){const _=m.eventObject.__r3f,w=_==null?void 0:_.handlers;if(d.hovered.delete(o_(m)),_!=null&&_.eventCount){const y=gt(Te({},m),{intersections:p||[]});w.onPointerOut==null||w.onPointerOut(y),w.onPointerLeave==null||w.onPointerLeave(y)}}})}const f=p=>{switch(p){case"onPointerLeave":case"onPointerCancel":return()=>l([]);case"onLostPointerCapture":return d=>{const{internal:m}=n.getState();"pointerId"in d&&!m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),l([]))}}return d=>{const{onPointerMissed:m,internal:x}=n.getState();t(d),x.lastEvent.current=d;const _=p==="onPointerMove",w=p==="onClick"||p==="onContextMenu"||p==="onDoubleClick",v=s(o(_?i:void 0),d),S=w?r(d):0;p==="onPointerDown"&&(x.initialClick=[d.offsetX,d.offsetY],x.initialHits=v.map(M=>M.eventObject)),w&&!v.length&&S<=2&&(h(d,x.interaction),m&&m(d)),_&&l(v),a(v,d,S,M=>{const C=M.eventObject,A=C.__r3f,T=A==null?void 0:A.handlers;if(!!(A!=null&&A.eventCount))if(_){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const P=o_(M),k=x.hovered.get(P);k?k.stopped&&M.stopPropagation():(x.hovered.set(P,M),T.onPointerOver==null||T.onPointerOver(M),T.onPointerEnter==null||T.onPointerEnter(M))}T.onPointerMove==null||T.onPointerMove(M)}else{const P=T[p];P?(!w||x.initialHits.includes(C))&&(h(d,x.interaction.filter(k=>!x.initialHits.includes(k))),P(M)):w&&x.initialHits.includes(C)&&h(d,x.interaction.filter(k=>!x.initialHits.includes(k)))}})}};function h(p,d){d.forEach(m=>{var x;return(x=m.__r3f)==null||x.handlers.onPointerMissed==null?void 0:x.handlers.onPointerMissed(p)})}return{handlePointer:f}}const B4=n=>n&&!!n.memoized&&!!n.changes,Sm=n=>n&&!!n.getState,s_=(n,e)=>{var t,r;return{root:Sm(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:Sm(n)?n.getState().scene:n}},Q2="__default",U4={};let a_={},b8=n=>void(a_=Te(Te({},a_),n));function H4(n,e){return!!(zt.arr(n)&&zt.equ(n,e)||n===e)}function uu(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=Te({root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function V4(n){function e(d,A,P={},C=!1){var T=A,{children:m,key:x,ref:_}=T,w=Nt(T,["children","key","ref"]);var k=P,{children:y,key:v,ref:S}=k,M=Nt(k,["children","key","ref"]);var F;const D=(F=d==null?void 0:d.__r3f)!=null?F:{},U=Object.entries(w),H=[];if(C){const $=Object.keys(M);for(let q=0;q<$.length;q++)w.hasOwnProperty($[q])||U.unshift([$[q],Q2+"remove"])}U.forEach(([$,q])=>{var Z;if((Z=d.__r3f)!=null&&Z.primitive&&$==="object"||H4(q,M[$]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test($))return H.push([$,q,!0,[]]);let de=[];$.includes("-")&&(de=$.split("-")),H.push([$,q,!1,de])});const W=Te({},w);return D.memoizedProps&&D.memoizedProps.args&&(W.args=D.memoizedProps.args),D.memoizedProps&&D.memoizedProps.attach&&(W.attach=D.memoizedProps.attach),{accumulative:C,memoized:W,changes:H}}function t(d,m){var x,_,w;const y=(x=d==null?void 0:d.__r3f)!=null?x:{},v=y.root,S=(_=v==null||v.getState==null?void 0:v.getState())!=null?_:{},{memoized:M,changes:C}=B4(m)?m:e(d,m),A=y.eventCount;if(d.__r3f&&(d.__r3f.memoizedProps=M),C.forEach(([T,P,k,F])=>{let D=d,U=D[T];if(F.length&&(U=F.reduce((H,W)=>H[W],d),!(U&&U.set))){const[H,...W]=F.reverse();D=W.reverse().reduce(($,q)=>$[q],d),T=H}if(P===Q2+"remove")if(U&&U.constructor)P=new U.constructor(M.args);else if(D.constructor){const H=new D.constructor(D.__r3f.memoizedProps.args);P=H[U],H.dispose&&H.dispose()}else P=0;if(k)P?y.handlers[T]=P:delete y.handlers[T],y.eventCount=Object.keys(y.handlers).length;else if(U&&U.set&&(U.copy||U instanceof Pl)){if(Array.isArray(P))U.fromArray?U.fromArray(P):U.set(...P);else if(U.copy&&P&&P.constructor&&U.constructor.name===P.constructor.name)U.copy(P);else if(P!==void 0){const H=U instanceof Le;!H&&U.setScalar?U.setScalar(P):U instanceof Pl&&P instanceof Pl?U.mask=P.mask:U.set(P),!S.linear&&H&&U.convertSRGBToLinear()}}else D[T]=P,!S.linear&&D[T]instanceof mn&&(D[T].encoding=Ws);r(d)}),y.parent&&S.internal&&d.raycast&&A!==y.eventCount){const T=S.internal.interaction.indexOf(d);T>-1&&S.internal.interaction.splice(T,1),y.eventCount&&S.internal.interaction.push(d)}return C.length&&(w=d.__r3f)!=null&&w.parent&&i(d),d}function r(d){var m,x;const _=(m=d.__r3f)==null||(x=m.root)==null||x.getState==null?void 0:x.getState();_&&_.internal.frames===0&&_.invalidate()}function i(d){d.onUpdate==null||d.onUpdate(d)}function o(d,v,_,w,y){var S=v,{args:m=[]}=S,x=Nt(S,["args"]);let M=`${d[0].toUpperCase()}${d.slice(1)}`,C;if(!Sm(_)&&y){const A=T=>T.return?A(T.return):T.stateNode&&T.stateNode.containerInfo;_=A(y)}if(!_||!Sm(_))throw`No valid root for ${M}!`;if(d==="primitive"){if(x.object===void 0)throw"Primitives without 'object' are invalid!";const A=x.object;C=uu(A,{root:_,primitive:!0})}else{const A=a_[M]||C4[M];if(!A)throw`${M} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(m))throw"The args prop must be an array!";C=uu(new A(...m),{root:_,memoizedProps:{args:m.length===0?null:m}})}return"attachFns"in x||(M.endsWith("Geometry")?x=Te({attach:"geometry"},x):M.endsWith("Material")&&(x=Te({attach:"material"},x))),t(C,x),C}function s(d,m){let x=!1;if(m){if(m.attachArray)zt.arr(d[m.attachArray])||(d[m.attachArray]=[]),d[m.attachArray].push(m);else if(m.attachObject)zt.obj(d[m.attachObject[0]])||(d[m.attachObject[0]]={}),d[m.attachObject[0]][m.attachObject[1]]=m;else if(m.attach&&!zt.fun(m.attach))d[m.attach]=m;else if(zt.arr(m.attachFns)){const[_]=m.attachFns;zt.str(_)&&zt.fun(d[_])?d[_](m):zt.fun(_)&&_(m,d)}else m.isObject3D&&d.isObject3D&&(d.add(m),x=!0);x||d.__r3f.objects.push(m),m.__r3f||uu(m,{}),m.__r3f.parent=d,i(m),r(m)}}function a(d,m,x){let _=!1;if(m){if(m.attachArray){const w=d[m.attachArray];zt.arr(w)||(d[m.attachArray]=[]),w.splice(w.indexOf(x),0,m)}else{if(m.attachObject||m.attach&&!zt.fun(m.attach))return s(d,m);if(m.isObject3D&&d.isObject3D){m.parent=d,m.dispatchEvent({type:"added"});const w=d.children.filter(v=>v!==m),y=w.indexOf(x);d.children=[...w.slice(0,y),m,...w.slice(y)],_=!0}}_||d.__r3f.objects.push(m),m.__r3f||uu(m,{}),m.__r3f.parent=d,i(m),r(m)}}function l(d,m,x=!1){d&&[...d].forEach(_=>f(m,_,x))}function f(d,m,x){if(m){var _,w;if(m.__r3f&&(m.__r3f.parent=null),(_=d.__r3f)!=null&&_.objects&&(d.__r3f.objects=d.__r3f.objects.filter(C=>C!==m)),m.attachArray)d[m.attachArray]=d[m.attachArray].filter(C=>C!==m);else if(m.attachObject)delete d[m.attachObject[0]][m.attachObject[1]];else if(m.attach&&!zt.fun(m.attach)&&d[m.attach]===m)d[m.attach]=null;else if(zt.arr(m.attachFns)){const[,C]=m.attachFns;zt.str(C)&&zt.fun(d[C])?d[C](m):zt.fun(C)&&C(m,d)}else if(m.isObject3D&&d.isObject3D){var y;d.remove(m),(y=m.__r3f)!=null&&y.root&&z4(m.__r3f.root,m)}const S=(w=m.__r3f)==null?void 0:w.primitive,M=x===void 0?m.dispose!==null&&!S:x;if(!S){var v;l((v=m.__r3f)==null?void 0:v.objects,m,M),l(m.children,m,M)}m.__r3f&&(delete m.__r3f.root,delete m.__r3f.objects,delete m.__r3f.handlers,delete m.__r3f.memoizedProps,S||delete m.__r3f),M&&m.dispose&&m.type!=="Scene"&&Va.exports.unstable_runWithPriority(Va.exports.unstable_IdlePriority,()=>{try{m.dispose()}catch{}}),r(d)}}function h(d,m,x,_){var w;const y=(w=d.__r3f)==null?void 0:w.parent;if(!y)return;const v=o(m,x,d.__r3f.root);m!=="primitive"&&d.children&&(d.children.forEach(S=>s(v,S)),d.children=[]),d.__r3f.objects.forEach(S=>s(v,S)),d.__r3f.objects=[],f(y,d),s(y,v),[_,_.alternate].forEach(S=>{S!==null&&(S.stateNode=v,S.ref&&(typeof S.ref=="function"?S.ref(v):S.ref.current=v))})}return{reconciler:P4({now:Va.exports.unstable_now,createInstance:o,removeChild:f,appendChild:s,appendInitialChild:s,insertBefore:a,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:zt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:zt.fun(clearTimeout)?clearTimeout:void 0,setTimeout:zt.fun(setTimeout)?setTimeout:void 0,clearTimeout:zt.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(d,m)=>{const{container:x,root:_}=s_(d,m);x.__r3f.root=_,s(x,m)},removeChildFromContainer:(d,m)=>f(s_(d,m).container,m),insertInContainerBefore:(d,m,x)=>a(s_(d,m).container,m,x),prepareUpdate(d,m,x,_){if(d.__r3f.primitive&&_.object&&_.object!==d)return[!0];{const w=_,{args:v=[],children:S}=w,M=Nt(w,["args","children"]),y=x,{args:C=[],children:A}=y,T=Nt(y,["args","children"]);if(!Array.isArray(v))throw"The args prop must be an array!";if(v.some((k,F)=>k!==C[F]))return[!0];const P=e(d,M,T,!0);if(P.changes.length)return[!1,P];if(d.attach&&typeof d.attach!="function"){const F=d.__r3f.parent;F&&F[d.attach]!==d&&s(F,d)}return null}},commitUpdate(d,[m,x],_,w,y,v){m?h(d,_,y,v):t(d,x)},hideInstance(d){d.isObject3D&&(d.visible=!1,r(d))},unhideInstance(d,m){(d.isObject3D&&m.visible==null||m.visible)&&(d.visible=!0,r(d))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(d){return d},getRootHostContext(d){return U4},getChildHostContext(d){return d},createTextInstance(){},finalizeInitialChildren(d){var m;return!!((m=d==null?void 0:d.__r3f)!=null?m:{}).handlers},commitMount(d){var m;const x=(m=d==null?void 0:d.__r3f)!=null?m:{};d.raycast&&x.handlers&&x.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(d){uu(d)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}const G4=n=>!!(n!=null&&n.render),J2=n=>n&&n.isOrthographicCamera;function l_(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const K2=L.exports.createContext(null),W4=(n,e,t,r)=>{const{gl:i,size:o,shadows:s=!1,linear:a=!1,flat:l=!1,vr:f=!1,orthographic:h=!1,frameloop:p="always",dpr:d=1,performance:m,clock:x=new pm,raycaster:_,camera:w,onPointerMissed:y}=r;s&&(i.shadowMap.enabled=!0,typeof s=="object"?Object.assign(i.shadowMap,s):i.shadowMap.type=oy),a&&(i.outputEncoding=Yn),l&&(i.toneMapping=Yi),p==="never"&&(x.stop(),x.elapsedTime=0);const v=$2((A,T)=>{const P=new C2,ue=_||{},{params:k}=ue,F=Nt(ue,["params"]);n(P,gt(Te({enabled:!0},F),{params:Te(Te({},P.params),k)}));const D=w instanceof Qs,U=D?w:h?new ri(0,0,0,0,.1,1e3):new Wt(75,0,.1,1e3);D||(U.position.z=5,w&&n(U,w),w!=null&&w.rotation||U.lookAt(0,0,0));const H=l_(d),W=new I,$=new I,q=new I;function Z(V=T().camera,te=$,ie=T().size){const{width:ye,height:Be}=ie,ce=ye/Be;te instanceof I?q.copy(te):q.set(...te);const We=V.getWorldPosition(W).distanceTo(q);if(J2(V))return{width:ye/V.zoom,height:Be/V.zoom,factor:1,distance:We,aspect:ce};{const Fe=V.fov*Math.PI/180,Re=2*Math.tan(Fe/2)*We,$e=Re*(ye/Be);return{width:$e,height:Re,factor:ye/$e,distance:We,aspect:ce}}}let de;const Me=V=>A(te=>({performance:gt(Te({},te.performance),{current:V})}));return{gl:i,set:A,get:T,invalidate:()=>e(T()),advance:(V,te)=>t(V,te,T()),linear:a,flat:l,scene:uu(new uf),camera:U,controls:null,raycaster:P,clock:x,mouse:new se,vr:f,frameloop:p,onPointerMissed:y,performance:gt(Te({current:1,min:.5,max:1,debounce:200},m),{regress:()=>{const V=T();de&&clearTimeout(de),V.performance.current!==V.performance.min&&Me(V.performance.min),de=setTimeout(()=>Me(T().performance.max),V.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:H,dpr:H,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:Z},setSize:(V,te)=>{const ie={width:V,height:te};A(ye=>({size:ie,viewport:Te(Te({},ye.viewport),Z(U,$,ie))}))},setDpr:V=>A(te=>({viewport:gt(Te({},te.viewport),{dpr:l_(V)})})),setFrameloop:(V="always")=>A(()=>({frameloop:V})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:L.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(V,te=0)=>(A(({internal:ie})=>({internal:gt(Te({},ie),{priority:ie.priority+(te>0?1:0),subscribers:[...ie.subscribers,{ref:V,priority:te}].sort((ye,Be)=>ye.priority-Be.priority)})})),()=>{A(({internal:ie})=>({internal:gt(Te({},ie),{priority:ie.priority-(te>0?1:0),subscribers:ie.subscribers.filter(ye=>ye.ref!==V)})}))})}}}),S=v.getState();let M=S.size,C=S.viewport.dpr;return v.subscribe(()=>{const{camera:A,size:T,viewport:P,internal:k}=v.getState();(T!==M||P.dpr!==C)&&(!A.manual&&!(k.lastProps.camera instanceof Qs)&&(J2(A)?(A.left=T.width/-2,A.right=T.width/2,A.top=T.height/2,A.bottom=T.height/-2):A.aspect=T.width/T.height,A.updateProjectionMatrix(),A.updateMatrixWorld()),i.setPixelRatio(P.dpr),i.setSize(T.width,T.height),M=T,C=P.dpr)}),o&&S.setSize(o.width,o.height),v.subscribe(A=>e(A)),v};let as,eA=[],tA=[],$4=[];function Rf(n,e){for(as=0;as<n.length;as++)n[as](e)}function u_(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),as=0;as<e.internal.subscribers.length;as++)e.internal.subscribers[as].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function j4(n){let e=!1,t;function r(s){if(e=!0,t=0,Rf(eA,s),n.forEach(a=>{const l=a.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(t+=u_(s,l))}),Rf(tA,s),t>0)return requestAnimationFrame(r);Rf($4,s),e=!1}function i(s){if(!s)return n.forEach(a=>i(a.store.getState()));s.vr||!s.internal.active||s.frameloop==="never"||(s.internal.frames=Math.min(60,s.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function o(s,a=!0,l){a&&Rf(eA,s),l?u_(s,l):n.forEach(f=>u_(s,f.store.getState())),a&&Rf(tA,s)}return{loop:r,invalidate:i,advance:o}}function q4(n){const{handlePointer:e}=F4(n),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((r,i)=>gt(Te({},r),{[i]:e(i)}),{}),connect:r=>{var i;const{set:o,events:s}=n.getState();s.disconnect==null||s.disconnect(),o(a=>({events:gt(Te({},a.events),{connected:r})})),Object.entries((i=s==null?void 0:s.handlers)!=null?i:[]).forEach(([a,l])=>{const[f,h]=t[a];r.addEventListener(f,l,{passive:h})})},disconnect:()=>{const{set:r,events:i}=n.getState();if(i.connected){var o;Object.entries((o=i.handlers)!=null?o:[]).forEach(([s,a])=>{if(i&&i.connected instanceof HTMLElement){const[l]=t[s];i.connected.removeEventListener(l,a)}}),r(s=>({events:gt(Te({},s.events),{connected:!1})}))}}}}const c_=typeof window!="undefined"?L.exports.useLayoutEffect:L.exports.useEffect;function X4({set:n}){return c_(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}class nA extends L.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nA.getDerivedStateFromError=()=>({error:!0});const E8=L.exports.forwardRef(function(p,h){var d=p,{children:e,fallback:t,tabIndex:r,resize:i,id:o,style:s,className:a,events:l}=d,f=Nt(d,["children","fallback","tabIndex","resize","id","style","className","events"]);const[m,{width:x,height:_}]=I4(Te({scroll:!0,debounce:{scroll:50,resize:0}},i)),w=L.exports.useRef(null),[y,v]=L.exports.useState(!1),[S,M]=L.exports.useState(!1);if(y)throw y;if(S)throw S;return c_(()=>{x>0&&_>0&&Q4(L.exports.createElement(nA,{set:M},L.exports.createElement(L.exports.Suspense,{fallback:L.exports.createElement(X4,{set:v})},e)),w.current,gt(Te({},f),{size:{width:x,height:_},events:l||q4}))},[x,_,e]),c_(()=>{const C=w.current;return()=>lA(C)},[]),L.exports.createElement("div",{ref:m,id:o,className:a,tabIndex:r,style:Te({position:"relative",width:"100%",height:"100%",overflow:"hidden"},s)},L.exports.createElement("canvas",{ref:L4([w,h]),style:{display:"block"}},t))});function rA(){const n=L.exports.useContext(K2);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function Ri(n=t=>t,e){return rA()(n,e)}function iA(n,e=0){const t=rA().getState().internal.subscribe,r=L.exports.useRef(n);return L.exports.useLayoutEffect(()=>void(r.current=n),[n]),L.exports.useLayoutEffect(()=>t(r,e),[e,t]),null}const Pf=new Map,oA=["legacy","blocking","concurrent"],{invalidate:Y4,advance:sA}=j4(Pf),{reconciler:Lf,applyProps:aA}=V4(),Z4=(n,e)=>{const t=typeof n=="function"?n(e):n;if(G4(t))return t;const r=new Pt(Te({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n));return r.outputEncoding=Ws,r.toneMapping=hy,n&&aA(r,n),r};function Q4(n,e,l={}){var f=l,{gl:t,size:r,mode:i=oA[1],events:o,onCreated:s}=f,a=Nt(f,["gl","size","mode","events","onCreated"]);var h;if(!r){var p,d,m,x;r={width:(p=(d=e.parentElement)==null?void 0:d.clientWidth)!=null?p:0,height:(m=(x=e.parentElement)==null?void 0:x.clientHeight)!=null?m:0}}let _=Pf.get(e),w=_==null?void 0:_.fiber,y=_==null?void 0:_.store,v=(h=y)==null?void 0:h.getState();if(w&&v&&(a.dpr!==void 0&&!zt.equ(v.viewport.dpr,l_(a.dpr))&&v.setDpr(a.dpr),(v.size.width!==r.width||v.size.height!==r.height)&&v.setSize(r.width,r.height),v.frameloop!==a.frameloop&&v.setFrameloop(a.frameloop),a.linear!==v.internal.lastProps.linear&&(lA(e),w=void 0)),!w){const S=Z4(t,e);a.vr&&(S.xr.enabled=!0,S.setAnimationLoop(C=>sA(C,!0))),y=W4(aA,Y4,sA,Te({gl:S,size:r},a));const M=y.getState();w=Lf.createContainer(y,oA.indexOf(i),!1,null),Pf.set(e,{fiber:w,store:y}),o&&M.set({events:o(y)})}if(y&&w)return Lf.updateContainer(L.exports.createElement(J4,{store:y,element:n,onCreated:s,target:e}),w,null,()=>{}),y;throw"Error creating root!"}function J4({store:n,element:e,onCreated:t,target:r}){return L.exports.useEffect(()=>{const i=n.getState();i.set(o=>({internal:gt(Te({},o.internal),{active:!0})})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),L.exports.createElement(K2.Provider,{value:n},e)}function lA(n,e){const t=Pf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Lf.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var o,s,a;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),K4(i),Pf.delete(n),e&&e(n)},500)})}}function K4(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}Lf.act;Lf.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});function Rn(){return Rn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Rn.apply(this,arguments)}function eU(n,e,t){return Math.max(e,Math.min(n,t))}const ar={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function uA(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function cA(n,e,t,r=.15){return r===0?eU(n,e,t):n<e?-uA(e-n,t-e,r)+e:n>t?+uA(n-t,t-e,r)+t:n}function tU(n,[e,t],[r,i]){const[[o,s],[a,l]]=n;return[cA(e,o,s,r),cA(t,a,l,i)]}function wr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(t),!0).forEach(function(r){wr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const dA={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function hA(n){return n?n[0].toUpperCase()+n.slice(1):""}function nU(n,e="",t=!1){const r=dA[n],i=r&&r[e]||e;return"on"+hA(n)+hA(i)+(t?"Capture":"")}function rU(n,e=""){const t=dA[n],r=t&&t[e]||e;return n+r}function f_(n){return"touches"in n}function iU(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function oU(n){return n.type==="touchend"?n.changedTouches:n.targetTouches}function pA(n){return f_(n)?oU(n)[0]:n}function sU(n){return iU(n).map(e=>e.identifier)}function d_(n){const e=pA(n);return f_(n)?e.identifier:e.pointerId}function mA(n){const e=pA(n);return[e.clientX,e.clientY]}function aU(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:o}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:o})}return e}function Mm(n,...e){return typeof n=="function"?n(...e):n}function lU(){}function uU(...n){return n.length===0?lU:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function gA(n,e){return Object.assign({},e,n||{})}const cU=32;class fU{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?Mm(r.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let o=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,aU(e)),i.down=i.pressed=i.buttons%2==1||i.touches>0,o=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const x=t._delta.map(Math.abs);ar.addTo(t._distance,x)}const[s,a]=t._movement,[l,f]=r.threshold,{_step:h,values:p}=t;if(r.hasCustomTransform?(h[0]===!1&&(h[0]=Math.abs(s)>=l&&p[0]),h[1]===!1&&(h[1]=Math.abs(a)>=f&&p[1])):(h[0]===!1&&(h[0]=Math.abs(s)>=l&&Math.sign(s)*l),h[1]===!1&&(h[1]=Math.abs(a)>=f&&Math.sign(a)*f)),t.intentional=h[0]!==!1||h[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[x,_]=p;d[0]=h[0]!==!1?x-h[0]:0,d[1]=h[1]!==!1?_-h[1]:0}else d[0]=h[0]!==!1?s-h[0]:0,d[1]=h[1]!==!1?a-h[1]:0;if(this.intent&&this.intent(d),(t._active&&!t._blocked||t.active)&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e)){t.first&&("bounds"in r&&(t._bounds=Mm(r.bounds,t)),this.setup&&this.setup()),t.movement=d;const x=t.offset;if(this.computeOffset(),!t.last||o>cU){t.delta=ar.sub(t.offset,x);const _=t.delta.map(Math.abs);ar.addTo(t.distance,_),t.direction=t.delta.map(Math.sign),!t.first&&o>0&&(t.velocity=[_[0]/o,_[1]/o])}}const m=t._active?r.rubberband||[0,0]:[0,0];t.offset=tU(t._bounds,t.offset,m),this.computeMovement()}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Sn(Sn(Sn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function dU([n,e]){const t=Math.abs(n)-Math.abs(e);if(t>0)return"x";if(t<0)return"y"}function hU(n,e){switch(e){case"x":n[1]=0;break;case"y":n[0]=0;break}}class pU extends fU{constructor(...e){super(...e);wr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ar.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ar.sub(this.state.offset,this.state.lastOffset)}intent(e){this.state.axis=this.state.axis||dU(e),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,!this.state._blocked&&(this.config.axis||this.config.lockDirection)&&hU(e,this.state.axis)}}const mU=n=>n,vA=.15,yA={enabled(n=!0){return n},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[vA,vA];case!1:return[0,0];default:return ar.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return ar.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||mU},threshold(n){return ar.toVector(n,0)}},If=Sn(Sn({},yA),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},bounds(n={}){if(typeof n=="function")return o=>If.bounds(n(o));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),bm=10,xA={ArrowRight:(n=1)=>[bm*n,0],ArrowLeft:(n=1)=>[-bm*n,0],ArrowUp:(n=1)=>[0,-bm*n],ArrowDown:(n=1)=>[0,bm*n]};class gU extends pU{constructor(...e){super(...e);wr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=If.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons)||(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!r._pointerActive&&(this.start(e),this.setupPointer(e),r._pointerId=d_(e),r._pointerActive=!0,this.computeValues(mA(e)),this.computeInitial(),t.preventScroll?this.setupScrollPrevention(e):t.delay>0?this.setupDelayTrigger(e):this.startPointerDrag(e)))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;const i=d_(e);if(t._pointerId&&i!==t._pointerId)return;const o=mA(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ar.sub(o,t._values),this.computeValues(o)),ar.addTo(t._movement,t._delta),this.compute(e),t._delayed){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScroll&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._pointerActive)return;const i=d_(e);if(t._pointerId&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,s]=t._distance;if(t.tap=o<=3&&s<=3,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t.direction,[f,h]=t.velocity,[p,d]=t.movement,[m,x]=r.swipe.velocity,[_,w]=r.swipe.distance,y=r.swipe.duration;t.elapsedTime<y&&(Math.abs(f)>m&&Math.abs(p)>_&&(t.swipe[0]=a),Math.abs(h)>x&&Math.abs(d)>w&&(t.swipe[1]=l))}this.emit()}pointerClick(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config;let r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){vU(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,e)}keyDown(e){const t=xA[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;r._delta=t(i),this.start(e),r._keyboardActive=!0,ar.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in xA&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0})}}function vU(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Df=typeof window!="undefined"&&window.document&&window.document.createElement;function _A(){return Df&&"ontouchstart"in window}function yU(){return _A()||Df&&window.navigator.maxTouchPoints>1}function xU(){return Df&&"onpointerdown"in window}function _U(){return Df&&"exitPointerLock"in window.document}function wU(){try{return"constructor"in GestureEvent}catch{return!1}}const Wr={isBrowser:Df,gesture:wU(),touch:_A(),touchscreen:yU(),pointer:xU(),pointerLock:_U()},SU=250,MU=180,bU=.5,EU=50,TU=250,CU=Sn(Sn({},If),{},{pointerLock(n,e,{pointer:{lock:t=!1,touch:r=!1}={}}){return this.useTouch=Wr.touch&&r,Wr.pointerLock&&t},device(n,e){return this.useTouch?"touch":this.pointerLock?"mouse":Wr.pointer?"pointer":Wr.touch?"touch":"mouse"},preventScroll(n=!1,e,{preventScrollAxis:t="y"}){return t&&(this.preventScrollAxis=t),Wr.touchscreen?typeof n=="number"?n:n?SU:!1:!1},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1}={}}){return this.pointerButtons=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,axis:r=void 0}){const i=ar.toVector(n,t?3:r?1:0);return this.filterTaps=t,i},swipe({velocity:n=bU,distance:e=EU,duration:t=TU}={}){return{velocity:this.transform(ar.toVector(n)),distance:this.transform(ar.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return MU;case!1:return 0;default:return n}}});Sn(Sn({},yA),{},{useTouch(n,e,{pointer:{touch:t=!1}={}}){return Wr.touch&&t},device(n,e,t){if(t.shared.target&&!Wr.touch&&Wr.gesture)return"gesture";if(this.useTouch)return"touch";if(Wr.touchscreen){if(Wr.pointer)return"pointer";if(Wr.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=s=>{const a=gA(Mm(t,s),{min:-1/0,max:1/0});return[a.min,a.max]},o=s=>{const a=gA(Mm(r,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),o()]:s=>[i(s),o(s)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",ar.toVector(n,this.lockDirection?[.1,3]:0)}});Sn(Sn({},If),{},{mouseOnly:(n=!0)=>n});Sn(Sn({},If),{},{mouseOnly:(n=!0)=>n});const wA=new Map,h_=new Map;function AU(n){wA.set(n.key,n.engine),h_.set(n.key,n.resolver)}const RU={key:"drag",engine:gU,resolver:CU};function PU(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function LU(n,e){if(n==null)return{};var t=PU(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}const IU={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Wr.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},DU=["target","eventOptions","window","enabled","transform"];function Em(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Em(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function kU(n,e){const t=n,{target:r,eventOptions:i,window:o,enabled:s,transform:a}=t,l=LU(t,DU),f={shared:Em({target:r,eventOptions:i,window:o,enabled:s,transform:a},IU)};if(e){const h=h_.get(e);f[e]=Em(Sn({shared:f.shared},l),h)}else for(const h in l){const p=h_.get(h);p&&(f[h]=Em(Sn({shared:f.shared},l[h]),p))}return f}class SA{constructor(e){wr(this,"_listeners",[]),this._ctrl=e}add(e,t,r,i,o){const s=rU(t,r),a=Sn(Sn({},this._ctrl.config.shared.eventOptions),o);e.addEventListener(s,i,a),this._listeners.push(()=>e.removeEventListener(s,i,a))}clean(){this._listeners.forEach(e=>e()),this._listeners=[]}}class OU{constructor(){wr(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class NU{constructor(e){wr(this,"gestures",new Set),wr(this,"_targetEventStore",new SA(this)),wr(this,"gestureEventStores",{}),wr(this,"gestureTimeoutStores",{}),wr(this,"handlers",{}),wr(this,"config",{}),wr(this,"pointerIds",new Set),wr(this,"touchIds",new Set),wr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),zU(this,e)}setEventIds(e){f_(e)?this.touchIds=new Set(sU(e)):"pointerId"in e&&(e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId))}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=kU(e,t)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r=t.eventOptions,i={};let o;if(t.target&&(o=t.target(),!o))return;const s=FU(i,r,!!o);if(t.enabled){for(const a of this.gestures)if(this.config[a].enabled){const l=wA.get(a);new l(this,e,a).bind(s)}for(const a in this.nativeHandlers)s(a,"",l=>this.nativeHandlers[a](Sn(Sn({},this.state.shared),{},{event:l,args:e})),void 0,!0)}for(const a in i)i[a]=uU(...i[a]);if(!o)return i;for(const a in i){let l=a.substr(2).toLowerCase();const f=!!~l.indexOf("capture"),h=!!~l.indexOf("passive");(f||h)&&(l=l.replace(/capture|passive/g,"")),this._targetEventStore.add(o,l,"",i[a],{capture:f,passive:h})}}}function cu(n,e){n.gestures.add(e),n.gestureEventStores[e]=new SA(n),n.gestureTimeoutStores[e]=new OU}function zU(n,e){e.drag&&cu(n,"drag"),e.wheel&&cu(n,"wheel"),e.scroll&&cu(n,"scroll"),e.move&&cu(n,"move"),e.pinch&&cu(n,"pinch"),e.hover&&cu(n,"hover")}const FU=(n,e,t)=>(r,i,o,s={},a=!1)=>{var l,f;const h=(l=s.capture)!==null&&l!==void 0?l:e.capture,p=(f=s.passive)!==null&&f!==void 0?f:e.passive;let d=a?r:nU(r,i,h);t&&p&&(d+="Passive"),n[d]=n[d]||[],n[d].push(o)};function BU(n,e={},t,r){const i=ft.useMemo(()=>new NU(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),ft.useEffect(i.effect.bind(i)),ft.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function MA(n,e={}){return AU(RU),BU({drag:n},e,"drag")}function ut(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const bA=(n,e)=>(n%e+e)%e;class UU extends Qi{constructor(e,t){super();ut(this,"object",void 0),ut(this,"domElement",void 0),ut(this,"enabled",!0),ut(this,"target",new I),ut(this,"minDistance",0),ut(this,"maxDistance",1/0),ut(this,"minZoom",0),ut(this,"maxZoom",1/0),ut(this,"minPolarAngle",0),ut(this,"maxPolarAngle",Math.PI),ut(this,"minAzimuthAngle",-1/0),ut(this,"maxAzimuthAngle",1/0),ut(this,"enableDamping",!1),ut(this,"dampingFactor",.05),ut(this,"enableZoom",!0),ut(this,"zoomSpeed",1),ut(this,"enableRotate",!0),ut(this,"rotateSpeed",1),ut(this,"enablePan",!0),ut(this,"panSpeed",1),ut(this,"screenSpacePanning",!0),ut(this,"keyPanSpeed",7),ut(this,"autoRotate",!1),ut(this,"autoRotateSpeed",2),ut(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ut(this,"mouseButtons",{LEFT:Ls.ROTATE,MIDDLE:Ls.DOLLY,RIGHT:Ls.PAN}),ut(this,"touches",{ONE:Is.ROTATE,TWO:Is.DOLLY_PAN}),ut(this,"target0",void 0),ut(this,"position0",void 0),ut(this,"zoom0",void 0),ut(this,"_domElementKeyEvents",null),ut(this,"getPolarAngle",void 0),ut(this,"getAzimuthalAngle",void 0),ut(this,"setPolarAngle",void 0),ut(this,"setAzimuthalAngle",void 0),ut(this,"getDistance",void 0),ut(this,"listenToKeyEvents",void 0),ut(this,"saveState",void 0),ut(this,"reset",void 0),ut(this,"update",void 0),ut(this,"connect",void 0),ut(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Wt?this.object.zoom:1,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=G=>{let K=bA(G,2*Math.PI),we=h.phi;we<0&&(we+=2*Math.PI),K<0&&(K+=2*Math.PI);let Xe=Math.abs(K-we);2*Math.PI-Xe<Xe&&(K<we?K+=2*Math.PI:we+=2*Math.PI),p.phi=K-we,r.update()},this.setAzimuthalAngle=G=>{let K=bA(G,2*Math.PI),we=h.theta;we<0&&(we+=2*Math.PI),K<0&&(K+=2*Math.PI);let Xe=Math.abs(K-we);2*Math.PI-Xe<Xe&&(K<we?K+=2*Math.PI:we+=2*Math.PI),p.theta=K-we,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=G=>{G.addEventListener("keydown",he),this._domElementKeyEvents=G},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Wt?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Wt&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const G=new I,K=new wn().setFromUnitVectors(e.up,new I(0,1,0)),we=K.clone().invert(),Xe=new I,Je=new wn,jt=2*Math.PI;return function(){const ba=r.object.position;G.copy(ba).sub(r.target),G.applyQuaternion(K),h.setFromVector3(G),r.autoRotate&&l===a.NONE&&U(F()),r.enableDamping?(h.theta+=p.theta*r.dampingFactor,h.phi+=p.phi*r.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let Kn=r.minAzimuthAngle,fr=r.maxAzimuthAngle;return isFinite(Kn)&&isFinite(fr)&&(Kn<-Math.PI?Kn+=jt:Kn>Math.PI&&(Kn-=jt),fr<-Math.PI?fr+=jt:fr>Math.PI&&(fr-=jt),Kn<=fr?h.theta=Math.max(Kn,Math.min(fr,h.theta)):h.theta=h.theta>(Kn+fr)/2?Math.max(Kn,h.theta):Math.min(fr,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=d,h.radius=Math.max(r.minDistance,Math.min(r.maxDistance,h.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),G.setFromSpherical(h),G.applyQuaternion(we),ba.copy(r.target).add(G),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),m.set(0,0,0)),d=1,x||Xe.distanceToSquared(r.object.position)>f||8*(1-Je.dot(r.object.quaternion))>f?(r.dispatchEvent(i),Xe.copy(r.object.position),Je.copy(r.object.quaternion),x=!1,!0):!1}})(),this.connect=G=>{G===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=G,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",X),r.domElement.addEventListener("pointerdown",pe),r.domElement.addEventListener("pointercancel",lt),r.domElement.addEventListener("wheel",fe)},this.dispose=()=>{var G,K,we,Xe,Je,jt;(G=r.domElement)===null||G===void 0||G.removeEventListener("contextmenu",X),(K=r.domElement)===null||K===void 0||K.removeEventListener("pointerdown",pe),(we=r.domElement)===null||we===void 0||we.removeEventListener("pointercancel",lt),(Xe=r.domElement)===null||Xe===void 0||Xe.removeEventListener("wheel",fe),(Je=r.domElement)===null||Je===void 0||Je.ownerDocument.removeEventListener("pointermove",Ae),(jt=r.domElement)===null||jt===void 0||jt.ownerDocument.removeEventListener("pointerup",je),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",he)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const f=1e-6,h=new t_,p=new t_;let d=1;const m=new I;let x=!1;const _=new se,w=new se,y=new se,v=new se,S=new se,M=new se,C=new se,A=new se,T=new se,P=[],k={};function F(){return 2*Math.PI/60/60*r.autoRotateSpeed}function D(){return Math.pow(.95,r.zoomSpeed)}function U(G){p.theta-=G}function H(G){p.phi-=G}const W=(()=>{const G=new I;return function(we,Xe){G.setFromMatrixColumn(Xe,0),G.multiplyScalar(-we),m.add(G)}})(),$=(()=>{const G=new I;return function(we,Xe){r.screenSpacePanning===!0?G.setFromMatrixColumn(Xe,1):(G.setFromMatrixColumn(Xe,0),G.crossVectors(r.object.up,G)),G.multiplyScalar(we),m.add(G)}})(),q=(()=>{const G=new I;return function(we,Xe){const Je=r.domElement;if(Je&&r.object instanceof Wt&&r.object.isPerspectiveCamera){const jt=r.object.position;G.copy(jt).sub(r.target);let Mn=G.length();Mn*=Math.tan(r.object.fov/2*Math.PI/180),W(2*we*Mn/Je.clientHeight,r.object.matrix),$(2*Xe*Mn/Je.clientHeight,r.object.matrix)}else Je&&r.object instanceof ri&&r.object.isOrthographicCamera?(W(we*(r.object.right-r.object.left)/r.object.zoom/Je.clientWidth,r.object.matrix),$(Xe*(r.object.top-r.object.bottom)/r.object.zoom/Je.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(G){r.object instanceof Wt&&r.object.isPerspectiveCamera?d/=G:r.object instanceof ri&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*G)),r.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function de(G){r.object instanceof Wt&&r.object.isPerspectiveCamera?d*=G:r.object instanceof ri&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/G)),r.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Me(G){_.set(G.clientX,G.clientY)}function ue(G){C.set(G.clientX,G.clientY)}function V(G){v.set(G.clientX,G.clientY)}function te(G){w.set(G.clientX,G.clientY),y.subVectors(w,_).multiplyScalar(r.rotateSpeed);const K=r.domElement;K&&(U(2*Math.PI*y.x/K.clientHeight),H(2*Math.PI*y.y/K.clientHeight)),_.copy(w),r.update()}function ie(G){A.set(G.clientX,G.clientY),T.subVectors(A,C),T.y>0?Z(D()):T.y<0&&de(D()),C.copy(A),r.update()}function ye(G){S.set(G.clientX,G.clientY),M.subVectors(S,v).multiplyScalar(r.panSpeed),q(M.x,M.y),v.copy(S),r.update()}function Be(G){G.deltaY<0?de(D()):G.deltaY>0&&Z(D()),r.update()}function ce(G){let K=!1;switch(G.code){case r.keys.UP:q(0,r.keyPanSpeed),K=!0;break;case r.keys.BOTTOM:q(0,-r.keyPanSpeed),K=!0;break;case r.keys.LEFT:q(r.keyPanSpeed,0),K=!0;break;case r.keys.RIGHT:q(-r.keyPanSpeed,0),K=!0;break}K&&(G.preventDefault(),r.update())}function We(){if(P.length==1)_.set(P[0].pageX,P[0].pageY);else{const G=.5*(P[0].pageX+P[1].pageX),K=.5*(P[0].pageY+P[1].pageY);_.set(G,K)}}function Fe(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const G=.5*(P[0].pageX+P[1].pageX),K=.5*(P[0].pageY+P[1].pageY);v.set(G,K)}}function Re(){const G=P[0].pageX-P[1].pageX,K=P[0].pageY-P[1].pageY,we=Math.sqrt(G*G+K*K);C.set(0,we)}function $e(){r.enableZoom&&Re(),r.enablePan&&Fe()}function pt(){r.enableZoom&&Re(),r.enableRotate&&We()}function le(G){if(P.length==1)w.set(G.pageX,G.pageY);else{const we=be(G),Xe=.5*(G.pageX+we.x),Je=.5*(G.pageY+we.y);w.set(Xe,Je)}y.subVectors(w,_).multiplyScalar(r.rotateSpeed);const K=r.domElement;K&&(U(2*Math.PI*y.x/K.clientHeight),H(2*Math.PI*y.y/K.clientHeight)),_.copy(w)}function ve(G){if(P.length==1)S.set(G.pageX,G.pageY);else{const K=be(G),we=.5*(G.pageX+K.x),Xe=.5*(G.pageY+K.y);S.set(we,Xe)}M.subVectors(S,v).multiplyScalar(r.panSpeed),q(M.x,M.y),v.copy(S)}function xe(G){const K=be(G),we=G.pageX-K.x,Xe=G.pageY-K.y,Je=Math.sqrt(we*we+Xe*Xe);A.set(0,Je),T.set(0,Math.pow(A.y/C.y,r.zoomSpeed)),Z(T.y),C.copy(A)}function De(G){r.enableZoom&&xe(G),r.enablePan&&ve(G)}function _e(G){r.enableZoom&&xe(G),r.enableRotate&&le(G)}function pe(G){if(r.enabled!==!1){if(P.length===0){var K,we;(K=r.domElement)===null||K===void 0||K.ownerDocument.addEventListener("pointermove",Ae),(we=r.domElement)===null||we===void 0||we.ownerDocument.addEventListener("pointerup",je)}Ee(G),G.pointerType==="touch"?ze(G):B(G)}}function Ae(G){r.enabled!==!1&&(G.pointerType==="touch"?Ne(G):O(G))}function je(G){if(ge(G),P.length===0){var K,we,Xe;(K=r.domElement)===null||K===void 0||K.releasePointerCapture(G.pointerId),(we=r.domElement)===null||we===void 0||we.ownerDocument.removeEventListener("pointermove",Ae),(Xe=r.domElement)===null||Xe===void 0||Xe.ownerDocument.removeEventListener("pointerup",je)}r.dispatchEvent(s),l=a.NONE}function lt(G){ge(G)}function B(G){let K;switch(G.button){case 0:K=r.mouseButtons.LEFT;break;case 1:K=r.mouseButtons.MIDDLE;break;case 2:K=r.mouseButtons.RIGHT;break;default:K=-1}switch(K){case Ls.DOLLY:if(r.enableZoom===!1)return;ue(G),l=a.DOLLY;break;case Ls.ROTATE:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enablePan===!1)return;V(G),l=a.PAN}else{if(r.enableRotate===!1)return;Me(G),l=a.ROTATE}break;case Ls.PAN:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enableRotate===!1)return;Me(G),l=a.ROTATE}else{if(r.enablePan===!1)return;V(G),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function O(G){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;te(G);break;case a.DOLLY:if(r.enableZoom===!1)return;ie(G);break;case a.PAN:if(r.enablePan===!1)return;ye(G);break}}function fe(G){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(G.preventDefault(),r.dispatchEvent(o),Be(G),r.dispatchEvent(s))}function he(G){r.enabled===!1||r.enablePan===!1||ce(G)}function ze(G){switch(Ce(G),P.length){case 1:switch(r.touches.ONE){case Is.ROTATE:if(r.enableRotate===!1)return;We(),l=a.TOUCH_ROTATE;break;case Is.PAN:if(r.enablePan===!1)return;Fe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Is.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$e(),l=a.TOUCH_DOLLY_PAN;break;case Is.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pt(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Ne(G){switch(Ce(G),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;le(G),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ve(G),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;De(G),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;_e(G),r.update();break;default:l=a.NONE}}function X(G){r.enabled!==!1&&G.preventDefault()}function Ee(G){P.push(G)}function ge(G){delete k[G.pointerId];for(let K=0;K<P.length;K++)if(P[K].pointerId==G.pointerId){P.splice(K,1);return}}function Ce(G){let K=k[G.pointerId];K===void 0&&(K=new se,k[G.pointerId]=K),K.set(G.pageX,G.pageY)}function be(G){const K=G.pointerId===P[0].pointerId?P[1]:P[0];return k[K.pointerId]}t!==void 0&&this.connect(t),this.update()}}const T8=L.exports.forwardRef((h,f)=>{var p=h,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:o,onStart:s,onEnd:a}=p,l=Nt(p,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const d=Ri(({invalidate:A})=>A),m=Ri(({camera:A})=>A),x=Ri(({gl:A})=>A),_=Ri(({events:A})=>A),w=Ri(({set:A})=>A),y=Ri(({get:A})=>A),v=Ri(({performance:A})=>A),S=e||m,M=r||(typeof _.connected!="boolean"?_.connected:x.domElement),C=L.exports.useMemo(()=>new UU(S),[S]);return iA(()=>{C.enabled&&C.update()}),L.exports.useEffect(()=>{const A=T=>{d(),t&&v.regress(),o&&o(T)};return C.connect(M),C.addEventListener("change",A),s&&C.addEventListener("start",s),a&&C.addEventListener("end",a),()=>{C.removeEventListener("change",A),s&&C.removeEventListener("start",s),a&&C.removeEventListener("end",a),C.dispose()}},[M,o,s,a,t,C,d]),L.exports.useEffect(()=>{if(n){const A=y().controls;return w({controls:C}),()=>w({controls:A})}},[n,C]),L.exports.createElement("primitive",Rn({ref:f,object:C,enableDamping:i},l))}),C8=L.exports.forwardRef(function(o,i){var s=o,{children:e,alignTop:t}=s,r=Nt(s,["children","alignTop"]);const a=L.exports.useRef(null),l=L.exports.useRef(null);return L.exports.useLayoutEffect(()=>{a.current.position.set(0,0,0),a.current.updateWorldMatrix(!0,!0);const f=new rr().setFromObject(l.current),h=new I,p=new Ki,d=f.max.y-f.min.y;f.getCenter(h),f.getBoundingSphere(p),a.current.position.set(-h.x,-h.y+(t?d/2:0),-h.z)},[e]),L.exports.createElement("group",Rn({ref:i},r),L.exports.createElement("group",{ref:a},L.exports.createElement("group",{ref:l},e)))}),fu=n=>n&&n.isOrthographicCamera,HU=n=>n&&n.isObject3D,VU=n=>n&&n.isBox3,GU=L.exports.createContext(null);function A8({children:n,damping:e=6,fit:t,clip:r,margin:i=1.2,eps:o=.01,onFit:s}){const a=L.exports.useRef(null),l=Ri(v=>v.camera),f=Ri(v=>v.controls),h=Ri(v=>v.invalidate),p=L.exports.useRef(s);p.current=s;function d(v,S){return Math.abs(v.x-S.x)<o&&Math.abs(v.y-S.y)<o&&Math.abs(v.z-S.z)<o}function m(v,S,M,C){v.x=Ml.damp(v.x,S.x,M,C),v.y=Ml.damp(v.y,S.y,M,C),v.z=Ml.damp(v.z,S.z,M,C)}const[x]=L.exports.useState(()=>({animating:!1,focus:new I,camera:new I,zoom:1})),[_]=L.exports.useState(()=>({focus:new I,camera:new I,zoom:1})),[w]=L.exports.useState(()=>new rr),y=L.exports.useMemo(()=>{function v(){const S=w.getSize(new I),M=w.getCenter(new I),C=Math.max(S.x,S.y,S.z),A=fu(l)?C*4:C/(2*Math.atan(Math.PI*l.fov/360)),T=fu(l)?C*4:A/l.aspect,P=i*Math.max(A,T);return{box:w,size:S,center:M,distance:P}}return{getSize:v,refresh(S){if(HU(S)?w.setFromObject(S):VU(S)?w.copy(S):a.current&&w.setFromObject(a.current),w.isEmpty()){const M=l.position.length()||10;w.setFromCenterAndSize(new I,new I(M,M,M))}if((f==null?void 0:f.constructor.name)==="OrthographicTrackballControls"){const{distance:M}=v(),C=l.position.clone().sub(f.target).normalize().multiplyScalar(M),A=f.target.clone().add(C);l.position.copy(A)}return this},clip(){const{distance:S}=v();return f&&(f.maxDistance=S*10),l.near=S/100,l.far=S*100,l.updateProjectionMatrix(),f&&f.update(),this},fit(){x.camera.copy(l.position),f&&x.focus.copy(f.target);const{center:S,distance:M}=v(),C=S.clone().sub(l.position).normalize().multiplyScalar(M);if(_.camera.copy(S).sub(C),_.focus.copy(S),fu(l)){x.zoom=l.zoom;let A=0,T=0;const P=[new I(w.min.x,w.min.y,w.min.z),new I(w.min.x,w.max.y,w.min.z),new I(w.min.x,w.min.y,w.max.z),new I(w.min.x,w.max.y,w.max.z),new I(w.max.x,w.max.y,w.max.z),new I(w.max.x,w.max.y,w.min.z),new I(w.max.x,w.min.y,w.max.z),new I(w.max.x,w.min.y,w.min.z)];S.applyMatrix4(l.matrixWorldInverse);for(const D of P)D.applyMatrix4(l.matrixWorldInverse),A=Math.max(A,Math.abs(D.y-S.y)),T=Math.max(T,Math.abs(D.x-S.x));A*=2,T*=2;const k=(l.top-l.bottom)/A,F=(l.right-l.left)/T;_.zoom=Math.min(k,F)/i,e||(l.zoom=_.zoom,l.updateProjectionMatrix())}return e?x.animating=!0:(l.position.copy(_.camera),l.lookAt(_.focus),f&&(f.target.copy(_.focus),f.update()),h()),p.current&&p.current(this.getSize()),this}}},[w,l,f,i,e,h]);return L.exports.useLayoutEffect(()=>{if(y.refresh(),t&&y.fit(),r&&y.clip(),f){const v=()=>x.animating=!1;return f.addEventListener("start",v),()=>f.removeEventListener("start",v)}},[r,t,f]),iA((v,S)=>{if(x.animating){if(m(x.focus,_.focus,e,S),m(x.camera,_.camera,e,S),x.zoom=Ml.damp(x.zoom,_.zoom,e,S),l.position.copy(x.camera),fu(l)&&(l.zoom=x.zoom,l.updateProjectionMatrix()),f?(f.target.copy(x.focus),f.update()):l.lookAt(x.focus),h(),fu(l)&&!(Math.abs(x.zoom-_.zoom)<o)||!fu(l)&&!d(x.camera,_.camera)||f&&!d(x.focus,_.focus))return;x.animating=!1}}),L.exports.createElement("group",{ref:a},L.exports.createElement(GU.Provider,{value:y},n))}var EA={exports:{}},WU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$U=WU,jU=$U;function TA(){}function CA(){}CA.resetWarningCache=TA;var qU=function(){function n(r,i,o,s,a,l){if(l!==jU){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CA,resetWarningCache:TA};return t.PropTypes=t,t};EA.exports=qU();var Yt=EA.exports;function AA(...n){return e=>n.forEach(t=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(t,e))}function Tm(...n){return L.exports.useCallback(AA(...n),n)}const RA=L.exports.forwardRef((n,e)=>{const i=n,{children:t}=i,r=Nt(i,["children"]);return L.exports.Children.toArray(t).some(LA)?L.exports.createElement(L.exports.Fragment,null,L.exports.Children.map(t,o=>LA(o)?L.exports.createElement(p_,Rn({},r,{ref:e}),o.props.children):o)):L.exports.createElement(p_,Rn({},r,{ref:e}),t)});RA.displayName="Slot";const p_=L.exports.forwardRef((n,e)=>{const i=n,{children:t}=i,r=Nt(i,["children"]);return L.exports.isValidElement(t)?L.exports.cloneElement(t,gt(Te({},XU(r,t.props)),{ref:AA(e,t.ref)})):L.exports.Children.count(t)>1?L.exports.Children.only(null):null});p_.displayName="SlotClone";const PA=({children:n})=>L.exports.createElement(L.exports.Fragment,null,n);function LA(n){return L.exports.isValidElement(n)&&n.type===PA}function XU(n,e){const t=Te({},e);for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?t[r]=(...s)=>{o==null||o(...s),i==null||i(...s)}:r==="style"?t[r]=Te(Te({},i),o):r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return Te(Te({},n),t)}const du=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((n,e)=>gt(Te({},n),{[e]:L.exports.forwardRef((t,r)=>{const a=t,{asChild:i}=a,o=Nt(a,["asChild"]),s=i?RA:e;return L.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(YU),L.exports.createElement(s,Rn({},o,{ref:r}))})}),{}),YU="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",Cm=Boolean(globalThis==null?void 0:globalThis.document)?L.exports.useLayoutEffect:()=>{},IA=L.exports.forwardRef((n,e)=>{var t,r;const f=n,{containerRef:i,style:o}=f,s=Nt(f,["containerRef","style"]),a=(t=i==null?void 0:i.current)!==null&&t!==void 0?t:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=L.exports.useState({});return Cm(()=>{l({})},[]),a?Ob.createPortal(L.exports.createElement(du.div,Rn({"data-radix-portal":""},s,{ref:e,style:a===document.body?Te({position:"absolute",top:0,left:0,zIndex:2147483647},o):void 0})),a):null}),ZU=IA;var DA=Object.prototype.hasOwnProperty;function kf(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&kf(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(DA.call(n,t)&&++r&&!DA.call(e,t)||!(t in e)||!kf(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Of(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Am=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},kA=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),QU=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},JU=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},KU=function(){function n(e,t,r,i){Am(this,n),this.name=e,this.fn=t,this.args=r,this.modifiers=i}return kA(n,[{key:"_test",value:function(t){var r=this.fn;try{hu(this.modifiers.slice(),r)(t)}catch{r=function(){return!1}}try{return hu(this.modifiers.slice(),r)(t)}catch{return!1}}},{key:"_check",value:function(t){try{hu(this.modifiers.slice(),this.fn)(t)}catch{if(hu(this.modifiers.slice(),function(i){return i})(!1))return}if(!hu(this.modifiers.slice(),this.fn)(t))throw null}},{key:"_testAsync",value:function(t){var r=this;return new Promise(function(i,o){NA(r.modifiers.slice(),r.fn)(t).then(function(s){s?i(t):o(null)}).catch(function(s){return o(s)})})}}]),n}();function OA(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"simple";return typeof n=="object"?n[e]:n}function hu(n,e){if(n.length){var t=n.shift(),r=hu(n,e);return t.perform(r)}else return OA(e)}function NA(n,e){if(n.length){var t=n.shift(),r=NA(n,e);return t.performAsync(r)}else return function(i){return Promise.resolve(OA(e,"async")(i))}}var e5=function n(e,t,r){Am(this,n),this.name=e,this.perform=t,this.performAsync=r},m_=function(n){QU(e,n);function e(t,r,i,o){Am(this,e);for(var s=arguments.length,a=Array(s>4?s-4:0),l=4;l<s;l++)a[l-4]=arguments[l];var f=JU(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a));return Error.captureStackTrace&&Error.captureStackTrace(f,e),f.rule=t,f.value=r,f.cause=i,f.target=o,f}return e}(Error),t5=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Am(this,n),this.chain=e,this.nextRuleModifiers=t}return kA(n,[{key:"_applyRule",value:function(t,r){var i=this;return function(){for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i.chain.push(new KU(r,t.apply(i,s),s,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}}},{key:"_applyModifier",value:function(t,r){return this.nextRuleModifiers.push(new e5(r,t.simple,t.async)),this}},{key:"_clone",value:function(){return new n(this.chain.slice(),this.nextRuleModifiers.slice())}},{key:"test",value:function(t){return this.chain.every(function(r){return r._test(t)})}},{key:"testAll",value:function(t){var r=[];return this.chain.forEach(function(i){try{i._check(t)}catch(o){r.push(new m_(i,t,o))}}),r}},{key:"check",value:function(t){this.chain.forEach(function(r){try{r._check(t)}catch(i){throw new m_(r,t,i)}})}},{key:"testAsync",value:function(t){var r=this;return new Promise(function(i,o){zA(t,r.chain.slice(),i,o)})}}]),n}();function zA(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){zA(n,e,t,r)},function(o){r(new m_(i,n,o))})}else t(n)}function Sr(){return FA(new t5)}var Rm={};Sr.extend=function(n){Object.assign(Rm,n)};Sr.clearCustomRules=function(){Rm={}};function FA(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=FA(n._clone());if(r in BA)return i._applyModifier(BA[r],r);if(r in Rm)return i._applyRule(Rm[r],r);if(r in UA)return i._applyRule(UA[r],r)}})}var BA={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then(function(r){return!r}).catch(function(r){return!0})}}},some:{simple:function(e){return function(t){return Pm(t).some(function(r){try{return e(r)}catch{return!1}})}},async:function(e){return function(t){return Promise.all(Pm(t).map(function(r){try{return e(r).catch(function(i){return!1})}catch{return!1}})).then(function(r){return r.some(Boolean)})}}},every:{simple:function(e){return function(t){return Pm(t).every(e)}},async:function(e){return function(t){return Promise.all(Pm(t).map(e)).then(function(r){return r.every(Boolean)})}}}};function Pm(n){return typeof n=="string"?n.split(""):n}var UA={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(t){return typeof t=="number"&&(e||isFinite(t))}},integer:function(){return function(e){var t=Number.isInteger||n5;return t(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return pu("string")},boolean:function(){return pu("boolean")},undefined:function(){return pu("undefined")},null:function(){return pu("null")},array:function(){return pu("array")},object:function(){return pu("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return/^([a-z]+\s*)+$/.test(e)}},uppercase:function(){return function(e){return/^([A-Z]+\s*)+$/.test(e)}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return e.length===0}},length:function(e,t){return function(r){return r.length>=e&&r.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(r){return r>=e&&r<=t}},range:function(e,t){return function(r){return r>=e&&r<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return r5(e)},passesAnyOf:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.some(function(o){return o.test(i)})}},optional:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(r){return t&&typeof r=="string"&&r.trim()===""||r!=null&&e.check(r),!0}}};function pu(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function n5(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function r5(n){return{simple:function(t){var r=[];if(Object.keys(n).forEach(function(i){var o=n[i];try{o.check((t||{})[i])}catch(s){s.target=i,r.push(s)}}),r.length>0)throw r;return!0},async:function(t){var r=[],i=Object.keys(n).map(function(o){var s=n[o];return s.testAsync((t||{})[o]).catch(function(a){a.target=o,r.push(a)})});return Promise.all(i).then(function(o){if(r.length>0)throw r;return!0})}}}var Dt="colors",lr="sizes",Ge="space",i5={gap:Ge,gridGap:Ge,columnGap:Ge,gridColumnGap:Ge,rowGap:Ge,gridRowGap:Ge,inset:Ge,insetBlock:Ge,insetBlockEnd:Ge,insetBlockStart:Ge,insetInline:Ge,insetInlineEnd:Ge,insetInlineStart:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,marginBlock:Ge,marginBlockEnd:Ge,marginBlockStart:Ge,marginInline:Ge,marginInlineEnd:Ge,marginInlineStart:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,paddingBlock:Ge,paddingBlockEnd:Ge,paddingBlockStart:Ge,paddingInline:Ge,paddingInlineEnd:Ge,paddingInlineStart:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,scrollMargin:Ge,scrollMarginTop:Ge,scrollMarginRight:Ge,scrollMarginBottom:Ge,scrollMarginLeft:Ge,scrollMarginX:Ge,scrollMarginY:Ge,scrollMarginBlock:Ge,scrollMarginBlockEnd:Ge,scrollMarginBlockStart:Ge,scrollMarginInline:Ge,scrollMarginInlineEnd:Ge,scrollMarginInlineStart:Ge,scrollPadding:Ge,scrollPaddingTop:Ge,scrollPaddingRight:Ge,scrollPaddingBottom:Ge,scrollPaddingLeft:Ge,scrollPaddingX:Ge,scrollPaddingY:Ge,scrollPaddingBlock:Ge,scrollPaddingBlockEnd:Ge,scrollPaddingBlockStart:Ge,scrollPaddingInline:Ge,scrollPaddingInlineEnd:Ge,scrollPaddingInlineStart:Ge,fontSize:"fontSizes",background:Dt,backgroundColor:Dt,backgroundImage:Dt,borderImage:Dt,border:Dt,borderBlock:Dt,borderBlockEnd:Dt,borderBlockStart:Dt,borderBottom:Dt,borderBottomColor:Dt,borderColor:Dt,borderInline:Dt,borderInlineEnd:Dt,borderInlineStart:Dt,borderLeft:Dt,borderLeftColor:Dt,borderRight:Dt,borderRightColor:Dt,borderTop:Dt,borderTopColor:Dt,caretColor:Dt,color:Dt,columnRuleColor:Dt,fill:Dt,outline:Dt,outlineColor:Dt,stroke:Dt,textDecorationColor:Dt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:lr,minBlockSize:lr,maxBlockSize:lr,inlineSize:lr,minInlineSize:lr,maxInlineSize:lr,width:lr,minWidth:lr,maxWidth:lr,height:lr,minHeight:lr,maxHeight:lr,flexBasis:lr,gridTemplateColumns:lr,gridTemplateRows:lr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},o5=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,mu=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(o=>JSON.stringify(o,o5))(e);return i in n?n[i]:n[i]=t(e,...r)}},ya=Symbol.for("sxs.internal"),g_=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),HA=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:s5}=Object.prototype,v_=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),a5=/\s+(?![^()]*\))/,gu=n=>e=>n(...typeof e=="string"?String(e).split(a5):[e]),VA={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:gu((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:gu((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:gu((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:gu((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:gu((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:gu((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},y_=/([\d.]+)([^]*)/,l5=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,u5=(n,e)=>n in c5&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,o)=>r+(i==="stretch"?`-moz-available${o};${v_(n)}:${r}-webkit-fill-available`:`-moz-fit-content${o};${v_(n)}:${r}fit-content`)+o):String(e),c5={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},lo=n=>n?n+"-":"",GA=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,o,s,a)=>s=="$"==!!o?r:(i||s=="--"?"calc(":"")+"var(--"+(s==="$"?lo(e)+(a.includes("$")?"":lo(t))+a.replace(/\$/g,"-"):a)+")"+(i||s=="--"?"*"+(i||"")+(o||"1")+")":"")),f5=/\s*,\s*(?![^()]*\))/,d5=Object.prototype.toString,vu=(n,e,t,r,i)=>{let o,s,a;const l=(f,h,p)=>{let d,m;const x=_=>{for(d in _){const v=d.charCodeAt(0)===64,S=v&&Array.isArray(_[d])?_[d]:[_[d]];for(m of S){const M=/[A-Z]/.test(y=d)?y:y.replace(/-[^]/g,A=>A[1].toUpperCase()),C=typeof m=="object"&&m&&m.toString===d5&&(!r.utils[M]||!h.length);if(M in r.utils&&!C){const A=r.utils[M];if(A!==s){s=A,x(A(m)),s=null;continue}}else if(M in VA){const A=VA[M];if(A!==a){a=A,x(A(m)),a=null;continue}}if(v&&(w=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=w.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(A,T,P,k,F,D)=>{const U=y_.test(T),H=.0625*(U?-1:1),[W,$]=U?[k,T]:[T,k];return"("+(P[0]==="="?"":P[0]===">"===U?"max-":"min-")+W+":"+(P[0]!=="="&&P.length===1?$.replace(y_,(q,Z,de)=>Number(Z)+H*(P===">"?1:-1)+de):$)+(F?") and ("+(F[0]===">"?"min-":"max-")+W+":"+(F.length===1?D.replace(y_,(q,Z,de)=>Number(Z)+H*(F===">"?-1:1)+de):D):"")+")"})),C){const A=v?p.concat(d):[...p],T=v?[...h]:l5(h,d.split(f5));o!==void 0&&i(WA(...o)),o=void 0,l(m,T,A)}else o===void 0&&(o=[[],h,p]),d=v||d.charCodeAt(0)!==36?d:`--${lo(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,m=C?m:typeof m=="number"?m&&M in h5?String(m)+"px":String(m):GA(u5(M,m==null?"":m),r.prefix,r.themeMap[M]),o[0].push(`${v?`${d} `:`${v_(d)}:`}${m}`)}}var w,y};x(f),o!==void 0&&i(WA(...o)),o=void 0};l(n,e,t)},WA=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,h5={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},$A=n=>String.fromCharCode(n+(n>25?39:97)),xa=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=$A(t%52)+r;return $A(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Nf=["themed","global","styled","onevar","resonevar","allvar","inline"],p5=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return n.cssRules,!0}catch{return!1}},m5=n=>{let e;const t=()=>{if(e){const{rules:s,sheet:a}=e;if(!a.deleteRule){for(;Object(Object(a.cssRules)[0]).type===3;)a.cssRules.splice(0,1);a.cssRules=[]}for(const l in s)delete s[l]}const r=Object(n).styleSheets||[];for(const s of r)if(p5(s)){for(let a=0,l=s.cssRules;l[a];++a){const f=Object(l[a]);if(f.type!==1)continue;const h=Object(l[a+1]);if(h.type!==4)continue;++a;const{cssText:p}=f;if(!p.startsWith("--sxs"))continue;const d=p.slice(14,-3).trim().split(/\s+/),m=Nf[d[0]];m&&(e||(e={sheet:s,reset:t,rules:{}}),e.rules[m]={group:h,index:a,cache:new Set(d)})}if(e)break}if(!e){const s=(a,l)=>({type:l,cssRules:[],insertRule(f,h){this.cssRules.splice(h,0,s(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return a==="@media{}"?`@media{${[].map.call(this.cssRules,f=>f.cssText).join("")}}`:a}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:s("","text/css"),rules:{},reset:t,toString(){const{cssRules:a}=e.sheet;return[].map.call(a,(l,f)=>{const{cssText:h}=l;let p="";if(h.startsWith("--sxs"))return"";if(a[f-1]&&(p=a[f-1].cssText).startsWith("--sxs")){if(!l.cssRules.length)return"";for(const d in e.rules)if(e.rules[d].group===l)return`--sxs{--sxs:${[...e.rules[d].cache].join(" ")}}${h}`;return l.cssRules.length?`${p}${h}`:""}return h}).join("")}}}const{sheet:i,rules:o}=e;for(let s=Nf.length-1;s>=0;--s){const a=Nf[s];if(!o[a]){const l=Nf[s+1],f=o[l]?o[l].index:i.cssRules.length;i.insertRule("@media{}",f),i.insertRule(`--sxs{--sxs:${s}}`,f),o[a]={group:i.cssRules[f+1],index:f,cache:new Set([s])}}g5(o[a])}};return t(),e},g5=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},zf=Symbol(),v5=mu(),jA=(n,e)=>v5(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[ya]){r.type==null&&(r.type=i[ya].type);for(const o of i[ya].composers)r.composers.add(o)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(y5(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),x5(n,r,e)}),y5=(o,i)=>{var s=o,{variants:n,compoundVariants:e,defaultVariants:t}=s,r=Nt(s,["variants","compoundVariants","defaultVariants"]);const a=`${lo(i.prefix)}c-${xa(r)}`,l=[],f=[],h=Object.create(null),p=[];for(const _ in t)h[_]=String(t[_]);if(typeof n=="object"&&n)for(const _ in n){d=h,m=_,s5.call(d,m)||(h[_]="undefined");const w=n[_];for(const y in w){const v={[_]:String(y)};String(y)==="undefined"&&p.push(_);const S=w[y],M=[v,S,!HA(S)];l.push(M)}}var d,m;if(typeof e=="object"&&e)for(const _ of e){let x=_,{css:w}=x,y=Nt(x,["css"]);w=typeof w=="object"&&w||{};for(const S in y)y[S]=String(y[S]);const v=[y,w,!HA(w)];f.push(v)}return[a,r,l,f,h,p]},x5=(n,e,t)=>{const[r,i,o,s]=_5(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(p=>{function d(){for(let m=0;m<d[zf].length;m++){const[x,_]=d[zf][m];p.rules[x].apply(_)}return d[zf]=[],null}return d[zf]=[],d.rules={},Nf.forEach(m=>d.rules[m]={apply:x=>d[zf].push([m,x])}),d})(t):null,l=(a||t).rules,f=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,h=p=>{p=typeof p=="object"&&p||w5;const y=p,{css:d}=y,m=Nt(y,["css"]),x={};for(const v in o)if(delete m[v],v in p){let S=p[v];typeof S=="object"&&S?x[v]=Te({"@initial":o[v]},S):(S=String(S),x[v]=S!=="undefined"||s.has(v)?S:o[v])}else x[v]=o[v];const _=new Set([...i]);for(const[v,S,M,C]of e.composers){t.rules.styled.cache.has(v)||(t.rules.styled.cache.add(v),vu(S,[`.${v}`],[],n,P=>{l.styled.apply(P)}));const A=qA(M,x,n.media),T=qA(C,x,n.media,!0);for(const P of A)if(P!==void 0)for(const[k,F,D]of P){const U=`${v}-${xa(F)}-${k}`;_.add(U);const H=(D?t.rules.resonevar:t.rules.onevar).cache,W=D?l.resonevar:l.onevar;H.has(U)||(H.add(U),vu(F,[`.${U}`],[],n,$=>{W.apply($)}))}for(const P of T)if(P!==void 0)for(const[k,F]of P){const D=`${v}-${xa(F)}-${k}`;_.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),vu(F,[`.${D}`],[],n,U=>{l.allvar.apply(U)}))}}if(typeof d=="object"&&d){const v=`${r}-i${xa(d)}-css`;_.add(v),t.rules.inline.cache.has(v)||(t.rules.inline.cache.add(v),vu(d,[`.${v}`],[],n,S=>{l.inline.apply(S)}))}for(const v of String(p.className||"").trim().split(/\s+/))v&&_.add(v);const w=m.className=[..._].join(" ");return{type:e.type,className:w,selector:f,props:m,toString:()=>w,deferredInjector:a}};return g_(h,{className:r,selector:f,[ya]:e,toString:()=>(t.rules.styled.cache.has(r)||h(),r)})},_5=n=>{let e="";const t=[],r={},i=[];for(const[o,,,,s,a]of n){e===""&&(e=o),t.push(o),i.push(...a);for(const l in s){const f=s[l];(r[l]===void 0||f!=="undefined"||a.includes(f))&&(r[l]=f)}}return[e,t,r,new Set(i)]},qA=(n,e,t,r)=>{const i=[];e:for(let[o,s,a]of n){if(a)continue;let l,f=0,h=!1;for(l in o){const p=o[l];let d=e[l];if(d!==p){if(typeof d!="object"||!d)continue e;{let m,x,_=0;for(const w in d){if(p===String(d[w])){if(w!=="@initial"){const y=w.slice(1);(x=x||[]).push(y in t?t[y]:w.replace(/^@media ?/,"")),h=!0}f+=_,m=!0}++_}if(x&&x.length&&(s={["@media "+x.join(", ")]:s}),!m)continue e}}}(i[f]=i[f]||[]).push([r?"cv":`${l}-${o[l]}`,s,h])}return i},w5={},S5=mu(),M5=(n,e)=>S5(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let o=xa(i);if(!e.rules.global.cache.has(o)){if(e.rules.global.cache.add(o),"@import"in i){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,s++);delete i["@import"]}vu(i,[],[],n,s=>{e.rules.global.apply(s)})}}return""};return g_(r,{toString:r})}),b5=mu(),E5=(n,e)=>b5(n,()=>t=>{const r=`${lo(n.prefix)}k-${xa(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const o=[];vu(t,[],[],n,a=>o.push(a));const s=`@keyframes ${r}{${o.join("")}}`;e.rules.global.apply(s)}return r};return g_(i,{get name(){return i()},toString:i})}),T5=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+lo(this.prefix)+lo(this.scale)+this.token}toString(){return this.computedValue}},C5=mu(),A5=(n,e)=>C5(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${lo(n.prefix)}t-${xa(r)}`}`,o={},s=[];for(const l in r){o[l]={};for(const f in r[l]){const h=`--${lo(n.prefix)}${l}-${f}`,p=GA(String(r[l][f]),n.prefix,l);o[l][f]=new T5(f,p,l,n.prefix),s.push(`${h}:${p}`)}}const a=()=>{if(s.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${s.join(";")}}`;e.rules.themed.apply(l)}return t};return gt(Te({},o),{get className(){return a()},selector:i,toString:a})}),R5=mu(),P5=mu(),L5=n=>{const e=(t=>{let r=!1;const i=R5(t,o=>{r=!0;const s="prefix"in(o=typeof o=="object"&&o||{})?String(o.prefix):"",a=typeof o.media=="object"&&o.media||{},l=typeof o.root=="object"?o.root||null:globalThis.document||null,f=typeof o.theme=="object"&&o.theme||{},h={prefix:s,media:a,theme:f,themeMap:typeof o.themeMap=="object"&&o.themeMap||Te({},i5),utils:typeof o.utils=="object"&&o.utils||{}},p=m5(l),d={css:jA(h,p),globalCss:M5(h,p),keyframes:E5(h,p),createTheme:A5(h,p),reset(){p.reset(),d.theme.toString()},theme:{},sheet:p,config:h,prefix:s,getCssText:p.toString,toString:p.toString};return String(d.theme=d.createTheme(f)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>P5(t,()=>{const i=jA(t,r);return(...o)=>{const s=i(...o),a=s[ya].type,l=ft.forwardRef((f,h)=>{const p=f&&f.as||a,{props:d,deferredInjector:m}=s(f);return delete d.as,d.ref=h,m?ft.createElement(ft.Fragment,null,ft.createElement(p,d),ft.createElement(m,null)):ft.createElement(p,d)});return l.className=s.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=s.selector,l.toString=()=>s.selector,l[ya]=s[ya],l}}))(e),e};const I5=mL["useId".toString()]||(()=>{});let D5=0;function k5(n){const[e,t]=L.exports.useState(I5());return Cm(()=>{n||t(r=>r!=null?r:String(D5++))},[n]),n||(e?`radix-${e}`:"")}const O5=L.exports.forwardRef((n,e)=>L.exports.createElement(du.span,Rn({},n,{ref:e,style:gt(Te({},n.style),{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"})}))),N5=O5,z5=L.exports.forwardRef((n,e)=>{const s=n,{children:t,width:r=10,height:i=5}=s,o=Nt(s,["children","width","height"]);return L.exports.createElement(du.svg,Rn({},o,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:L.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),F5=z5;function XA(n){const[e,t]=L.exports.useState(void 0);return L.exports.useEffect(()=>{if(n){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,f=Array.isArray(l)?l[0]:l;s=f.inlineSize,a=f.blockSize}else{const l=n.getBoundingClientRect();s=l.width,a=l.height}t({width:s,height:a})});return r.observe(n,{box:"border-box"}),()=>{t(void 0),r.unobserve(n)}}},[n]),e}function B5(n,e){const t=_a.get(n);return t===void 0?(_a.set(n,{rect:{},callbacks:[e]}),_a.size===1&&(x_=requestAnimationFrame(YA))):(t.callbacks.push(e),e(n.getBoundingClientRect())),()=>{const r=_a.get(n);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(_a.delete(n),_a.size===0&&cancelAnimationFrame(x_))}}let x_;const _a=new Map;function YA(){const n=[];_a.forEach((e,t)=>{const r=t.getBoundingClientRect();var i,o;i=e.rect,o=r,(i.width!==o.width||i.height!==o.height||i.top!==o.top||i.right!==o.right||i.bottom!==o.bottom||i.left!==o.left)&&(e.rect=r,n.push(e))}),n.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),x_=requestAnimationFrame(YA)}function ZA(n){const[e,t]=L.exports.useState();return L.exports.useEffect(()=>{if(n){const r=B5(n,t);return()=>{t(void 0),r()}}},[n]),e}function QA(n,e=[]){let t=[];const r=()=>{const i=t.map(o=>L.exports.createContext(o));return function(o){const s=(o==null?void 0:o[n])||i;return L.exports.useMemo(()=>({[`__scope${n}`]:gt(Te({},o),{[n]:s})}),[o,s])}};return r.scopeName=n,[function(i,o){const s=L.exports.createContext(o),a=t.length;function l(f){const _=f,{scope:h,children:p}=_,d=Nt(_,["scope","children"]),m=(h==null?void 0:h[n][a])||s,x=L.exports.useMemo(()=>d,Object.values(d));return L.exports.createElement(m.Provider,{value:x},p)}return t=[...t,o],l.displayName=i+"Provider",[l,function(f,h){const p=(h==null?void 0:h[n][a])||s,d=L.exports.useContext(p);if(d)return d;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}]},U5(r,...e)]}function U5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const o=r.reduce((s,{useScope:a,scopeName:l})=>Te(Te({},s),a(i)[`__scope${l}`]),{});return L.exports.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function H5({anchorRect:n,popperSize:e,arrowSize:t,arrowOffset:r=0,side:i,sideOffset:o=0,align:s,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:f,collisionTolerance:h=0}){if(!n||!e||!f)return{popperStyles:V5,arrowStyles:__};const p=function(T,P,k=0,F=0,D){const U=D?D.height:0,H=JA(P,T,"x"),W=JA(P,T,"y"),$=W.before-k-U,q=W.after+k+U,Z=H.before-k-U,de=H.after+k+U;return{top:{start:{x:H.start+F,y:$},center:{x:H.center,y:$},end:{x:H.end-F,y:$}},right:{start:{x:de,y:W.start+F},center:{x:de,y:W.center},end:{x:de,y:W.end-F}},bottom:{start:{x:H.start+F,y:q},center:{x:H.center,y:q},end:{x:H.end-F,y:q}},left:{start:{x:Z,y:W.start+F},center:{x:Z,y:W.center},end:{x:Z,y:W.end-F}}}}(e,n,o,a,t),d=p[i][s];if(l===!1){const T=KA(d);let P=__;return t&&(P=t3({popperSize:e,arrowSize:t,arrowOffset:r,side:i,align:s})),{popperStyles:gt(Te({},T),{"--radix-popper-transform-origin":e3(e,i,s,r,t)}),arrowStyles:P,placedSide:i,placedAlign:s}}const m=DOMRect.fromRect(Te(Te({},e),d)),x=(_=f,w=h,DOMRect.fromRect({width:_.width-2*w,height:_.height-2*w,x:_.left+w,y:_.top+w}));var _,w;const y=r3(m,x),v=p[n3(i)][s],S=function(T,P,k){const F=n3(T);return P[T]&&!k[F]?F:T}(i,y,r3(DOMRect.fromRect(Te(Te({},e),v)),x)),M=function(T,P,k,F,D){const U=k==="top"||k==="bottom",H=U?"left":"top",W=U?"right":"bottom",$=U?"width":"height",q=P[$]>T[$];return(F==="start"||F==="center")&&(D[H]&&q||D[W]&&!q)?"end":(F==="end"||F==="center")&&(D[W]&&q||D[H]&&!q)?"start":F}(e,n,i,s,y),C=KA(p[S][M]);let A=__;return t&&(A=t3({popperSize:e,arrowSize:t,arrowOffset:r,side:S,align:M})),{popperStyles:gt(Te({},C),{"--radix-popper-transform-origin":e3(e,S,M,r,t)}),arrowStyles:A,placedSide:S,placedAlign:M}}function JA(n,e,t){const r=n[t==="x"?"left":"top"],i=t==="x"?"width":"height",o=n[i],s=e[i];return{before:r-s,start:r,center:r+(o-s)/2,end:r+o-s,after:r+o}}function KA(n){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(n.x+window.scrollX)}px, ${Math.round(n.y+window.scrollY)}px, 0)`}}function e3(n,e,t,r,i){const o=e==="top"||e==="bottom",s=i?i.width:0,a=i?i.height:0,l=s/2+r;let f="",h="";return o?(f={start:`${l}px`,center:"center",end:n.width-l+"px"}[t],h=e==="top"?`${n.height+a}px`:-a+"px"):(f=e==="left"?`${n.width+a}px`:-a+"px",h={start:`${l}px`,center:"center",end:n.height-l+"px"}[t]),`${f} ${h}`}const V5={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},__={position:"absolute",opacity:0};function t3({popperSize:n,arrowSize:e,arrowOffset:t,side:r,align:i}){const o=(n.width-e.width)/2,s=(n.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),f={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:G5(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(f.left=`${t}px`),i==="center"&&(f.left=`${o}px`),i==="end"&&(f.right=`${t}px`)),r!=="left"&&r!=="right"||(i==="start"&&(f.top=`${t}px`),i==="center"&&(f.top=`${s}px`),i==="end"&&(f.bottom=`${t}px`)),f}function G5(n,e){return(n!=="top"&&n!=="right"||e!=="end")&&(n!=="bottom"&&n!=="left"||e==="end")?"ltr":"rtl"}function n3(n){return{top:"bottom",right:"left",bottom:"top",left:"right"}[n]}function r3(n,e){return{top:n.top<e.top,right:n.right>e.right,bottom:n.bottom>e.bottom,left:n.left<e.left}}const[i3,o3]=QA("Popper"),[W5,s3]=i3("Popper"),$5=n=>{const{__scopePopper:e,children:t}=n,[r,i]=L.exports.useState(null);return L.exports.createElement(W5,{scope:e,anchor:r,onAnchorChange:i},t)},j5=L.exports.forwardRef((n,e)=>{const l=n,{__scopePopper:t,virtualRef:r}=l,i=Nt(l,["__scopePopper","virtualRef"]),o=s3("PopperAnchor",t),s=L.exports.useRef(null),a=Tm(e,s);return L.exports.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:L.exports.createElement(du.div,Rn({},i,{ref:a}))}),[q5,X5]=i3("PopperContent"),Y5=L.exports.forwardRef((n,e)=>{const U=n,{__scopePopper:t,side:r="bottom",sideOffset:i,align:o="center",alignOffset:s,collisionTolerance:a,avoidCollisions:l=!0}=U,f=Nt(U,["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"]),h=s3("PopperContent",t),[p,d]=L.exports.useState(),m=ZA(h.anchor),[x,_]=L.exports.useState(null),w=XA(x),[y,v]=L.exports.useState(null),S=XA(y),M=Tm(e,H=>_(H)),C=function(){const[H,W]=L.exports.useState(void 0);return L.exports.useEffect(()=>{let $;function q(){W({width:window.innerWidth,height:window.innerHeight})}function Z(){window.clearTimeout($),$=window.setTimeout(q,100)}return q(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),H}(),A=C?DOMRect.fromRect(gt(Te({},C),{x:0,y:0})):void 0,{popperStyles:T,arrowStyles:P,placedSide:k,placedAlign:F}=H5({anchorRect:m,popperSize:w,arrowSize:S,arrowOffset:p,side:r,sideOffset:i,align:o,alignOffset:s,shouldAvoidCollisions:l,collisionBoundariesRect:A,collisionTolerance:a}),D=k!==void 0;return L.exports.createElement("div",{style:T,"data-radix-popper-content-wrapper":""},L.exports.createElement(q5,{scope:t,arrowStyles:P,onArrowChange:v,onArrowOffsetChange:d},L.exports.createElement(du.div,Rn({"data-side":k,"data-align":F},f,{style:gt(Te({},f.style),{animation:D?void 0:"none"}),ref:M}))))}),Z5=L.exports.forwardRef(function(n,e){const a=n,{__scopePopper:t,offset:r}=a,i=Nt(a,["__scopePopper","offset"]),o=X5("PopperArrow",t),{onArrowOffsetChange:s}=o;return L.exports.useEffect(()=>s(r),[s,r]),L.exports.createElement("span",{style:gt(Te({},o.arrowStyles),{pointerEvents:"none"})},L.exports.createElement("span",{ref:o.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},L.exports.createElement(F5,Rn({},i,{ref:e,style:gt(Te({},i.style),{display:"block"})}))))}),Q5=$5,J5=j5,K5=Y5,eH=Z5,a3=n=>{const{present:e,children:t}=n,r=function(s){const[a,l]=L.exports.useState(),f=L.exports.useRef({}),h=L.exports.useRef(s),p=L.exports.useRef("none"),d=s?"mounted":"unmounted",[m,x]=function(_,w){return L.exports.useReducer((y,v)=>{const S=w[y][v];return S!=null?S:y},_)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.exports.useEffect(()=>{const _=Lm(f.current);p.current=m==="mounted"?_:"none"},[m]),Cm(()=>{const _=f.current,w=h.current;if(w!==s){const y=p.current,v=Lm(_);s?x("MOUNT"):v==="none"||(_==null?void 0:_.display)==="none"?x("UNMOUNT"):x(w&&y!==v?"ANIMATION_OUT":"UNMOUNT"),h.current=s}},[s,x]),Cm(()=>{if(a){const _=y=>{const v=Lm(f.current).includes(y.animationName);y.target===a&&v&&x("ANIMATION_END")},w=y=>{y.target===a&&(p.current=Lm(f.current))};return a.addEventListener("animationstart",w),a.addEventListener("animationcancel",_),a.addEventListener("animationend",_),()=>{a.removeEventListener("animationstart",w),a.removeEventListener("animationcancel",_),a.removeEventListener("animationend",_)}}},[a,x]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:L.exports.useCallback(_=>{_&&(f.current=getComputedStyle(_)),l(_)},[])}}(e),i=typeof t=="function"?t({present:r.isPresent}):L.exports.Children.only(t),o=Tm(r.ref,i.ref);return typeof t=="function"||r.isPresent?L.exports.cloneElement(i,{ref:o}):null};function Lm(n){return(n==null?void 0:n.animationName)||"none"}a3.displayName="Presence";function l3(n){const e=L.exports.useRef(n);return L.exports.useEffect(()=>{e.current=n},[n]),e.current}function w_(n){const e=L.exports.useRef(n);return L.exports.useEffect(()=>{e.current=n}),L.exports.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function tH(n){const e=w_(n);L.exports.useEffect(()=>{const t=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e])}function nH({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=function({defaultProp:l,onChange:f}){const h=L.exports.useState(l),[p]=h,d=L.exports.useRef(p),m=w_(f);return L.exports.useEffect(()=>{d.current!==p&&(m(p),d.current=p)},[p,d,m]),h}({defaultProp:e,onChange:t}),o=n!==void 0,s=o?n:r,a=w_(t);return[s,L.exports.useCallback(l=>{if(o){const f=l,h=typeof l=="function"?f(n):l;h!==n&&a(h)}else i(l)},[o,n,i,a])]}function yu(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[u3,R8]=QA("Tooltip",[o3]),Im=o3(),rH=700,[P8,iH]=u3("TooltipProvider",{isOpenDelayed:!0,delayDuration:rH,onOpen:()=>{},onClose:()=>{}}),[oH,Dm]=u3("Tooltip"),sH=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:o,delayDuration:s}=n,a=iH("Tooltip",e),l=Im(e),[f,h]=L.exports.useState(null),p=k5(),d=L.exports.useRef(0),m=s!=null?s:a.delayDuration,x=L.exports.useRef(!1),{onOpen:_,onClose:w}=a,[y=!1,v]=nH({prop:r,defaultProp:i,onChange:A=>{A&&(document.dispatchEvent(new CustomEvent("tooltip.open")),_()),o==null||o(A)}}),S=L.exports.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),M=L.exports.useCallback(()=>{window.clearTimeout(d.current),x.current=!1,v(!0)},[v]),C=L.exports.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{x.current=!0,v(!0)},m)},[m,v]);return L.exports.useEffect(()=>()=>window.clearTimeout(d.current),[]),L.exports.createElement(Q5,l,L.exports.createElement(oH,{scope:e,contentId:p,open:y,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:L.exports.useCallback(()=>{a.isOpenDelayed?C():M()},[a.isOpenDelayed,C,M]),onOpen:L.exports.useCallback(M,[M]),onClose:L.exports.useCallback(()=>{window.clearTimeout(d.current),v(!1),w()},[v,w])},t))},aH=L.exports.forwardRef((n,e)=>{const f=n,{__scopeTooltip:t}=f,r=Nt(f,["__scopeTooltip"]),i=Dm("TooltipTrigger",t),o=Im(t),s=Tm(e,i.onTriggerChange),a=L.exports.useRef(!1),l=L.exports.useCallback(()=>a.current=!1,[]);return L.exports.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),L.exports.createElement(J5,Rn({asChild:!0},o),L.exports.createElement(du.button,Rn({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:s,onMouseEnter:yu(n.onMouseEnter,i.onTriggerEnter),onMouseLeave:yu(n.onMouseLeave,i.onClose),onMouseDown:yu(n.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:yu(n.onFocus,()=>{a.current||i.onOpen()}),onBlur:yu(n.onBlur,i.onClose),onClick:yu(n.onClick,i.onClose)})))}),lH=L.exports.forwardRef((n,e)=>{const o=n,{forceMount:t}=o,r=Nt(o,["forceMount"]),i=Dm("TooltipContent",n.__scopeTooltip);return L.exports.createElement(a3,{present:t||i.open},L.exports.createElement(uH,Rn({ref:e},r)))}),uH=L.exports.forwardRef((n,e)=>{const p=n,{__scopeTooltip:t,children:r,"aria-label":i,portalled:o=!0}=p,s=Nt(p,["__scopeTooltip","children","aria-label","portalled"]),a=Dm("TooltipContent",t),l=Im(t),f=o?IA:L.exports.Fragment,{onClose:h}=a;return tH(()=>h()),L.exports.useEffect(()=>(document.addEventListener("tooltip.open",h),()=>document.removeEventListener("tooltip.open",h)),[h]),L.exports.createElement(f,null,L.exports.createElement(fH,{__scopeTooltip:t}),L.exports.createElement(K5,Rn({"data-state":a.stateAttribute},l,s,{ref:e,style:gt(Te({},s.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),L.exports.createElement(PA,null,r),L.exports.createElement(N5,{id:a.contentId,role:"tooltip"},i||r)))}),cH=L.exports.forwardRef((n,e)=>{const o=n,{__scopeTooltip:t}=o,r=Nt(o,["__scopeTooltip"]),i=Im(t);return L.exports.createElement(eH,Rn({},i,r,{ref:e}))});function fH(n){const{__scopeTooltip:e}=n,t=Dm("CheckTriggerMoved",e),r=ZA(t.trigger),i=r==null?void 0:r.left,o=l3(i),s=r==null?void 0:r.top,a=l3(s),l=t.onClose;return L.exports.useEffect(()=>{(o!==void 0&&o!==i||a!==void 0&&a!==s)&&l()},[l,o,a,i,s]),null}const dH=sH,hH=aH,pH=lH,mH=cH;var km={exports:{}},Ff={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gH=L.exports,c3=60103;Ff.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var f3=Symbol.for;c3=f3("react.element"),Ff.Fragment=f3("react.fragment")}var vH=gH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yH=Object.prototype.hasOwnProperty,xH={key:!0,ref:!0,__self:!0,__source:!0};function d3(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yH.call(e,r)&&!xH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c3,type:n,key:o,ref:s,props:i,_owner:vH.current}}Ff.jsx=d3;Ff.jsxs=d3;km.exports=Ff;const ne=km.exports.jsx,ct=km.exports.jsxs,wa=km.exports.Fragment;function _H(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function kt(n,e){if(n==null)return{};var t=_H(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}let Jt;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Jt||(Jt={}));const wH={[Jt.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Jt.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Jt.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Jt.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Jt.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Jt.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Jt.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Jt.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Jt.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Jt.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Jt.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function h3(n,e,...t){const[r,...i]=wH[e](...t);console[n]("LEVA: "+r,...i)}const uo=h3.bind(null,"warn"),SH=h3.bind(null,"log"),MH=["value"],bH=["schema"],EH=["value"],p3=[],Sa={};function m3(n){let{value:e}=n,t=kt(n,MH);for(let r of p3){const i=r(e,t);if(i)return i}}function co(n,e){let{schema:t}=e,r=kt(e,bH);if(n in Sa){uo(Jt.ALREADY_REGISTERED_TYPE,n);return}p3.push((i,o)=>t(i,o)&&n),Sa[n]=r}function fo(n){return n}function S_(n,e,t,r){const{normalize:i}=Sa[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:o}=e,s=kt(e,EH);return{value:o,settings:s}}function TH(n,e,t,r,i,o){const{sanitize:s}=Sa[n];return s?s(e,t,r,i,o):e}function g3(n,e,t){const{format:r}=Sa[n];return r?r(e,t):e}function CH(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(t),!0).forEach(function(r){CH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const ls=(n,e,t)=>n>t?t:n<e?e:n,AH=n=>{if(n===""||typeof n=="number")return n;try{const e=us(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},RH=Math.log(10);function y3(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10==0;)e/=10;const t=Math.floor(Math.log(e)/RH)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const Om=(n,e,t)=>t===e?0:(ls(n,e,t)-e)/(t-e),Nm=(n,e,t)=>n*(t-e)+e,PH=()=>"_"+Math.random().toString(36).substr(2,9),x3=/\(([0-9+\-*/^ .]+)\)/,_3=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,w3=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,S3=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,M3=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,b3=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function us(n){if(isNaN(Number(n)))if(x3.test(n)){const e=n.replace(x3,(t,r)=>String(us(r)));return us(e)}else if(_3.test(n)){const e=n.replace(_3,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return us(e)}else if(w3.test(n)){const e=n.replace(w3,(t,r,i)=>String(Number(r)*Number(i)));return us(e)}else if(S3.test(n)){const e=n.replace(S3,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return us(e)}else if(M3.test(n)){const e=n.replace(M3,(t,r,i)=>String(Number(r)+Number(i)));return us(e)}else if(b3.test(n)){const e=n.replace(b3,(t,r,i)=>String(Number(r)-Number(i)));return us(e)}else return Number(n);return Number(n)}function LH(n,e){return e.reduce((t,r)=>(!!n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function IH(n,e){const t=nt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function DH(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}let si;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(si||(si={}));let ai;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(ai||(ai={}));const kH=["type","__customInput"],OH=["render","label","optional","disabled","hint","onChange","onEditStart","onEditEnd","transient"],NH=["type"];function E3(n,e,t={},r){if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:nt({key:e,label:e,optional:!1,disabled:!1},t)};if("__customInput"in n){const{type:y,__customInput:v}=n,S=kt(n,kH);return E3(v,e,S,y)}const{render:i,label:o,optional:s,disabled:a,hint:l,onChange:f,onEditStart:h,onEditEnd:p,transient:d}=n,m=kt(n,OH),x=nt({render:i,key:e,label:o!=null?o:e,hint:l,transient:d!=null?d:!!f,onEditStart:h,onEditEnd:p},t);let{type:_}=m,w=kt(m,NH);return _=r!=null?r:_,_ in si?{type:_,input:w,options:x}:{type:_,input:w,options:nt(nt({},x),{},{onChange:f,optional:s!=null?s:!1,disabled:a!=null?a:!1})}}function zH(n,e,t,r){const i=E3(n,e),{type:o,input:s,options:a}=i;if(o)return o in si?i:{type:o,input:S_(o,s,t,r),options:a};let l=m3(s);return l?{type:l,input:S_(l,s,t,r),options:a}:(l=m3({value:s}),l?{type:l,input:S_(l,{value:s},t,r),options:a}:!1)}function T3(n,e,t,r,i){const{value:o,type:s,settings:a}=n;n.value=A3({type:s,value:o,settings:a},e,t,r),n.fromPanel=i}const C3=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function A3({type:n,value:e,settings:t},r,i,o){const s=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=TH(n,s,t,e,i,o)}catch(l){throw new C3(`The value \`${r}\` did not result in a correct value.`,e,l)}if(kf(a,e))throw new C3(`The value \`${r}\` did not result in a value update, which remained the same: \`${e}\`.
        You can ignore this warning if this is the intended behavior.`,e);return a}const R3=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,o=t&&!r,s=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(s,e),o&&s()}},P3=n=>n.shiftKey?5:n.altKey?1/5:1,FH=["value"],BH=["min","max"],UH=n=>typeof n=="number"||typeof n=="string"&&!isNaN(parseFloat(n)),L3=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const o=ls(i,e,t);return r?o+r:o},HH=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},I3=n=>{let{value:e}=n,t=kt(n,FH);const{min:r=-1/0,max:i=1/0}=t,o=kt(t,BH),s=ls(parseFloat(e),r,i);let a;if(!Number.isFinite(e)){const p=String(e).match(/[A-Z]+/i);p&&(a=p[0])}let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(s-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-s)/100).toPrecision(1)));const f=l?y3(l)*10:y3(s);l=l||f/10;const h=Math.round(ls(Math.log10(1/f),0,2));return{value:a?s+a:s,settings:nt({initialValue:s,step:l,pad:h,min:r,max:i,suffix:a},o)}},D3=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var k3=Object.freeze({__proto__:null,schema:UH,sanitize:L3,format:HH,normalize:I3,sanitizeStep:D3});const O3=L.exports.createContext({});function Jn(){return L.exports.useContext(O3)}const M_=L.exports.createContext(null),N3=L.exports.createContext(null),z3=L.exports.createContext(null);function zm(){return L.exports.useContext(N3)}function VH(){return L.exports.useContext(z3)}const F3=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Fm(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Bf={$inputStyle:()=>n=>Fm(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>Fm(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>Fm(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>Fm(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:tt,css:L8,createTheme:GH,globalCss:WH,keyframes:I8}=L5({prefix:"leva",theme:F3(),utils:nt(nt({},Bf),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Bf.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Bf.$focusStyle()(n)}),$hover:n=>({"&:hover":Bf.$hoverStyle()(n)}),$active:n=>({"&:active":Bf.$activeStyle()(n)})})}),$H=WH({".panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});$H();function jH(n){const e=F3();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=GH(e);return{theme:e,className:t.className}}function ho(n,e){const{theme:t}=L.exports.useContext(M_);if(!(n in t)||!(e in t[n]))return uo(Jt.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const B3=tt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}}}}),U3=tt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${B3}`]:{paddingLeft:0}}),qH=tt(U3,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),XH=tt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:""}),YH=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id"],ZH=["onUpdate"];function b_(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:o,type:s,id:a}=n,l=kt(n,YH);const{id:f,emitOnEditStart:h,emitOnEditEnd:p}=Jn(),d=a||f,m=L.exports.useRef(null),x=L.exports.useCallback(w=>y=>{const v=y.currentTarget.value;w(v)},[]);ft.useEffect(()=>{const w=m.current,y=x(v=>{r(v),p()});return w==null||w.addEventListener("blur",y),()=>w==null?void 0:w.removeEventListener("blur",y)},[x,r,p]);const _=L.exports.useCallback(w=>{w.key==="Enter"&&x(r)(w)},[x,r]);return ct(XH,{children:[e&&typeof e=="string"?ne(U3,{children:e}):e,ne(B3,Te({levaType:s,ref:m,id:d,type:"text",autoComplete:"off",spellCheck:"false",value:t,onChange:x(i),onFocus:()=>h(),onKeyPress:_,onKeyDown:o},l))]})}function QH(n){let{onUpdate:e}=n,t=kt(n,ZH);const r=L.exports.useCallback(o=>e(AH(o)),[e]),i=L.exports.useCallback(o=>{const s=o.key==="ArrowUp"?1:o.key==="ArrowDown"?-1:0;if(s){o.preventDefault();const a=o.altKey?.1:o.shiftKey?10:1;e(l=>parseFloat(l)+s*a)}},[e]);return ne(b_,gt(Te({},t),{onUpdate:r,onKeyDown:i,type:"number"}))}const Bm=tt("div",{}),E_=tt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),JH=tt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${E_}::after`]:{opacity:.6},[`${Bm}:hover > & + ${E_}::after`]:{opacity:.6},[`${Bm}:hover > & > svg`]:{opacity:1}}),H3=tt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Bm}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),V3=tt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${H3} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},"&:hover,&:focus-within":{color:"$highlight3"}}),G3=tt(V3,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),KH=tt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),e6=tt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),t6=tt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none"}}}}),W3=tt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),$3=tt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),n6=tt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),r6=tt(mH,{fill:"$toolTipBackground"});function T_({children:n}){const{className:e}=L.exports.useContext(M_);return ne(ZU,{className:e,children:n})}const i6=["align"];function o6(){const{id:n,disable:e,disabled:t}=Jn();return ct(wa,{children:[ne(e6,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),ne("label",{htmlFor:n+"__disable"})]})}function s6(n){const{id:e,optional:t,hint:r}=Jn(),i=n.htmlFor||(e?{htmlFor:e}:null),o=!r&&typeof n.children=="string"?{title:n.children}:null;return ct(wa,{children:[t&&ne(o6,{}),r!==void 0?ct(dH,{children:[ne(hH,{asChild:!0,children:ne(W3,Te(Te({},i),n))}),ne(pH,{side:"top",sideOffset:2,children:ct(n6,{children:[r,ne(r6,{})]})})]}):ne(W3,Te(Te(Te({},i),o),n))]})}function li(n){let{align:e}=n,t=kt(n,i6);const{value:r,label:i,key:o}=Jn(),{hideCopyButton:s}=VH(),a=!s&&o!==void 0,[l,f]=L.exports.useState(!1),h=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[o]:r!=null?r:""})),f(!0)}catch{uo(Jt.CLIPBOARD_ERROR,{[o]:r})}};return ct(KH,{align:e,onPointerLeave:()=>f(!1),children:[ne(s6,Te({},t)),a&&ne("div",{title:`Click to copy ${typeof i=="string"?i:o} value`,children:l?ct("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[ne("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ne("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}):ct("svg",{onClick:h,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[ne("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ne("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})}const a6=["toggled"],l6=tt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function C_(n){let{toggled:e}=n,t=kt(n,a6);return ne(l6,gt(Te({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),{children:ne("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"})}))}const u6=["input"];function $r(n){let{input:e}=n,t=kt(n,u6);return e?ne(G3,Te({},t)):ne(V3,Te({},t))}function j3({value:n,type:e,settings:t,setValue:r}){const[i,o]=L.exports.useState(g3(e,n,t)),s=L.exports.useRef(n),a=L.exports.useRef(t);a.current=t;const l=L.exports.useCallback(h=>o(g3(e,h,a.current)),[e]),f=L.exports.useCallback(h=>{try{r(h)}catch(p){const{type:d,previousValue:m}=p;if(d!=="LEVA_ERROR")throw p;l(m)}},[l,r]);return L.exports.useEffect(()=>{kf(n,s.current)||l(n),s.current=n},[n,l]),{displayValue:i,onChange:o,onUpdate:f}}function Um(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=Jn();return MA(i=>{i.first&&(document.body.classList.add("panel__dragged"),t());const o=n(i);return i.last&&(document.body.classList.remove("panel__dragged"),r()),o},e)}function c6(n){const e=L.exports.useRef(null),t=L.exports.useRef(null),r=L.exports.useRef(!1);return L.exports.useEffect(()=>{const i=R3(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),L.exports.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function q3(){const n=L.exports.useRef(null),e=L.exports.useRef({x:0,y:0}),t=L.exports.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const f6=["__refCount"],A_=(n,e)=>{if(!n[e])return null;const t=n[e];return kt(t,f6)};function d6(n){const e=zm(),[t,r]=L.exports.useState(A_(e.getData(),n)),i=L.exports.useCallback(f=>e.setValueAtPath(n,f,!0),[n,e]),o=L.exports.useCallback(f=>e.setSettingsAtPath(n,f),[n,e]),s=L.exports.useCallback(f=>e.disableInputAtPath(n,f),[n,e]),a=L.exports.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=L.exports.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return L.exports.useEffect(()=>{r(A_(e.getData(),n));const f=e.useStore.subscribe(h=>A_(h.data,n),r,{equalityFn:Of});return()=>f()},[e,n]),[t,{set:i,setSettings:o,disable:s,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const h6=tt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),X3=tt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),R_=tt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Y3=tt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Z3=tt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function p6({value:n,min:e,max:t,onDrag:r,step:i,initialValue:o}){const s=L.exports.useRef(null),a=L.exports.useRef(null),l=L.exports.useRef(0),f=ho("sizes","scrubberWidth"),h=Um(({event:d,first:m,xy:[x],movement:[_],memo:w})=>{if(m){const{width:v,left:S}=s.current.getBoundingClientRect();l.current=v-parseFloat(f),w=(d==null?void 0:d.target)===a.current?n:Nm((x-S)/v,e,t)}const y=w+Nm(_/l.current,0,t-e);return r(D3(y,{step:i,initialValue:o})),w}),p=Om(n,e,t);return ct(Y3,gt(Te({ref:s},h()),{children:[ne(X3,{children:ne(Z3,{style:{left:0,right:`${(1-p)*100}%`}})}),ne(R_,{ref:a,style:{left:`calc(${p} * (100% - ${f}))`}})]}))}const m6=ft.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,o]=L.exports.useState(!1),s=Um(({active:a,delta:[l],event:f,memo:h=0})=>(o(a),h+=l/2,Math.abs(h)>=1&&(e(p=>parseFloat(p)+Math.floor(h)*t*P3(f)),h=0),h));return ne(qH,gt(Te({dragging:i,title:n.length>1?n:""},s()),{children:n.slice(0,r)}))});function Q3({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:o,innerLabelTrim:s=1}){const a=s>0&&ne(m6,{label:n,step:o.step,onUpdate:r,innerLabelTrim:s});return ne(QH,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function g6(){const n=Jn(),{label:e,value:t,onUpdate:r,settings:i,id:o}=n,{min:s,max:a}=i,l=a!==1/0&&s!==-1/0;return ct($r,{input:!0,children:[ne(li,{children:e}),ct(h6,{hasRange:l,children:[l&&ne(p6,Te({value:parseFloat(t),onDrag:r},i)),ne(Q3,gt(Te({},n),{id:o,label:"value",innerLabelTrim:l?0:1}))]})]})}const{sanitizeStep:v6}=k3,y6=kt(k3,["sanitizeStep"]);var x6=fo(nt({component:g6},y6));const _6=(n,e)=>Sr().schema({options:Sr().passesAnyOf(Sr().object(),Sr().array())}).test(e),w6=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},S6=(n,{values:e})=>e.indexOf(n),M6=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(o=>String(o))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var b6=Object.freeze({__proto__:null,schema:_6,sanitize:w6,format:S6,normalize:M6});const E6=tt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),P_=tt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),T6=tt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${P_}:focus + &`]:{$focusStyle:""},[`${P_}:hover + &`]:{$hoverStyle:""}});function C6({displayValue:n,value:e,onUpdate:t,id:r,settings:i}){const{keys:o,values:s}=i,a=L.exports.useRef();return e===s[n]&&(a.current=o[n]),ct(E6,{children:[ne(P_,{id:r,value:n,onChange:l=>t(s[Number(l.currentTarget.value)]),children:o.map((l,f)=>ne("option",{value:f,children:l},l))}),ne(T6,{children:a.current}),ne(C_,{toggled:!0})]})}function A6(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,settings:o}=Jn();return ct($r,{input:!0,children:[ne(li,{children:n}),ne(C6,{id:i,value:e,displayValue:t,onUpdate:r,settings:o})]})}var R6=fo(nt({component:A6},b6));const P6=n=>Sr().string().test(n),L6=n=>{if(typeof n!="string")throw Error("Invalid string");return n};var I6=Object.freeze({__proto__:null,schema:P6,sanitize:L6});const D6=["displayValue","onUpdate","onChange"];function k6(n){let{displayValue:e,onUpdate:t,onChange:r}=n,i=kt(n,D6);return ne(b_,Te({value:e,onUpdate:t,onChange:r},i))}function O6(){const{label:n,displayValue:e,onUpdate:t,onChange:r}=Jn();return ct($r,{input:!0,children:[ne(li,{children:n}),ne(k6,{displayValue:e,onUpdate:t,onChange:r})]})}var N6=fo(nt({component:O6},I6));const z6=n=>Sr().boolean().test(n),F6=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var B6=Object.freeze({__proto__:null,schema:z6,sanitize:F6});const U6=tt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function H6({value:n,onUpdate:e,id:t}){return ct(U6,{children:[ne("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked)}),ne("label",{htmlFor:t,children:ne("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:ne("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}function V6(){const{label:n,value:e,onUpdate:t,id:r}=Jn();return ct($r,{input:!0,children:[ne(li,{children:n}),ne(H6,{value:e,onUpdate:t,id:r})]})}var G6=fo(nt({component:V6},B6));const W6=["locked"];function $6({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:o}){const s=L.exports.useRef(n[t]);s.current=n[t];const a=L.exports.useCallback(f=>i({[t]:A3({type:"NUMBER",value:s.current,settings:r},f)}),[i,r,t]),l=j3({type:"NUMBER",value:n[t],settings:r,setValue:a});return ne(Q3,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:o})}const j6=tt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function q6(n){let{locked:e}=n,t=kt(n,W6);return ne("svg",gt(Te({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:e?ne("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ne("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}))}function L_({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:o}=Jn(),{lock:s,locked:a}=t;return ct(j6,{withLock:s,children:[s&&ne(q6,{locked:a,onClick:()=>o({locked:!a})}),Object.keys(n).map((l,f)=>ne($6,{id:f===0?i:`${i}.${l}`,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r},l))]})}const J3=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([o,s])=>{t[o]=I3(nt({value:s},e[o])).settings,r=Math.max(r,t[o].step),i=Math.min(i,t[o].pad)});for(let o in t){const{step:s,min:a,max:l}=e[o]||{};!isFinite(s)&&(!isFinite(a)||!isFinite(l))&&(t[o].step=r,t[o].pad=i)}return t},X6=["lock"],Y6=["value"];function Z6(n){const e=Sr().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(o=>isFinite(o))};return r=>e.test(r)||t(r)}function Q6(n){return Array.isArray(n)?"array":"object"}function Uf(n,e,t){return Q6(n)===e?n:e==="array"?Object.values(n):DH(n,t)}const J6=(n,e,t)=>{const r=Uf(n,"object",e.keys);for(let s in r)r[s]=L3(r[s],e[s]);const i=Object.keys(r);let o={};if(i.length===e.keys.length)o=r;else{const s=Uf(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],f=s[a],h=f!==0?l/f:1;for(let p in s)p===a?o[a]=l:o[p]=s[p]*h}else o=nt(nt({},s),r)}return Uf(o,e.format,e.keys)},K6=(n,e)=>Uf(n,"object",e.keys),eV=n=>!!n&&("step"in n||"min"in n||"max"in n);function tV(n,e,t=[]){const{lock:r=!1}=e,i=kt(e,X6),o=Array.isArray(n)?"array":"object",s=o==="object"?Object.keys(n):t,a=Uf(n,"object",s),l=eV(i)?s.reduce((h,p)=>Object.assign(h,{[p]:i}),{}):i,f=J3(a,l);return{value:o==="array"?n:a,settings:nt(nt({},f),{},{format:o,keys:s,lock:r,locked:!1})}}function K3(n){return{schema:Z6(n.length),normalize:e=>{let{value:t}=e,r=kt(e,Y6);return tV(t,r,n)},format:(e,t)=>K6(e,t),sanitize:(e,t,r)=>J6(e,t,r)}}var nV={grad:.9,turn:360,rad:360/(2*Math.PI)},po=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Pn=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},jr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},eR=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},tR=function(n){return{r:jr(n.r,0,255),g:jr(n.g,0,255),b:jr(n.b,0,255),a:jr(n.a)}},I_=function(n){return{r:Pn(n.r),g:Pn(n.g),b:Pn(n.b),a:Pn(n.a,3)}},rV=/^#([0-9a-f]{3,8})$/i,Hm=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},nR=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,o=Math.max(e,t,r),s=o-Math.min(e,t,r),a=s?o===e?(t-r)/s:o===t?2+(r-e)/s:4+(e-t)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},rR=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var o=Math.floor(e),s=r*(1-t),a=r*(1-(e-o)*t),l=r*(1-(1-e+o)*t),f=o%6;return{r:255*[r,a,s,s,l,r][f],g:255*[l,r,r,a,s,s][f],b:255*[s,s,l,r,r,a][f],a:i}},iR=function(n){return{h:eR(n.h),s:jr(n.s,0,100),l:jr(n.l,0,100),a:jr(n.a)}},oR=function(n){return{h:Pn(n.h),s:Pn(n.s),l:Pn(n.l),a:Pn(n.a,3)}},sR=function(n){return rR((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Hf=function(n){return{h:(e=nR(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},iV=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oV=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sV=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aV=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,D_={string:[[function(n){var e=rV.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Pn(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Pn(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=sV.exec(n)||aV.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:tR({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=iV.exec(n)||oV.exec(n);if(!e)return null;var t,r,i=iR({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(nV[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return sR(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,o=i===void 0?1:i;return po(e)&&po(t)&&po(r)?tR({r:Number(e),g:Number(t),b:Number(r),a:Number(o)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,o=i===void 0?1:i;if(!po(e)||!po(t)||!po(r))return null;var s=iR({h:Number(e),s:Number(t),l:Number(r),a:Number(o)});return sR(s)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,o=i===void 0?1:i;if(!po(e)||!po(t)||!po(r))return null;var s=function(a){return{h:eR(a.h),s:jr(a.s,0,100),v:jr(a.v,0,100),a:jr(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(o)});return rR(s)},"hsv"]]},aR=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},lR=function(n){return typeof n=="string"?aR(n.trim(),D_.string):typeof n=="object"&&n!==null?aR(n,D_.object):[null,void 0]},lV=function(n){return lR(n)[1]},k_=function(n,e){var t=Hf(n);return{h:t.h,s:jr(t.s+100*e,0,100),l:t.l,a:t.a}},O_=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},uR=function(n,e){var t=Hf(n);return{h:t.h,s:t.s,l:jr(t.l+100*e,0,100),a:t.a}},N_=function(){function n(e){this.parsed=lR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Pn(O_(this.rgba),2)},n.prototype.isDark=function(){return O_(this.rgba)<.5},n.prototype.isLight=function(){return O_(this.rgba)>=.5},n.prototype.toHex=function(){return e=I_(this.rgba),t=e.r,r=e.g,i=e.b,s=(o=e.a)<1?Hm(Pn(255*o)):"","#"+Hm(t)+Hm(r)+Hm(i)+s;var e,t,r,i,o,s},n.prototype.toRgb=function(){return I_(this.rgba)},n.prototype.toRgbString=function(){return e=I_(this.rgba),t=e.r,r=e.g,i=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+i+", "+o+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,o},n.prototype.toHsl=function(){return oR(Hf(this.rgba))},n.prototype.toHslString=function(){return e=oR(Hf(this.rgba)),t=e.h,r=e.s,i=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+o+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,o},n.prototype.toHsv=function(){return e=nR(this.rgba),{h:Pn(e.h),s:Pn(e.s),v:Pn(e.v),a:Pn(e.a,3)};var e},n.prototype.invert=function(){return ur({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),ur(k_(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),ur(k_(this.rgba,-e))},n.prototype.grayscale=function(){return ur(k_(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),ur(uR(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),ur(uR(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?ur({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Pn(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Hf(this.rgba);return typeof e=="number"?ur({h:e,s:t.s,l:t.l,a:t.a}):Pn(t.h)},n.prototype.isEqual=function(e){return this.toHex()===ur(e).toHex()},n}(),ur=function(n){return n instanceof N_?n:new N_(n)},cR=[],uV=function(n){n.forEach(function(e){cR.indexOf(e)<0&&(e(N_,D_),cR.push(e))})};function cV(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var o={};n.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,f=r[this.toHex()];if(f)return f;if(s==null?void 0:s.closest){var h=this.toRgb(),p=1/0,d="black";if(!o.length)for(var m in t)o[m]=new n(t[m]).toRgb();for(var x in t){var _=(a=h,l=o[x],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));_<p&&(p=_,d=x)}return d}},e.string.push([function(s){var a=s.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function xu(){return(xu=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function z_(n,e){if(n==null)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e.indexOf(t=o[r])>=0||(i[t]=n[t]);return i}function F_(n){var e=L.exports.useRef(n),t=L.exports.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var _u=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Vf=function(n){return"touches"in n},B_=function(n){return n&&n.ownerDocument.defaultView||self},fR=function(n,e,t){var r=n.getBoundingClientRect(),i=Vf(e)?function(o,s){for(var a=0;a<o.length;a++)if(o[a].identifier===s)return o[a];return o[0]}(e.touches,t):e;return{left:_u((i.pageX-(r.left+B_(n).pageXOffset))/r.width),top:_u((i.pageY-(r.top+B_(n).pageYOffset))/r.height)}},dR=function(n){!Vf(n)&&n.preventDefault()},U_=ft.memo(function(n){var e=n.onMove,t=n.onKey,r=z_(n,["onMove","onKey"]),i=L.exports.useRef(null),o=F_(e),s=F_(t),a=L.exports.useRef(null),l=L.exports.useRef(!1),f=L.exports.useMemo(function(){var m=function(w){dR(w),(Vf(w)?w.touches.length>0:w.buttons>0)&&i.current?o(fR(i.current,w,a.current)):_(!1)},x=function(){return _(!1)};function _(w){var y=l.current,v=B_(i.current),S=w?v.addEventListener:v.removeEventListener;S(y?"touchmove":"mousemove",m),S(y?"touchend":"mouseup",x)}return[function(w){var y=w.nativeEvent,v=i.current;if(v&&(dR(y),!function(M,C){return C&&!Vf(M)}(y,l.current)&&v)){if(Vf(y)){l.current=!0;var S=y.changedTouches||[];S.length&&(a.current=S[0].identifier)}v.focus(),o(fR(v,y,a.current)),_(!0)}},function(w){var y=w.which||w.keyCode;y<37||y>40||(w.preventDefault(),s({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},_]},[s,o]),h=f[0],p=f[1],d=f[2];return L.exports.useEffect(function(){return d},[d]),ft.createElement("div",xu({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:p,tabIndex:0,role:"slider"}))}),Gf=function(n){return n.filter(Boolean).join(" ")},H_=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,o=Gf(["react-colorful__pointer",n.className]);return ft.createElement("div",{className:o,style:{top:100*i+"%",left:100*t+"%"}},ft.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},cr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},hR=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:cr(n.h),s:cr(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:cr(i/2),a:cr(r,2)}},V_=function(n){var e=hR(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},G_=function(n){var e=hR(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},pR=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var o=Math.floor(e),s=r*(1-t),a=r*(1-(e-o)*t),l=r*(1-(1-e+o)*t),f=o%6;return{r:cr(255*[r,a,s,s,l,r][f]),g:cr(255*[l,r,r,a,s,s][f]),b:cr(255*[s,s,l,r,r,a][f]),a:cr(i,2)}},mR=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,o=Math.max(e,t,r),s=o-Math.min(e,t,r),a=s?o===e?(t-r)/s:o===t?2+(r-e)/s:4+(e-t)/s:0;return{h:cr(60*(a<0?a+6:a)),s:cr(o?s/o*100:0),v:cr(o/255*100),a:i}},gR=ft.memo(function(n){var e=n.hue,t=n.onChange,r=Gf(["react-colorful__hue",n.className]);return ft.createElement("div",{className:r},ft.createElement(U_,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:_u(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuetext":cr(e)},ft.createElement(H_,{className:"react-colorful__hue-pointer",left:e/360,color:V_({h:e,s:100,v:100,a:1})})))}),vR=ft.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:V_({h:e.h,s:100,v:100,a:1})};return ft.createElement("div",{className:"react-colorful__saturation",style:r},ft.createElement(U_,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:_u(e.s+100*i.left,0,100),v:_u(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+cr(e.s)+"%, Brightness "+cr(e.v)+"%"},ft.createElement(H_,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:V_(e)})))}),W_=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function yR(n,e,t){var r=F_(t),i=L.exports.useState(function(){return n.toHsva(e)}),o=i[0],s=i[1],a=L.exports.useRef({color:e,hsva:o});L.exports.useEffect(function(){if(!n.equal(e,a.current.color)){var f=n.toHsva(e);a.current={hsva:f,color:e},s(f)}},[e,n]),L.exports.useEffect(function(){var f;W_(o,a.current.hsva)||n.equal(f=n.fromHsva(o),a.current.color)||(a.current={hsva:o,color:f},r(f))},[o,n,r]);var l=L.exports.useCallback(function(f){s(function(h){return Object.assign({},h,f)})},[]);return[o,l]}var fV=typeof window!="undefined"?L.exports.useLayoutEffect:L.exports.useEffect,dV=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:void 0},xR=new Map,_R=function(n){fV(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!xR.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,xR.set(e,t);var r=dV();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},hV=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,o=n.onChange,s=z_(n,["className","colorModel","color","onChange"]),a=L.exports.useRef(null);_R(a);var l=yR(t,i,o),f=l[0],h=l[1],p=Gf(["react-colorful",e]);return ft.createElement("div",xu({},s,{ref:a,className:p}),ft.createElement(vR,{hsva:f,onChange:h}),ft.createElement(gR,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},pV=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+G_(Object.assign({},t,{a:0}))+", "+G_(Object.assign({},t,{a:1}))+")"},o=Gf(["react-colorful__alpha",e]);return ft.createElement("div",{className:o},ft.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ft.createElement(U_,{onMove:function(s){r({a:s.left})},onKey:function(s){r({a:_u(t.a+s.left)})},"aria-label":"Alpha","aria-valuetext":cr(100*t.a)+"%"},ft.createElement(H_,{className:"react-colorful__alpha-pointer",left:t.a,color:G_(t)})))},mV=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,o=n.onChange,s=z_(n,["className","colorModel","color","onChange"]),a=L.exports.useRef(null);_R(a);var l=yR(t,i,o),f=l[0],h=l[1],p=Gf(["react-colorful",e]);return ft.createElement("div",xu({},s,{ref:a,className:p}),ft.createElement(vR,{hsva:f,onChange:h}),ft.createElement(gR,{hue:f.h,onChange:h}),ft.createElement(pV,{hsva:f,onChange:h,className:"react-colorful__last-control"}))},gV={defaultColor:{r:0,g:0,b:0,a:1},toHsva:mR,fromHsva:pR,equal:W_},vV=function(n){return ft.createElement(mV,xu({},n,{colorModel:gV}))},yV={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return mR({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=pR(n)).r,g:e.g,b:e.b};var e},equal:W_},xV=function(n){return ft.createElement(hV,xu({},n,{colorModel:yV}))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wf(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{f(r.next(h))}catch(p){s(p)}}function l(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?o(h.value):i(h.value).then(a,l)}f((r=r.apply(n,e||[])).next())})}function $f(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(h){return l([f,h])}}function l(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function _V(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function wV(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(_V(arguments[e]));return n}var SV=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Vm(n,e){var t=MV(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function MV(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=SV.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var bV=[".DS_Store","Thumbs.db"];function EV(n){return Wf(this,void 0,void 0,function(){return $f(this,function(e){return[2,TV(n)&&n.dataTransfer?RV(n.dataTransfer,n.type):CV(n)]})})}function TV(n){return!!n.dataTransfer}function CV(n){var e=AV(n.target)?n.target.files?$_(n.target.files):[]:[];return e.map(function(t){return Vm(t)})}function AV(n){return n!==null}function RV(n,e){return Wf(this,void 0,void 0,function(){var t,r;return $f(this,function(i){switch(i.label){case 0:return n.items?(t=$_(n.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(PV))]):[3,2];case 1:return r=i.sent(),[2,wR(SR(r))];case 2:return[2,wR($_(n.files).map(function(o){return Vm(o)}))]}})})}function wR(n){return n.filter(function(e){return bV.indexOf(e.name)===-1})}function $_(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function PV(n){if(typeof n.webkitGetAsEntry!="function")return MR(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?bR(e):MR(n)}function SR(n){return n.reduce(function(e,t){return wV(e,Array.isArray(t)?SR(t):[t])},[])}function MR(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Vm(e);return Promise.resolve(t)}function LV(n){return Wf(this,void 0,void 0,function(){return $f(this,function(e){return[2,n.isDirectory?bR(n):IV(n)]})})}function bR(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function o(){var s=this;e.readEntries(function(a){return Wf(s,void 0,void 0,function(){var l,f,h;return $f(this,function(p){switch(p.label){case 0:if(a.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=p.sent(),t(l),[3,4];case 3:return f=p.sent(),r(f),[3,4];case 4:return[3,6];case 5:h=Promise.all(a.map(LV)),i.push(h),o(),p.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function IV(n){return Wf(this,void 0,void 0,function(){return $f(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var o=Vm(i,n.fullPath);t(o)},function(i){r(i)})})]})})}var DV=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function ER(n,e){return zV(n)||NV(n,e)||OV(n,e)||kV()}function kV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(n,e){if(!!n){if(typeof n=="string")return TR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TR(n,e)}}function TR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function NV(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function zV(n){if(Array.isArray(n))return n}var FV="file-invalid-type",BV="file-too-large",UV="file-too-small",HV="too-many-files",VV=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:FV,message:"File type must be ".concat(t)}},CR=function(e){return{code:BV,message:"File is larger than ".concat(e," bytes")}},AR=function(e){return{code:UV,message:"File is smaller than ".concat(e," bytes")}},GV={code:HV,message:"Too many files"};function RR(n,e){var t=n.type==="application/x-moz-file"||DV(n,e);return[t,t?null:VV(e)]}function PR(n,e,t){if(jf(n.size))if(jf(e)&&jf(t)){if(n.size>t)return[!1,CR(t)];if(n.size<e)return[!1,AR(e)]}else{if(jf(e)&&n.size<e)return[!1,AR(e)];if(jf(t)&&n.size>t)return[!1,CR(t)]}return[!0,null]}function jf(n){return n!=null}function WV(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,o=n.multiple,s=n.maxFiles;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var l=RR(a,t),f=ER(l,1),h=f[0],p=PR(a,r,i),d=ER(p,1),m=d[0];return h&&m})}function Gm(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble!="undefined"?n.cancelBubble:!1}function Wm(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function LR(n){n.preventDefault()}function $V(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function jV(n){return n.indexOf("Edge/")!==-1}function qV(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $V(n)||jV(n)}function Pi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!Gm(r)&&a&&a.apply(void 0,[r].concat(o)),Gm(r)})}}var XV=["children"],YV=["open"],ZV=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],QV=["refKey","onChange","onClick"];function JV(n){return tG(n)||eG(n)||IR(n)||KV()}function KV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tG(n){if(Array.isArray(n))return q_(n)}function j_(n,e){return iG(n)||rG(n,e)||IR(n,e)||nG()}function nG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IR(n,e){if(!!n){if(typeof n=="string")return q_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q_(n,e)}}function q_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rG(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function iG(n){if(Array.isArray(n))return n}function DR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(t),!0).forEach(function(r){X_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X_(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $m(n,e){if(n==null)return{};var t=oG(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function oG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Y_=L.exports.forwardRef(function(n,e){var t=n.children,r=$m(n,XV),i=NR(r),o=i.open,s=$m(i,YV);return L.exports.useImperativeHandle(e,function(){return{open:o}},[o]),ne(wa,{children:t(Kt(Kt({},s),{},{open:o}))})});Y_.displayName="Dropzone";var kR={disabled:!1,getFilesFromEvent:EV,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};Y_.defaultProps=kR;Y_.propTypes={children:Yt.func,accept:Yt.oneOfType([Yt.string,Yt.arrayOf(Yt.string)]),multiple:Yt.bool,preventDropOnDocument:Yt.bool,noClick:Yt.bool,noKeyboard:Yt.bool,noDrag:Yt.bool,noDragEventsBubbling:Yt.bool,minSize:Yt.number,maxSize:Yt.number,maxFiles:Yt.number,disabled:Yt.bool,getFilesFromEvent:Yt.func,onFileDialogCancel:Yt.func,onDragEnter:Yt.func,onDragLeave:Yt.func,onDragOver:Yt.func,onDrop:Yt.func,onDropAccepted:Yt.func,onDropRejected:Yt.func,validator:Yt.func};var OR={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function NR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Kt(Kt({},kR),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,f=e.onDragEnter,h=e.onDragLeave,p=e.onDragOver,d=e.onDrop,m=e.onDropAccepted,x=e.onDropRejected,_=e.onFileDialogCancel,w=e.preventDropOnDocument,y=e.noClick,v=e.noKeyboard,S=e.noDrag,M=e.noDragEventsBubbling,C=e.validator,A=L.exports.useRef(null),T=L.exports.useRef(null),P=L.exports.useReducer(sG,OR),k=j_(P,2),F=k[0],D=k[1],U=F.isFocused,H=F.isFileDialogActive,W=F.draggedFiles,$=L.exports.useCallback(function(){T.current&&(D({type:"openDialog"}),T.current.value=null,T.current.click())},[D]),q=function(){H&&setTimeout(function(){if(T.current){var Ae=T.current.files;Ae.length||(D({type:"closeDialog"}),typeof _=="function"&&_())}},300)};L.exports.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[T,H,_]);var Z=L.exports.useCallback(function(pe){!A.current||!A.current.isEqualNode(pe.target)||(pe.keyCode===32||pe.keyCode===13)&&(pe.preventDefault(),$())},[A,T]),de=L.exports.useCallback(function(){D({type:"focus"})},[]),Me=L.exports.useCallback(function(){D({type:"blur"})},[]),ue=L.exports.useCallback(function(){y||(qV()?setTimeout($,0):$())},[T,y]),V=L.exports.useRef([]),te=function(Ae){A.current&&A.current.contains(Ae.target)||(Ae.preventDefault(),V.current=[])};L.exports.useEffect(function(){return w&&(document.addEventListener("dragover",LR,!1),document.addEventListener("drop",te,!1)),function(){w&&(document.removeEventListener("dragover",LR),document.removeEventListener("drop",te))}},[A,w]);var ie=L.exports.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe),V.current=[].concat(JV(V.current),[pe.target]),Wm(pe)&&Promise.resolve(i(pe)).then(function(Ae){Gm(pe)&&!M||(D({draggedFiles:Ae,isDragActive:!0,type:"setDraggedFiles"}),f&&f(pe))})},[i,f,M]),ye=L.exports.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe);var Ae=Wm(pe);if(Ae&&pe.dataTransfer)try{pe.dataTransfer.dropEffect="copy"}catch{}return Ae&&p&&p(pe),!1},[p,M]),Be=L.exports.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe);var Ae=V.current.filter(function(lt){return A.current&&A.current.contains(lt)}),je=Ae.indexOf(pe.target);je!==-1&&Ae.splice(je,1),V.current=Ae,!(Ae.length>0)&&(D({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Wm(pe)&&h&&h(pe))},[A,h,M]),ce=L.exports.useCallback(function(pe){pe.preventDefault(),pe.persist(),$e(pe),V.current=[],Wm(pe)&&Promise.resolve(i(pe)).then(function(Ae){if(!(Gm(pe)&&!M)){var je=[],lt=[];Ae.forEach(function(B){var O=RR(B,t),fe=j_(O,2),he=fe[0],ze=fe[1],Ne=PR(B,s,o),X=j_(Ne,2),Ee=X[0],ge=X[1],Ce=C?C(B):null;if(he&&Ee&&!Ce)je.push(B);else{var be=[ze,ge];Ce&&(be=be.concat(Ce)),lt.push({file:B,errors:be.filter(function(G){return G})})}}),(!a&&je.length>1||a&&l>=1&&je.length>l)&&(je.forEach(function(B){lt.push({file:B,errors:[GV]})}),je.splice(0)),D({acceptedFiles:je,fileRejections:lt,type:"setFiles"}),d&&d(je,lt,pe),lt.length>0&&x&&x(lt,pe),je.length>0&&m&&m(je,pe)}}),D({type:"reset"})},[a,t,s,o,l,i,d,m,x,M,C]),We=function(Ae){return r?null:Ae},Fe=function(Ae){return v?null:We(Ae)},Re=function(Ae){return S?null:We(Ae)},$e=function(Ae){M&&Ae.stopPropagation()},pt=L.exports.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=pe.refKey,je=Ae===void 0?"ref":Ae,lt=pe.onKeyDown,B=pe.onFocus,O=pe.onBlur,fe=pe.onClick,he=pe.onDragEnter,ze=pe.onDragOver,Ne=pe.onDragLeave,X=pe.onDrop,Ee=$m(pe,ZV);return Kt(Kt(X_({onKeyDown:Fe(Pi(lt,Z)),onFocus:Fe(Pi(B,de)),onBlur:Fe(Pi(O,Me)),onClick:We(Pi(fe,ue)),onDragEnter:Re(Pi(he,ie)),onDragOver:Re(Pi(ze,ye)),onDragLeave:Re(Pi(Ne,Be)),onDrop:Re(Pi(X,ce))},je,A),!r&&!v?{tabIndex:0}:{}),Ee)}},[A,Z,de,Me,ue,ie,ye,Be,ce,v,S,r]),le=L.exports.useCallback(function(pe){pe.stopPropagation()},[]),ve=L.exports.useMemo(function(){return function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=pe.refKey,je=Ae===void 0?"ref":Ae,lt=pe.onChange,B=pe.onClick,O=$m(pe,QV),fe=X_({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:We(Pi(lt,ce)),onClick:We(Pi(B,le)),autoComplete:"off",tabIndex:-1},je,T);return Kt(Kt({},fe),O)}},[T,t,a,ce,r]),xe=W.length,De=xe>0&&WV({files:W,accept:t,minSize:s,maxSize:o,multiple:a,maxFiles:l}),_e=xe>0&&!De;return Kt(Kt({},F),{},{isDragAccept:De,isDragReject:_e,isFocused:U&&!r,getRootProps:pt,getInputProps:ve,rootRef:A,inputRef:T,open:We($)})}function sG(n,e){switch(e.type){case"focus":return Kt(Kt({},n),{},{isFocused:!0});case"blur":return Kt(Kt({},n),{},{isFocused:!1});case"openDialog":return Kt(Kt({},n),{},{isFileDialogActive:!0});case"closeDialog":return Kt(Kt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return Kt(Kt({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return Kt(Kt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Kt({},OR);default:return n}}const aG=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(s,a,l)=>{let f=s;if(a){const h=(l==null?void 0:l.equalityFn)||Object.is;let p=s(r.getState());f=d=>{const m=s(d);if(!h(p,m)){const x=p;a(p=m,x)}},(l==null?void 0:l.fireImmediately)&&a(p,p)}return i(f)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var lG=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var uG=lG;function zR(n){return uG(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var FR=function(e){var t,r;return!(zR(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,zR(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var cG=FR,Z_=function(e){return cG(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var fG=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},dG=Z_,hG=fG;function BR(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];Q_(i)&&hG(i,pG,n)}return n}function pG(n,e){if(!!mG(e)){var t=this[e];Q_(n)&&Q_(t)?BR(t,n):this[e]=n}}function Q_(n){return dG(n)&&!Array.isArray(n)}function mG(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var gG=BR;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var vG=function(n,e,t,r,i){if(!yG(n)||!e)return n;if(e=jm(e),t&&(e+="."+jm(t)),r&&(e+="."+jm(r)),i&&(e+="."+jm(i)),e in n)return n[e];for(var o=e.split("."),s=o.length,a=-1;n&&++a<s;){for(var l=o[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+o[++a];n=n[l]}return n};function yG(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function jm(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var xG=function(n,e){if(n===null||typeof n=="undefined")throw new TypeError("expected first argument to be an object.");if(typeof e=="undefined"||typeof Symbol=="undefined"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,o=0;++o<i;)for(var s=Object(arguments[o]),a=Object.getOwnPropertySymbols(s),l=0;l<a.length;l++){var f=a[l];t.call(s,f)&&(r[f]=s[f])}return r},_G=Z_,wG=xG,SG=Object.assign||function(n){if(n===null||typeof n=="undefined")throw new TypeError("Cannot convert undefined or null to object");UR(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];bG(t)&&(t=EG(t)),UR(t)&&(MG(n,t),wG(n,t))}return n};function MG(n,e){for(var t in e)TG(e,t)&&(n[t]=e[t])}function bG(n){return n&&typeof n=="string"}function EG(n){var e={};for(var t in n)e[t]=n[t];return e}function UR(n){return n&&typeof n=="object"||_G(n)}function TG(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var CG=SG,AG=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=CG({sep:"."},e),i=r.quotes||['"',"'","`"],o;r.brackets===!0?o={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(o=r.brackets);var s=[],a=[],l=[""],f=r.sep,h=n.length,p=-1,d;function m(){if(o&&a.length)return o[a[a.length-1]]}for(;++p<h;){var x=n[p],_=n[p+1],w={val:x,idx:p,arr:l,str:n};if(s.push(w),x==="\\"){w.val=PG(r,n,p)===!0?x+_:_,w.escaped=!0,typeof t=="function"&&t(w),l[l.length-1]+=w.val,p++;continue}if(o&&o[x]){a.push(x);var y=m(),v=p+1;if(n.indexOf(y,v+1)!==-1)for(;a.length&&v<h;){var S=n[++v];if(S==="\\"){S++;continue}if(i.indexOf(S)!==-1){v=J_(n,S,v+1);continue}if(y=m(),a.length&&n.indexOf(y,v+1)===-1)break;if(o[S]){a.push(S);continue}y===S&&a.pop()}if(d=v,d===-1){l[l.length-1]+=x;continue}x=n.slice(p,d+1),w.val=x,w.idx=p=d}if(i.indexOf(x)!==-1){if(d=J_(n,x,p+1),d===-1){l[l.length-1]+=x;continue}RG(x,r)===!0?x=n.slice(p,d+1):x=n.slice(p+1,d),w.val=x,w.idx=p=d}if(typeof t=="function"&&(t(w,s),x=w.val,p=w.idx),w.val===f&&w.split!==!1){l.push("");continue}l[l.length-1]+=w.val}return l};function J_(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?J_(n,e,i+1):i}function RG(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function PG(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var HR=function(e){return typeof e!="undefined"&&e!==null&&(typeof e=="object"||typeof e=="function")},VR=HR,LG=function(e){VR(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];VR(i)&&IG(e,i)}return e};function IG(n,e){for(var t in e)DG(e,t)&&(n[t]=e[t])}function DG(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var kG=AG,OG=LG,GR=FR,WR=HR,NG=function(n,e,t){if(!WR(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=kG(e,{sep:".",brackets:!0}).filter(zG),i=r.length,o=-1,s=n;++o<i;){var a=r[o];if(o!==i-1){WR(s[a])||(s[a]={}),s=s[a];continue}GR(s[a])&&GR(t)?s[a]=OG({},s[a],t):s[a]=t}return n};function zG(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var K_=Z_,$R=gG,FG=vG,jR=NG,BG=function(e,t,r){if(!K_(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return $R.apply(null,arguments);if(typeof r=="string")return jR(e,t,r),e;var i=FG(e,t);return K_(r)&&K_(i)&&(r=$R({},i,r)),jR(e,t,r),e};const qR=(...n)=>n.filter(Boolean).join(".");function UG(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function HG(n,e){return Object.entries(LH(n,e)).reduce((t,[,{value:r,disabled:i,key:o}])=>(t[o]=i?void 0:r,t),{})}function VG(n,e){const t=L.exports.useRef();return(e?kf:Of)(n,t.current)||(t.current=n),t.current}function XR(n,e){return L.exports.useMemo(n,VG(e,!0))}function GG(n){const e=L.exports.useRef(null),t=L.exports.useRef(null),r=L.exports.useRef(!0);return L.exports.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),L.exports.useEffect(()=>{if(r.current){r.current=!1;return}let i;const o=e.current,s=()=>{n&&(o.style.removeProperty("height"),o.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};o.addEventListener("transitionend",s,{once:!0});const{height:a}=t.current.getBoundingClientRect();return o.style.height=a+"px",n||(o.style.overflow="hidden",i=window.setTimeout(()=>o.style.height="0px",50)),()=>{o.removeEventListener("transitionend",s),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const WG=n=>{const[e,t]=L.exports.useState(n.getVisiblePaths());return L.exports.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Of});return()=>r()},[n]),e};function $G(n,e,t){return n.useStore(i=>{const o=nt(nt({},t),i.data);return HG(o,e)},Of)}function YR(n=3){const e=L.exports.useRef(null),t=L.exports.useRef(null),[r,i]=L.exports.useState(!1),o=L.exports.useCallback(()=>i(!0),[]),s=L.exports.useCallback(()=>i(!1),[]);return L.exports.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:f}=e.current.getBoundingClientRect(),{height:h}=t.current.getBoundingClientRect(),p=a+h>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=f+"px",p==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:o,hide:s}}uV([cV]);const jG={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Sr.extend({color:()=>n=>ur(n).isValid()});const qG=n=>Sr().color().test(n);function ZR(n,{format:e,hasAlpha:t,isString:r}){const i=jG[e]+(r&&e!=="hex"?"String":""),o=n[i]();return typeof o=="object"&&!t?IH(o,["a"]):o}const QR=(n,e)=>{const t=ur(n);if(!t.isValid())throw Error("Invalid color");return ZR(t,e)},XG=(n,e)=>ZR(ur(n),nt(nt({},e),{},{isString:!0,format:"hex"})),YG=({value:n})=>{const e=lV(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:QR(n,i),settings:i}};var ZG=Object.freeze({__proto__:null,schema:qG,sanitize:QR,format:XG,normalize:YG});const QG=tt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),JG=tt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),KG=tt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function JR(n,e){return e!=="rgb"?ur(n).toRgb():n}function eW({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:o}=Jn(),{format:s,hasAlpha:a}=t,{popinRef:l,wrapperRef:f,shown:h,show:p,hide:d}=YR(),m=L.exports.useRef(0),[x,_]=L.exports.useState(()=>JR(n,s)),w=a?vV:xV,y=()=>{_(JR(n,s)),p(),i()},v=()=>{d(),o(),window.clearTimeout(m.current)},S=()=>{m.current=window.setTimeout(v,500)};return L.exports.useEffect(()=>()=>window.clearTimeout(m.current),[]),ct(wa,{children:[ne(QG,{ref:l,active:h,onClick:()=>y(),style:{color:e}}),h&&ct(T_,{children:[ne($3,{onPointerUp:v}),ne(KG,{ref:f,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:M=>M.buttons===0&&S(),children:ne(w,{color:x,onChange:r})})]})]})}function tW(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:o}=Jn();return ct($r,{input:!0,children:[ne(li,{children:t}),ct(JG,{children:[ne(eW,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:o}),ne(b_,{value:e,onChange:r,onUpdate:i})]})]})}var nW=fo(nt({component:tW},ZG));function rW(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Jn();return ct($r,{input:!0,children:[ne(li,{children:n}),ne(L_,{value:e,settings:r,onUpdate:t})]})}var iW=fo(nt({component:rW},K3(["x","y","z"])));const oW=tt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),sW=tt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function aW({value:n,settings:e,onUpdate:t}){const r=L.exports.useRef(),i=L.exports.useRef(0),o=L.exports.useRef(0),s=L.exports.useRef(1),[a,l]=L.exports.useState(!1),[f,h]=L.exports.useState(!1),[p,d]=q3(),m=L.exports.useRef(null),x=L.exports.useRef(null);L.exports.useLayoutEffect(()=>{if(a){const{top:U,left:H,width:W,height:$}=m.current.getBoundingClientRect();x.current.style.left=H+W/2+"px",x.current.style.top=U+$/2+"px"}},[a]);const{keys:[_,w],joystick:y}=e,v=y==="invertY"?1:-1,{[_]:{step:S},[w]:{step:M}}=e,C=ho("sizes","joystickWidth"),A=ho("sizes","joystickHeight"),T=parseFloat(C)*.8/2,P=parseFloat(A)*.8/2,k=L.exports.useCallback(()=>{r.current||(h(!0),i.current&&d({x:i.current*T}),o.current&&d({y:o.current*-P}),r.current=window.setInterval(()=>{t(U=>{const H=S*i.current*s.current,W=v*M*o.current*s.current;return Array.isArray(U)?{[_]:U[0]+H,[w]:U[1]+W}:{[_]:U[_]+H,[w]:U[w]+W}})},16))},[T,P,t,d,S,M,_,w,v]),F=L.exports.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,h(!1)},[]);L.exports.useEffect(()=>{function U(H){s.current=P3(H)}return window.addEventListener("keydown",U),window.addEventListener("keyup",U),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",U),window.removeEventListener("keyup",U)}},[]);const D=Um(({first:U,active:H,delta:[W,$],movement:[q,Z]})=>{U&&l(!0);const de=ls(q,-T,T),Me=ls(Z,-P,P);i.current=Math.abs(q)>Math.abs(de)?Math.sign(q-de):0,o.current=Math.abs(Z)>Math.abs(Me)?Math.sign(Me-Z):0;let ue=n[_],V=n[w];H?(i.current||(ue+=W*S*s.current,d({x:de})),o.current||(V-=v*$*M*s.current,d({y:Me})),i.current||o.current?k():F(),t({[_]:ue,[w]:V})):(l(!1),i.current=0,o.current=0,d({x:0,y:0}),F())});return ne(oW,gt(Te({ref:m},D()),{children:a&&ne(T_,{children:ct(sW,{ref:x,isOutOfBounds:f,children:[ne("div",{}),ne("span",{ref:p})]})})}))}const lW=tt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function uW(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Jn();return ct($r,{input:!0,children:[ne(li,{children:n}),ct(lW,{withJoystick:!!r.joystick,children:[r.joystick&&ne(aW,{value:e,settings:r,onUpdate:t}),ne(L_,{value:e,settings:r,onUpdate:t})]})]})}const cW=["joystick"],KR=K3(["x","y"]),fW=n=>{let{joystick:e=!0}=n,t=kt(n,cW);const{value:r,settings:i}=KR.normalize(t);return{value:r,settings:nt(nt({},i),{},{joystick:e})}};var dW=fo(nt(nt({component:uW},KR),{},{normalize:fW}));const hW=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |\xA0File].")}},pW=(n,e)=>typeof e=="object"&&"image"in e,mW=({image:n})=>({value:n});var gW=Object.freeze({__proto__:null,sanitize:hW,schema:pW,normalize:mW});const vW=tt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),yW=tt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),xW=tt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),_W=tt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),wW=tt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),SW=tt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function MW(){const{label:n,value:e,onUpdate:t}=Jn(),{popinRef:r,wrapperRef:i,shown:o,show:s,hide:a}=YR(),l=L.exports.useCallback(m=>{m.length&&t(m[0])},[t]),f=L.exports.useCallback(m=>{m.stopPropagation(),t(void 0)},[t]),{getRootProps:h,getInputProps:p,isDragAccept:d}=NR({maxFiles:1,accept:"image/*",onDrop:l});return ct($r,{input:!0,children:[ne(li,{children:n}),ct(vW,{children:[ne(xW,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&s(),onPointerUp:a,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&ct(T_,{children:[ne($3,{onPointerUp:a,style:{cursor:"pointer"}}),ne(_W,{ref:i,style:{backgroundImage:`url(${e})`}})]}),ct(yW,gt(Te({},h({isDragAccept:d})),{children:[ne("input",Te({},p())),ne(wW,{children:d?"drop image":"click or drop"})]})),ne(SW,{onClick:f,disabled:!e})]})]})}var bW=fo(nt({component:MW},gW));const eP=Sr().number(),EW=(n,e)=>Sr().array().length(2).every.number().test(n)&&Sr().schema({min:eP,max:eP}).test(e),e1=n=>({min:n[0],max:n[1]}),tP=(n,{bounds:[e,t]},r)=>{const i={min:r[0],max:r[1]},{min:o,max:s}=nt(nt({},i),n);return[ls(Number(o),e,Math.max(e,s)),ls(Number(s),Math.min(t,o),t)]},TW=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=J3(e1(n),{min:r,max:r}),o=[e,t],s=nt(nt({},i),{},{bounds:o});return{value:tP(e1(n),s,n),settings:s}};var CW=Object.freeze({__proto__:null,schema:EW,format:e1,sanitize:tP,normalize:TW});const AW=["value","bounds","onDrag"],RW=["bounds"],PW=tt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function LW(n){let{value:e,bounds:[t,r],onDrag:i}=n,o=kt(n,AW);const s=L.exports.useRef(null),a=L.exports.useRef(null),l=L.exports.useRef(null),f=L.exports.useRef(0),h=ho("sizes","scrubberWidth"),p=Um(({event:x,first:_,xy:[w],movement:[y],memo:v={}})=>{if(_){const{width:M,left:C}=s.current.getBoundingClientRect();f.current=M-parseFloat(h);const A=(x==null?void 0:x.target)===a.current||(x==null?void 0:x.target)===l.current;v.pos=Nm((w-C)/M,t,r);const T=Math.abs(v.pos-e.min)-Math.abs(v.pos-e.max);v.key=T<0||T===0&&v.pos<=e.min?"min":"max",A&&(v.pos=e[v.key])}const S=v.pos+Nm(y/f.current,0,r-t);return i({[v.key]:v6(S,o[v.key])}),v}),d=`calc(${Om(e.min,t,r)} * (100% - ${h} - 8px) + 4px)`,m=`calc(${1-Om(e.max,t,r)} * (100% - ${h} - 8px) + 4px)`;return ct(Y3,gt(Te({ref:s},p()),{children:[ne(X3,{children:ne(Z3,{style:{left:d,right:m}})}),ne(R_,{position:"left",ref:a,style:{left:d}}),ne(R_,{position:"right",ref:l,style:{right:m}})]}))}function IW(){const{label:n,displayValue:e,onUpdate:t,settings:r}=Jn(),i=kt(r,RW);return ne(wa,{children:ct($r,{input:!0,children:[ne(li,{children:n}),ct(PW,{children:[ne(LW,gt(Te({value:e},r),{onDrag:t})),ne(L_,{value:e,settings:i,onUpdate:t,innerLabelTrim:0})]})]})})}var DW=fo(nt({component:IW},CW));const kW=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},OW=["type","value"],NW=["onChange","transient","onEditStart","onEditEnd"],zW=function(){const e=$2(aG(()=>({data:{}}))),t=kW();this.storeId=PH(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const s=this.getData(),a=Object.keys(s),l=[];Object.entries(r).forEach(([h,p])=>{p.render&&a.some(d=>d.indexOf(h)===0)&&!p.render(this.get)&&l.push(h+".")});const f=[];return i.forEach(h=>{h in s&&s[h].__refCount>0&&l.every(p=>h.indexOf(p)===-1)&&(!s[h].render||s[h].render(this.get))&&f.push(h)}),f},this.setOrderedPaths=s=>{s.forEach(a=>i.add(a))},this.orderPaths=s=>(this.setOrderedPaths(s),s),this.disposePaths=s=>{e.setState(a=>{const l=a.data;return s.forEach(f=>{if(f in l){const h=l[f];h.__refCount--,h.__refCount===0&&h.type in si&&delete l[f]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=s=>r[s]||{},this.getData=()=>e.getState().data,this.addData=(s,a)=>{e.setState(l=>{const f=l.data;return Object.entries(s).forEach(([h,p])=>{let d=f[h];if(d){const{type:m,value:x}=p,_=kt(p,OW);m!==d.type?uo(Jt.INPUT_TYPE_OVERRIDE,m):((d.__refCount===0||a)&&Object.assign(d,_),d.__refCount++)}else f[h]=nt(nt({},p),{},{__refCount:1})}),{data:f}})},this.setValueAtPath=(s,a,l)=>{e.setState(f=>{const h=f.data;return T3(h[s],a,s,this,l),{data:h}})},this.setSettingsAtPath=(s,a)=>{e.setState(l=>{const f=l.data;return f[s].settings=nt(nt({},f[s].settings),a),{data:f}})},this.disableInputAtPath=(s,a)=>{e.setState(l=>{const f=l.data;return f[s].disabled=a,{data:f}})},this.set=(s,a)=>{e.setState(l=>{const f=l.data;return Object.entries(s).forEach(([h,p])=>{try{T3(f[h],p,void 0,void 0,a)}catch{}}),{data:f}})},this.getInput=s=>{try{return this.getData()[s]}catch{uo(Jt.PATH_DOESNT_EXIST,s)}},this.get=s=>{var a;return(a=this.getInput(s))===null||a===void 0?void 0:a.value},this.emitOnEditStart=s=>{t.emit(`onEditStart:${s}`,this.get(s),s,nt(nt({},this.getInput(s)),{},{get:this.get}))},this.emitOnEditEnd=s=>{t.emit(`onEditEnd:${s}`,this.get(s),s,nt(nt({},this.getInput(s)),{},{get:this.get}))},this.subscribeToEditStart=(s,a)=>{const l=`onEditStart:${s}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(s,a)=>{const l=`onEditEnd:${s}`;return t.on(l,a),()=>t.off(l,a)};const o=(s,a,l)=>{const f={};return Object.entries(s).forEach(([h,p])=>{if(h==="")return uo(Jt.EMPTY_KEY);let d=qR(a,h);if(p.type===si.FOLDER){const m=o(p.schema,d,l);Object.assign(f,m),d in r||(r[d]=p.settings)}else if(h in l)uo(Jt.DUPLICATE_KEYS,h,d,l[h].path);else{const m=zH(p,h,d,f);if(m){const{type:x,options:_,input:w}=m,{onChange:y,transient:v,onEditStart:S,onEditEnd:M}=_,C=kt(_,NW);f[d]=nt(nt(nt({type:x},C),w),{},{fromPanel:!0}),l[h]={path:d,onChange:y,transient:v,onEditStart:S,onEditEnd:M}}else uo(Jt.UNKNOWN_INPUT,d,p)}}),f};this.getDataFromSchema=s=>{const a={};return[o(s,"",a),a]}},nP=new zW,FW={collapsed:!1};function BW(n,e){return{type:si.FOLDER,schema:n,settings:nt(nt({},FW),e)}}const UW=n=>"__levaInput"in n,HW=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[o,s]=UG(i);(!r||o.toLowerCase().indexOf(r)>-1)&&BG(t,s,{[o]:{__levaInput:!0,path:i}})}),t};function VW({toggle:n,toggled:e,name:t}){return ct(JH,{onClick:()=>n(),children:[ne(C_,{toggled:e}),ne("div",{children:t})]})}const GW=["type","label","path","valueKey","value","settings","setValue","disabled"];function WW(n){let{type:e,label:t,path:r,valueKey:i,value:o,settings:s,setValue:a,disabled:l}=n,f=kt(n,GW);const{displayValue:h,onChange:p,onUpdate:d}=j3({type:e,value:o,settings:s,setValue:a}),m=Sa[e].component;return m?ne(O3.Provider,{value:nt({key:i,path:r,id:""+r,label:t,displayValue:h,value:o,onChange:p,onUpdate:d,settings:s,setValue:a,disabled:l},f),children:ne(t6,{disabled:l,children:ne(m,{})})}):(uo(Jt.NO_COMPONENT_FOR_TYPE,e,r),null)}const $W=tt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function jW({onClick:n,settings:e,label:t}){const r=zm();return ne($r,{children:ne($W,{disabled:e.disabled,onClick:()=>n(r.get),children:t})})}const qW=tt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),XW=tt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),YW=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function ZW(n){const{label:e,opts:t}=YW(n),r=zm();return ct($r,{input:!!e,children:[e&&ne(li,{children:e}),ne(qW,{children:Object.entries(t).map(([i,o])=>ne(XW,{onClick:()=>o(r.get),children:i},i))})]})}const QW=tt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),rP=100;function JW(n,e){n.push(e),n.length>rP&&n.shift()}const KW=L.exports.forwardRef(function({initialValue:n},e){const t=ho("colors","highlight3"),r=ho("colors","elevation2"),i=ho("colors","highlight1"),[o,s]=L.exports.useMemo(()=>[ur(i).alpha(.4).toRgbString(),ur(i).alpha(.1).toRgbString()],[i]),a=L.exports.useRef([n]),l=L.exports.useRef(n),f=L.exports.useRef(n),h=L.exports.useRef(),p=L.exports.useCallback((x,_)=>{if(!x)return;const{width:w,height:y}=x,v=new Path2D,S=w/rP,M=y*.05;for(let T=0;T<a.current.length;T++){const P=Om(a.current[T],l.current,f.current),k=S*T,F=y-P*(y-M*2)-M;v.lineTo(k,F)}_.clearRect(0,0,w,y);const C=new Path2D(v);C.lineTo(S*(a.current.length+1),y),C.lineTo(0,y),C.lineTo(0,0);const A=_.createLinearGradient(0,0,0,y);A.addColorStop(0,o),A.addColorStop(1,s),_.fillStyle=A,_.fill(C),_.strokeStyle=r,_.lineJoin="round",_.lineWidth=14,_.stroke(v),_.strokeStyle=t,_.lineWidth=2,_.stroke(v)},[t,r,o,s]),[d,m]=c6(p);return L.exports.useImperativeHandle(e,()=>({frame:x=>{(l.current===void 0||x<l.current)&&(l.current=x),(f.current===void 0||x>f.current)&&(f.current=x),JW(a.current,x),h.current=requestAnimationFrame(()=>p(d.current,m.current))}}),[d,m,p]),L.exports.useEffect(()=>()=>cancelAnimationFrame(h.current),[]),ne(QW,{ref:d})}),iP=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),e8=L.exports.forwardRef(function({initialValue:n},e){const[t,r]=L.exports.useState(iP(n));return L.exports.useImperativeHandle(e,()=>({frame:i=>r(iP(i))}),[]),ne("div",{children:t})});function oP(n){return typeof n=="function"?n():n.current}function t8({label:n,objectOrFn:e,settings:t}){const r=L.exports.useRef(),i=L.exports.useRef(oP(e));return L.exports.useEffect(()=>{const o=window.setInterval(()=>{var s;document.hidden||(s=r.current)===null||s===void 0||s.frame(oP(e))},t.interval);return()=>window.clearInterval(o)},[e,t.interval]),ct($r,{input:!0,children:[ne(li,{align:"top",children:n}),t.graph?ne(KW,{ref:r,initialValue:i.current}):ne(e8,{ref:r,initialValue:i.current})]})}const n8=["type","label","key"],r8={[si.BUTTON]:jW,[si.BUTTON_GROUP]:ZW,[si.MONITOR]:t8},i8=ft.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:o,emitOnEditStart:s,emitOnEditEnd:a}]=d6(n);if(!e)return null;const{type:l,label:f,key:h}=e,p=kt(e,n8);if(l in si){const d=r8[l];return ne(d,Te({label:f,path:n},p))}return l in Sa?ne(WW,Te({type:l,label:f,storeId:o,path:n,valueKey:h,setValue:t,setSettings:r,disable:i,emitOnEditStart:s,emitOnEditEnd:a},p),o+n):(SH(Jt.UNSUPPORTED_INPUT,l,n),null)}),o8=({name:n,path:e,tree:t})=>{const r=zm(),i=qR(e,n),{collapsed:o,color:s}=r.getFolderSettings(i),[a,l]=L.exports.useState(!o),f=L.exports.useRef(null),h=ho("colors","folderWidgetColor"),p=ho("colors","folderTextColor");return L.exports.useLayoutEffect(()=>{f.current.style.setProperty("--leva-colors-folderWidgetColor",s||h),f.current.style.setProperty("--leva-colors-folderTextColor",s||p)},[s,h,p]),ct(Bm,{ref:f,children:[ne(VW,{name:n,toggled:a,toggle:()=>l(d=>!d)}),ne(sP,{parent:i,tree:t,toggled:a})]})},sP=ft.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:o})=>{const{wrapperRef:s,contentRef:a}=GG(o);return ne(E_,{ref:s,isRoot:n,fill:e,flat:t,children:ne(H3,{ref:a,isRoot:n,toggled:o,children:Object.entries(i).map(([l,f])=>UW(f)?ne(i8,{valueKey:f.valueKey,path:f.path},f.path):ne(o8,{name:l,path:r,tree:f},l))})})}),s8=tt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${G3}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),aP=40,qm=tt("i",{$flexCenter:"",width:aP,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),a8=tt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),l8=tt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${qm}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),u8=tt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),c8=tt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:aP}}}}),f8=ft.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=L.exports.useState(""),o=L.exports.useMemo(()=>R3(n,250),[n]),s=()=>{n(""),i("")},a=l=>{const f=l.currentTarget.value;e(!0),i(f)};return L.exports.useEffect(()=>{o(r)},[r,o]),ct(wa,{children:[ne(u8,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),ne(qm,{onClick:()=>s(),style:{visibility:r?"visible":"hidden"},children:ne("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor",children:ne("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})});function d8({setFilter:n,onDrag:e,toggle:t,toggled:r,title:i,drag:o,filterEnabled:s}){const[a,l]=L.exports.useState(!1),f=L.exports.useRef(null);L.exports.useEffect(()=>{var p,d;a?(p=f.current)===null||p===void 0||p.focus():(d=f.current)===null||d===void 0||d.blur()},[a]);const h=MA(({offset:[p,d]})=>e({x:p,y:d}),{filterTaps:!0});return L.exports.useEffect(()=>{const p=d=>{d.key==="L"&&d.shiftKey&&d.metaKey&&l(m=>!m)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),ct(wa,{children:[ct(a8,{mode:o?"drag":void 0,children:[ne(qm,{active:!r,onClick:()=>t(),children:ne(C_,{toggled:r,width:12,height:8})}),ne(c8,gt(Te({},o?h():{}),{drag:o,filterEnabled:s,children:i===void 0&&o?ct("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg",children:[ne("circle",{cx:"2",cy:"2",r:"2"}),ne("circle",{cx:"14",cy:"2",r:"2"}),ne("circle",{cx:"26",cy:"2",r:"2"}),ne("circle",{cx:"2",cy:"12",r:"2"}),ne("circle",{cx:"14",cy:"12",r:"2"}),ne("circle",{cx:"26",cy:"12",r:"2"})]}):i})),s&&ne(qm,{active:a,onClick:()=>l(p=>!p),children:ct("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20",children:[ne("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ne("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})})]}),ne(l8,{toggled:a,children:ne(f8,{ref:f,setFilter:n,toggle:t})})]})}const h8=["store","hidden","theme","collapsed"];function p8(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,o=kt(n,h8);const s=XR(()=>jH(r),[r]),[a,l]=L.exports.useState(!i),f=typeof i=="object"?!i.collapsed:a,h=L.exports.useMemo(()=>typeof i=="object"?p=>{typeof p=="function"?i.onChange(!p(!i.collapsed)):i.onChange(!p)}:l,[i]);return!e||t?null:ne(M_.Provider,{value:s,children:ne(m8,gt(Te({store:e},o),{toggled:f,setToggle:h,rootClass:s.className}))})}const m8=ft.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,oneLineLabels:i=!1,titleBar:o={title:void 0,drag:!0,filter:!0},hideCopyButton:s=!1,toggled:a,setToggle:l})=>{var f,h;const p=WG(n),[d,m]=L.exports.useState(""),x=L.exports.useMemo(()=>HW(p,d),[p,d]),[_,w]=q3(),y=p.length>0,v=typeof o=="object"&&o.title||void 0,S=typeof o=="object"&&(f=o.drag)!==null&&f!==void 0?f:!0,M=typeof o=="object"&&(h=o.filter)!==null&&h!==void 0?h:!0;return ne(z3.Provider,{value:{hideCopyButton:s},children:ct(s8,{ref:_,className:e,fill:t,flat:r,oneLineLabels:i,hideTitleBar:!o,style:{display:y?"block":"none"},children:[o&&ne(d8,{onDrag:w,setFilter:m,toggle:C=>l(A=>C!=null?C:!A),toggled:a,title:v,drag:S,filterEnabled:M}),y&&ne(N3.Provider,{value:n,children:ne(sP,{isRoot:!0,fill:t,flat:r,tree:x,toggled:a})})]})})}),g8=["isRoot"];let Xm=!1,Ma=null;function v8(n){let{isRoot:e=!1}=n,t=kt(n,g8);return L.exports.useEffect(()=>(Xm=!0,!e&&Ma&&(Ma.remove(),Ma=null),()=>{e||(Xm=!1)}),[e]),ne(p8,Te({store:nP},t))}function y8(n){L.exports.useEffect(()=>{n&&!Xm&&(Ma||(Ma=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Ma),Ob.render(ne(v8,{isRoot:!0}),Ma))),Xm=!0)},[n])}function x8(n,e,t,r,i){let o,s,a,l,f;return typeof n=="string"?(s=n,o=e,Array.isArray(t)?f=t:t&&("store"in t?(l=t,f=r):(a=t,Array.isArray(r)?f=r:(l=r,f=i)))):(o=n,Array.isArray(e)?f=e:(l=e,f=t)),{schema:o,folderName:s,folderSettings:a,hookSettings:l,deps:f||[]}}function D8(n,e,t,r,i){const{folderName:o,schema:s,folderSettings:a,hookSettings:l,deps:f}=x8(n,e,t,r,i),h=typeof s=="function",p=L.exports.useRef(!1),d=L.exports.useRef(!0),m=XR(()=>{p.current=!0;const F=typeof s=="function"?s():s;return o?{[o]:BW(F,a)}:F},f),x=!(l!=null&&l.store);y8(x);const[_]=L.exports.useState(()=>(l==null?void 0:l.store)||nP),[w,y]=L.exports.useMemo(()=>_.getDataFromSchema(m),[_,m]),[v,S,M,C,A]=L.exports.useMemo(()=>{const F=[],D=[],U={},H={},W={};return Object.values(y).forEach(({path:$,onChange:q,onEditStart:Z,onEditEnd:de,transient:Me})=>{F.push($),q?(U[$]=q,Me||D.push($)):D.push($),Z&&(H[$]=Z),de&&(W[$]=de)}),[F,D,U,H,W]},[y]),T=L.exports.useMemo(()=>_.orderPaths(v),[v,_]),P=$G(_,S,w),k=L.exports.useCallback(F=>{const D=Object.entries(F).reduce((U,[H,W])=>Object.assign(U,{[y[H].path]:W}),{});_.set(D,!1)},[_,y]);return L.exports.useEffect(()=>{const F=!d.current&&p.current;return _.addData(w,F),d.current=!1,p.current=!1,()=>_.disposePaths(T)},[_,T,w]),L.exports.useEffect(()=>{const F=[];return Object.entries(M).forEach(([D,U])=>{U(_.get(D),D,nt({initial:!0,get:_.get},_.getInput(D)));const H=_.useStore.subscribe(W=>{const $=W.data[D];return[$.disabled?void 0:$.value,$]},([W,$])=>U(W,D,nt({initial:!1,get:_.get},$)),{equalityFn:Of});F.push(H)}),()=>F.forEach(D=>D())},[_,M]),L.exports.useEffect(()=>{const F=[];return Object.entries(C).forEach(([D,U])=>F.push(_.subscribeToEditStart(D,U))),Object.entries(A).forEach(([D,U])=>F.push(_.subscribeToEditEnd(D,U))),()=>F.forEach(D=>D())},[C,A,_]),h?[P,k]:P}co(ai.SELECT,R6);co(ai.IMAGE,bW);co(ai.NUMBER,x6);co(ai.COLOR,nW);co(ai.STRING,N6);co(ai.BOOLEAN,G6);co(ai.INTERVAL,DW);co(ai.VECTOR3D,iW);co(ai.VECTOR2D,dW);var Ym={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;

		}`};class qf{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const _8=new ri(-1,1,1,-1,0,1),t1=new Qe;t1.setAttribute("position",new Ve([-1,3,0,-1,-1,0,3,-1,0],3));t1.setAttribute("uv",new Ve([0,2,0,0,2,0],2));class lP{constructor(e){this._mesh=new un(t1,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,_8)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class uP extends qf{constructor(e,t){super();this.textureID=t!==void 0?t:"tDiffuse",e instanceof ir?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=nf.clone(e.uniforms),this.material=new ir({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new lP(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class cP extends qf{constructor(e,t){super();this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0);let s,a;this.inverse?(s=0,a=1):(s=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,s,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}}class w8 extends qf{constructor(){super();this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class k8{constructor(e,t){if(this.renderer=e,t===void 0){const r={minFilter:Zt,magFilter:Zt,format:xn},i=e.getSize(new se);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,t=new Hn(this._width*this._pixelRatio,this._height*this._pixelRatio,r),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],Ym===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),uP===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new uP(Ym),this.clock=new pm}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let i=0,o=this.passes.length;i<o;i++){const s=this.passes[i];if(s.enabled!==!1){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),s.needsSwap){if(r){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}cP!==void 0&&(s instanceof cP?r=!0:s instanceof w8&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new se);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new ri(-1,1,1,-1,0,1);const fP=new Qe;fP.setAttribute("position",new Ve([-1,3,0,-1,-1,0,3,-1,0],3));fP.setAttribute("uv",new Ve([0,2,0,0,2,0],2));class O8 extends qf{constructor(e,t,r,i,o){super();this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=o!==void 0?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Le}render(e,t,r){const i=e.autoClear;e.autoClear=!1;let o,s;this.overrideMaterial!==void 0&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,o),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=s),e.autoClear=i}}const dP={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Le(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			vec3 luma = vec3( 0.299, 0.587, 0.114 );

			float v = dot( texel.xyz, luma );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Xf extends qf{constructor(e,t,r,i){super();this.strength=t!==void 0?t:1,this.radius=r,this.threshold=i,this.resolution=e!==void 0?new se(e.x,e.y):new se(256,256),this.clearColor=new Le(0,0,0);const o={minFilter:Zt,magFilter:Zt,format:xn};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new Hn(s,a,o),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let d=0;d<this.nMips;d++){const m=new Hn(s,a,o);m.texture.name="UnrealBloomPass.h"+d,m.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(m);const x=new Hn(s,a,o);x.texture.name="UnrealBloomPass.v"+d,x.texture.generateMipmaps=!1,this.renderTargetsVertical.push(x),s=Math.round(s/2),a=Math.round(a/2)}dP===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const l=dP;this.highPassUniforms=nf.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new ir({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const f=[3,5,7,9,11];s=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let d=0;d<this.nMips;d++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(f[d])),this.separableBlurMaterials[d].uniforms.texSize.value=new se(s,a),s=Math.round(s/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const h=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=h,this.bloomTintColors=[new I(1,1,1),new I(1,1,1),new I(1,1,1),new I(1,1,1),new I(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,Ym===void 0&&console.error("THREE.UnrealBloomPass relies on CopyShader");const p=Ym;this.copyUniforms=nf.clone(p.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new ir({uniforms:this.copyUniforms,vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,blending:ep,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Le,this.oldClearAlpha=1,this.basic=new wi,this.fsQuad=new lP(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let r=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(r,i);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(r,i),this.renderTargetsVertical[o].setSize(r,i),this.separableBlurMaterials[o].uniforms.texSize.value=new se(r,i),r=Math.round(r/2),i=Math.round(i/2)}render(e,t,r,i,o){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const s=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=Xf.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Xf.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=s}getSeperableBlurMaterial(e){return new ir({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new se(.5,.5)},direction:{value:new se(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new ir({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform sampler2D dirtTexture;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Xf.BlurDirectionX=new se(1,0);Xf.BlurDirectionY=new se(0,1);export{A8 as B,E8 as C,k8 as E,wa as F,T8 as O,O8 as R,Xf as U,ne as a,C8 as b,ft as c,Ri as d,b8 as e,iA as f,Ob as g,ct as j,D8 as u};
